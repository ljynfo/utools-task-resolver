var nanoJSX;
/******/ (function() { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/bundles/bundle.full.ts":
/*!************************************!*\
  !*** ./src/bundles/bundle.full.ts ***!
  \************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.VERSION = exports.printVersion = void 0;
// core
const core_1 = __webpack_require__(/*! ../core */ "./src/core.ts");
const lazy_1 = __webpack_require__(/*! ../lazy */ "./src/lazy.ts");
const helpers_1 = __webpack_require__(/*! ../helpers */ "./src/helpers.ts");
// useful tools
const component_1 = __webpack_require__(/*! ../component */ "./src/component.ts");
const fragment_1 = __webpack_require__(/*! ../fragment */ "./src/fragment.ts");
const store_1 = __webpack_require__(/*! ../store */ "./src/store.ts");
const context_1 = __webpack_require__(/*! ../context */ "./src/context.ts");
// built-in components
const helmet_1 = __webpack_require__(/*! ../components/helmet */ "./src/components/helmet.ts");
const link_1 = __webpack_require__(/*! ../components/link */ "./src/components/link.ts");
const img_1 = __webpack_require__(/*! ../components/img */ "./src/components/img.ts");
const visible_1 = __webpack_require__(/*! ../components/visible */ "./src/components/visible.ts");
// tagged templates
const jsx_1 = __webpack_require__(/*! ../jsx */ "./src/jsx.ts");
// ui
const UI = __importStar(__webpack_require__(/*! ../ui/index */ "./src/ui/index.ts"));
exports.default = {
    createContext: context_1.createContext,
    h: core_1.h,
    hydrate: core_1.hydrate,
    hydrateLazy: lazy_1.hydrateLazy,
    jsx: jsx_1.jsx,
    nodeToString: helpers_1.nodeToString,
    removeAllChildNodes: core_1.removeAllChildNodes,
    render: core_1.render,
    tick: core_1.tick,
    task: helpers_1.task,
    Component: component_1.Component,
    Fragment: fragment_1.Fragment,
    Helmet: helmet_1.Helmet,
    Img: img_1.Img,
    Link: link_1.Link,
    Store: store_1.Store,
    Visible: visible_1.Visible,
    UI
};
// version
var helpers_2 = __webpack_require__(/*! ../helpers */ "./src/helpers.ts");
Object.defineProperty(exports, "printVersion", ({ enumerable: true, get: function () { return helpers_2.printVersion; } }));
var version_1 = __webpack_require__(/*! ../version */ "./src/version.ts");
Object.defineProperty(exports, "VERSION", ({ enumerable: true, get: function () { return version_1.VERSION; } }));


/***/ }),

/***/ "./src/component.ts":
/*!**************************!*\
  !*** ./src/component.ts ***!
  \**************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Component = void 0;
const helpers_1 = __webpack_require__(/*! ./helpers */ "./src/helpers.ts");
const core_1 = __webpack_require__(/*! ./core */ "./src/core.ts");
const state_1 = __webpack_require__(/*! ./state */ "./src/state.ts");
class Component {
    constructor(props) {
        this._elements = [];
        this._skipUnmount = false;
        this._hasUnmounted = false;
        this.props = props || {};
        this.id = this._getHash();
    }
    static isClass() {
        return true;
    }
    setState(state, shouldUpdate = false) {
        const isObject = typeof state === 'object' && state !== null;
        // if state is an object, we merge the objects
        if (isObject && this.state !== undefined)
            this.state = Object.assign(Object.assign({}, this.state), state);
        // else, we just overwrite it
        else
            this.state = state;
        if (shouldUpdate)
            this.update();
    }
    set state(state) {
        state_1._state.set(this.id, state);
    }
    get state() {
        return state_1._state.get(this.id);
    }
    set initState(state) {
        if (this.state === undefined)
            this.state = state;
    }
    /** Returns all currently rendered node elements */
    get elements() {
        return this._elements;
    }
    set elements(elements) {
        if (!Array.isArray(elements))
            elements = [elements];
        elements.forEach(element => {
            this._elements.push(element);
        });
    }
    _addNodeRemoveListener() {
        // check if didUnmount is unused
        if (/^[^{]+{\s+}$/gm.test(this.didUnmount.toString()))
            return;
        // listen if the root elements gets removed
        helpers_1.onNodeRemove(this.elements[0], () => {
            if (!this._skipUnmount)
                this._didUnmount();
        });
    }
    // @ts-ignore
    _didMount() {
        this._addNodeRemoveListener();
        this.didMount();
    }
    _didUnmount() {
        if (this._hasUnmounted)
            return;
        this.didUnmount();
        this._hasUnmounted = true;
    }
    willMount() { }
    didMount() { }
    didUnmount() { }
    render(_update) { }
    /** Will forceRender the component */
    update(update) {
        this._skipUnmount = true;
        // get all current rendered node elements
        const oldElements = [...this.elements];
        // clear
        this._elements = [];
        let el = this.render(update);
        el = core_1._render(el);
        this.elements = el;
        // console.log('old: ', oldElements)
        // console.log('new: ', this.elements)
        // get valid parent node
        const parent = oldElements[0].parentElement;
        // make sure we have a parent
        if (!parent)
            console.warn('Component needs a parent element to get updated!');
        // add all new node elements
        this.elements.forEach((child) => {
            parent.insertBefore(child, oldElements[0]);
        });
        // remove all elements
        oldElements.forEach((child) => {
            child.remove();
            // @ts-ignore
            child = null;
        });
        // listen for node removal
        this._addNodeRemoveListener();
        core_1.tick(() => {
            this._skipUnmount = false;
            if (!this.elements[0].isConnected)
                this._didUnmount();
        });
    }
    _getHash() { }
}
exports.Component = Component;


/***/ }),

/***/ "./src/components/helmet.ts":
/*!**********************************!*\
  !*** ./src/components/helmet.ts ***!
  \**********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Helmet = void 0;
const component_1 = __webpack_require__(/*! ../component */ "./src/component.ts");
const core_1 = __webpack_require__(/*! ../core */ "./src/core.ts");
class Helmet extends component_1.Component {
    static SSR(body) {
        const reg = /(<helmet\b[^>]*>)((.|\n)*?)(<\/helmet>)/gm;
        // collect all elements
        const head = [];
        const footer = [];
        // get what's in the head
        if (typeof document !== 'undefined' && document.head) {
            let children = [];
            // @ts-ignore
            children = document.head.children;
            for (let i = 0; i < children.length; i++) {
                // check if the same element already exists
                if (head.indexOf(children[i]) === -1) {
                    head.push(children[i]);
                }
            }
        }
        let result;
        while ((result = reg.exec(body)) !== null) {
            const first = result[1];
            const second = result[2];
            const toHead = first.includes('data-placement="head"');
            // do not add an element if it already exists
            if (toHead && !head.includes(second))
                head.push(second);
            else if (!footer.includes(second))
                footer.push(second);
        }
        // clean the body from all matches
        const cleanBody = body.replace(reg, '');
        return { body: cleanBody, head, footer };
    }
    didMount() {
        this.props.children.forEach((element) => {
            var _a, _b, _c, _d;
            const parent = this.props.footer ? document.body : document.head;
            const tag = element.tagName;
            let attrs = [];
            // get the inner text
            attrs.push(element.innerText);
            // get all attributes
            for (let attr = 0; attr < element.attributes.length; attr++) {
                attrs.push((_a = element.attributes.item(attr)) === null || _a === void 0 ? void 0 : _a.name.toLowerCase());
                attrs.push((_b = element.attributes.item(attr)) === null || _b === void 0 ? void 0 : _b.value.toLowerCase());
            }
            // handle special tags
            if (tag === 'HTML' || tag === 'BODY') {
                const htmlTag = document.getElementsByTagName(tag)[0];
                for (let attr = 1; attr < attrs.length; attr += 2) {
                    htmlTag.setAttribute(attrs[attr], attrs[attr + 1]);
                }
                return;
            }
            else if (tag === 'TITLE') {
                const titleTags = document.getElementsByTagName('TITLE');
                if (titleTags.length > 0) {
                    const e = element;
                    titleTags[0].text = e.text;
                }
                else {
                    const titleTag = core_1.h('title', null, element.innerHTML);
                    parent.appendChild(titleTag);
                }
                return;
            }
            // check if the element already exists
            let exists = false;
            attrs = attrs.sort();
            const el = document.getElementsByTagName(tag);
            for (let i = 0; i < el.length; i++) {
                let attrs2 = [];
                // get the inner text
                attrs2.push(el[i].innerText);
                for (let attr = 0; attr < el[i].attributes.length; attr++) {
                    attrs2.push((_c = el[i].attributes.item(attr)) === null || _c === void 0 ? void 0 : _c.name.toLowerCase());
                    attrs2.push((_d = el[i].attributes.item(attr)) === null || _d === void 0 ? void 0 : _d.value.toLowerCase());
                }
                attrs2 = attrs2.sort();
                if (attrs.length > 0 && attrs2.length > 0 && JSON.stringify(attrs) === JSON.stringify(attrs2))
                    exists = true;
            }
            // add to dom
            if (!exists)
                core_1.appendChildren(parent, element);
        });
    }
    render() {
        const placement = this.props.footer ? 'footer' : 'head';
        // @ts-ignore
        const ssr = globalThis && globalThis.isSSR ? true : false;
        if (ssr)
            return core_1.h('helmet', { 'data-ssr': true, 'data-placement': placement }, this.props.children);
        else
            return [];
    }
}
exports.Helmet = Helmet;


/***/ }),

/***/ "./src/components/img.ts":
/*!*******************************!*\
  !*** ./src/components/img.ts ***!
  \*******************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __rest = (this && this.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Img = void 0;
const component_1 = __webpack_require__(/*! ../component */ "./src/component.ts");
const core_1 = __webpack_require__(/*! ../core */ "./src/core.ts");
class Img extends component_1.Component {
    constructor(props) {
        super(props);
        const { src, key } = props;
        // id has to be unique
        this.id = `${core_1.strToHash(src)}-${core_1.strToHash(JSON.stringify(props))}`;
        if (key)
            this.id += `key-${key}`;
        // this could also be done in willMount()
        if (!this.state)
            this.setState({ isLoaded: false, image: undefined });
    }
    didMount() {
        const _a = this.props, { lazy = true, placeholder, children, key, ref } = _a, rest = __rest(_a, ["lazy", "placeholder", "children", "key", "ref"]);
        if (typeof lazy === 'boolean' && lazy === false)
            return;
        const observer = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    observer.disconnect();
                    this.state.image = core_1.h('img', Object.assign({}, rest));
                    if (this.state.image.complete) {
                        this.state.isLoaded = true;
                        this.update();
                    }
                    else {
                        this.state.image.onload = () => {
                            this.state.isLoaded = true;
                            this.update();
                        };
                    }
                }
            });
        }, { threshold: [0, 1] });
        observer.observe(this.elements[0]);
    }
    render() {
        const _a = this.props, { src, placeholder, children, lazy = true, key, ref } = _a, rest = __rest(_a, ["src", "placeholder", "children", "lazy", "key", "ref"]);
        // return the img tag if not lazy loaded
        if (typeof lazy === 'boolean' && lazy === false) {
            this.state.image = core_1.h('img', Object.assign({ src }, rest));
            return this.state.image;
        }
        // if it is visible and loaded, show the image
        if (this.state.isLoaded) {
            return this.state.image;
            // if the placeholder is an image src
        }
        else if (placeholder && typeof placeholder === 'string') {
            return core_1.h('img', Object.assign({ src: placeholder }, rest));
            // if the placeholder is an JSX element
        }
        else if (placeholder && typeof placeholder === 'function') {
            return placeholder();
        }
        else {
            // render a simple box
            const style = {};
            if (rest.width)
                style.width = `${rest.width}px`;
            if (rest.height)
                style.height = `${rest.height}px`;
            const { width, height } = rest, others = __rest(rest, ["width", "height"]);
            return core_1.h('div', Object.assign({ style }, others));
        }
    }
}
exports.Img = Img;


/***/ }),

/***/ "./src/components/link.ts":
/*!********************************!*\
  !*** ./src/components/link.ts ***!
  \********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __rest = (this && this.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Link = void 0;
const component_1 = __webpack_require__(/*! ../component */ "./src/component.ts");
const helmet_1 = __webpack_require__(/*! ./helmet */ "./src/components/helmet.ts");
const core_1 = __webpack_require__(/*! ../core */ "./src/core.ts");
const fragment_1 = __webpack_require__(/*! ../fragment */ "./src/fragment.ts");
/**
 * A simple Link component
 * Add <Link prefetch ..., to prefetch the html document
 * Add <Link prefetch="hover" ..., to prefetch the html document on hovering over the link element.
 */
class Link extends component_1.Component {
    prefetchOnHover() {
        this.elements[0].addEventListener('mouseover', () => this.addPrefetch(), { once: true });
    }
    prefetchOnVisible() {
        const observer = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    observer.disconnect();
                    this.addPrefetch();
                }
            });
        }, { threshold: [0, 1] });
        observer.observe(this.elements[0]);
    }
    addPrefetch() {
        let doesAlreadyExist = false;
        // check if it is already on the dom
        const links = document.getElementsByTagName('link');
        for (let i = 0; i < links.length; i++) {
            // if it is not already on the dom, add it
            if (links[i].getAttribute('rel') === 'prefetch' && links[i].getAttribute('href') === this.props.href) {
                doesAlreadyExist = true;
            }
        }
        if (!doesAlreadyExist) {
            const prefetch = core_1.h('link', { rel: 'prefetch', href: this.props.href, as: 'document' });
            document.head.appendChild(prefetch);
        }
    }
    didMount() {
        const { href, prefetch, delay = 0, back = false } = this.props;
        if (back)
            this.elements[0].addEventListener('click', (e) => {
                e.preventDefault();
                const target = e.target;
                if (target.href === document.referrer)
                    window.history.back();
                else
                    window.location.href = target.href;
            });
        if (delay > 0)
            this.elements[0].addEventListener('click', (e) => {
                e.preventDefault();
                setTimeout(() => (window.location.href = href), delay);
            });
        if (prefetch) {
            if (prefetch === 'hover')
                this.prefetchOnHover();
            else if (prefetch === 'visible')
                this.prefetchOnVisible();
            else
                this.addPrefetch();
        }
    }
    render() {
        // separate children and prefetch from props
        const _a = this.props, { children, prefetch, back, ref } = _a, rest = __rest(_a, ["children", "prefetch", "back", "ref"]);
        // some warning messages
        if (!this.props.href)
            console.warn('Please add "href" to <Link>');
        if (children.length !== 1)
            console.warn('Please add ONE child to <Link> (<Link>child</Link>)');
        const a = core_1.h('a', Object.assign({}, rest), ...children);
        // if ssr
        if (prefetch === true && !(typeof window !== 'undefined' && window.document)) {
            // <link rel="prefetch" href="/index.html" as="document"></link>
            const link = core_1.h('link', { rel: 'prefetch', href: this.props.href, as: 'document' });
            const helmet = core_1.h(helmet_1.Helmet, null, link);
            return core_1.h(fragment_1.Fragment, null, [helmet, a]);
        }
        // if not ssr
        else {
            return a;
        }
    }
}
exports.Link = Link;


/***/ }),

/***/ "./src/components/visible.ts":
/*!***********************************!*\
  !*** ./src/components/visible.ts ***!
  \***********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Visible = void 0;
const core_1 = __webpack_require__(/*! ../core */ "./src/core.ts");
const component_1 = __webpack_require__(/*! ../component */ "./src/component.ts");
class Visible extends component_1.Component {
    constructor() {
        super(...arguments);
        this.isVisible = false;
    }
    didMount() {
        const observer = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    observer.disconnect();
                    this.isVisible = true;
                    this.update();
                }
            });
        }, { threshold: [0, 1] });
        observer.observe(this.elements[0]);
    }
    render() {
        if (!this.isVisible) {
            return core_1.h('div', { 'data-visible': false, visibility: 'hidden' });
        }
        else {
            if (this.props.onVisible)
                this.props.onVisible();
            return core_1.render(this.props.component || this.props.children[0]);
        }
    }
}
exports.Visible = Visible;


/***/ }),

/***/ "./src/context.ts":
/*!************************!*\
  !*** ./src/context.ts ***!
  \************************/
/***/ (function(__unused_webpack_module, exports) {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.createContext = void 0;
const createContext = (ctx) => {
    let _ctx = ctx;
    return {
        Provider: (props) => {
            if (props.value)
                _ctx = props.value;
            return props.children;
        },
        Consumer: (props) => {
            return { component: props.children[0](_ctx), props: Object.assign(Object.assign({}, props), { context: _ctx }) };
        },
        get: () => _ctx,
        set: (ctx) => (_ctx = ctx)
    };
};
exports.createContext = createContext;


/***/ }),

/***/ "./src/core.ts":
/*!*********************!*\
  !*** ./src/core.ts ***!
  \*********************/
/***/ (function(__unused_webpack_module, exports) {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.h = exports.renderComponent = exports._render = exports.render = exports.hydrate = exports.appendChildren = exports.strToHash = exports.removeAllChildNodes = exports.tick = void 0;
/** Creates a new Microtask using Promise() */
exports.tick = typeof Promise == 'function' ? Promise.prototype.then.bind(Promise.resolve()) : setTimeout;
// const isDOMElement = (element: any) => {
//   return element && element.tagName && typeof element.tagName === 'string'
// }
const removeAllChildNodes = (parent) => {
    while (parent.firstChild) {
        parent.removeChild(parent.firstChild);
    }
};
exports.removeAllChildNodes = removeAllChildNodes;
// https://stackoverflow.com/a/7616484/12656855
const strToHash = (s) => {
    let hash = 0;
    for (let i = 0; i < s.length; i++) {
        const chr = s.charCodeAt(i);
        hash = (hash << 5) - hash + chr;
        hash |= 0; // Convert to 32bit integer
    }
    return Math.abs(hash).toString(32);
};
exports.strToHash = strToHash;
const appendChildren = (element, children) => {
    // if the child is an html element
    if (!Array.isArray(children)) {
        exports.appendChildren(element, [children]);
        return;
    }
    // htmlCollection to array
    if (typeof children === 'object')
        children = Array.prototype.slice.call(children);
    children.forEach((child) => {
        // if child is an array of children, append them instead
        if (Array.isArray(child))
            exports.appendChildren(element, child);
        else {
            // render the component
            const c = exports._render(child);
            if (typeof c !== 'undefined') {
                // if c is an array of children, append them instead
                if (Array.isArray(c))
                    exports.appendChildren(element, c);
                // apply the component to parent element
                else
                    element.appendChild(c.nodeType == null ? document.createTextNode(c.toString()) : c);
            }
        }
    });
};
exports.appendChildren = appendChildren;
/**
 * A simple component for rendering SVGs
 */
const SVG = (props) => {
    const child = props.children[0];
    const attrs = child.attributes;
    const svg = hNS('svg');
    for (let i = attrs.length - 1; i >= 0; i--) {
        svg.setAttribute(attrs[i].name, attrs[i].value);
    }
    svg.innerHTML = child.innerHTML;
    return svg;
};
const hydrate = (component, parent = null, removeChildNodes = true) => {
    return exports.render(component, parent, removeChildNodes);
};
exports.hydrate = hydrate;
/** Returns the populated parent if available else  one child or an array of children */
const render = (component, parent = null, removeChildNodes = true) => {
    let el = exports._render(component);
    if (Array.isArray(el)) {
        el = el.map(e => exports._render(e));
        if (el.length === 1)
            el = el[0];
    }
    if (parent) {
        if (removeChildNodes)
            exports.removeAllChildNodes(parent);
        // if parent and child are the same, we replace the parent instead of appending to it
        if (el && parent.id && parent.id === el.id && parent.parentElement) {
            parent.parentElement.replaceChild(el, parent);
        }
        else {
            // append element(s) to the parent
            if (Array.isArray(el))
                el.forEach((e) => {
                    exports.appendChildren(parent, exports._render(e));
                    //parent.appendChild(_render(e))
                });
            else
                exports.appendChildren(parent, exports._render(el));
        }
        // @ts-ignore
        if (parent.ssr)
            return parent.ssr;
        return parent;
    }
    // returning one child or an array of children
    else {
        if (typeof isSSR === 'boolean' && isSSR === true && !Array.isArray(el))
            return [el];
        return el;
    }
};
exports.render = render;
const _render = (comp) => {
    // undefined
    if (typeof comp === 'undefined')
        return [];
    // null
    if (comp == null)
        return [];
    // string
    if (typeof comp === 'string')
        return comp;
    // number
    if (typeof comp === 'number')
        return comp.toString();
    // SVGElement
    if (comp.tagName && comp.tagName.toLowerCase() === 'svg')
        return SVG({ children: [comp] });
    // HTMLElement
    if (comp.tagName)
        return comp;
    // Class Component
    if (comp && comp.component && comp.component.isClass && comp.component.isClass())
        return renderClassComponent(comp);
    // Functional Component
    if (comp.component && typeof comp.component === 'function')
        return renderFunctionalComponent(comp);
    // Array (render each child and return the array) (is probably a fragment)
    if (Array.isArray(comp))
        return comp.map(c => exports._render(c)).flat();
    // function
    if (typeof comp === 'function')
        return exports._render(comp());
    // if component is a HTMLElement (rare case)
    if (comp.component && comp.component.tagName && typeof comp.component.tagName === 'string')
        return exports._render(comp.component);
    // (rare case)
    if (Array.isArray(comp.component))
        return exports._render(comp.component);
    // (rare case)
    if (comp.component)
        return exports._render(comp.component);
    // object
    if (typeof comp === 'object')
        return [];
    console.warn('Something unexpected happened with:', comp);
};
exports._render = _render;
const renderFunctionalComponent = (fncComp) => {
    const { component, props } = fncComp;
    return exports._render(component(props));
};
const renderClassComponent = (classComp) => {
    const { component, props } = classComp;
    // calc hash
    const hash = exports.strToHash(component.toString());
    // make hash accessible in constructor, without passing it to it
    component.prototype._getHash = () => hash;
    const Component = new component(props);
    Component.willMount();
    let el = Component.render();
    el = exports._render(el);
    Component.elements = el;
    // pass the component instance as ref
    if (props && props.ref)
        props.ref(Component);
    if (typeof isSSR === 'undefined')
        exports.tick(() => {
            Component._didMount();
        });
    return el;
};
/** @deprecated renderComponent() is deprecated, use _render() instead! */
const renderComponent = (_component) => {
    console.warn('DEPRECATED: renderComponent() is deprecated, use _render() instead!');
    // this fixes some ssr issues when using fragments
    // if (typeof isSSR === 'boolean' && isSSR === true && Array.isArray(el)) {
    //   el = el
    //     .map((e) => {
    //       return _render(e)
    //     })
    //     .join('')
    // }
};
exports.renderComponent = renderComponent;
const hNS = (tag) => document.createElementNS('http://www.w3.org/2000/svg', tag);
// https://stackoverflow.com/a/42405694/12656855
const h = (tagNameOrComponent, props, ...children) => {
    // if tagNameOrComponent is a component
    if (typeof tagNameOrComponent !== 'string')
        return { component: tagNameOrComponent, props: Object.assign(Object.assign({}, props), { children: children }) };
    let ref;
    const element = tagNameOrComponent === 'svg'
        ? hNS('svg')
        : document.createElement(tagNameOrComponent);
    // check if the element includes the event (for example 'oninput')
    const isEvent = (el, p) => {
        // check if the event begins with 'on'
        if (0 !== p.indexOf('on'))
            return false;
        // we return true if SSR, since otherwise it will get rendered
        if (el.ssr)
            return true;
        // check if the event is present in the element as object (null) or as function
        return typeof el[p] === 'object' || typeof el[p] === 'function';
    };
    for (const p in props) {
        // https://stackoverflow.com/a/45205645/12656855
        // style object to style string
        if (p === 'style' && typeof props[p] === 'object') {
            const styles = Object.keys(props[p])
                .map(k => `${k}:${props[p][k]}`)
                .join(';')
                .replace(/[A-Z]/g, match => `-${match.toLowerCase()}`);
            props[p] = `${styles};`;
        }
        // handel ref
        if (p === 'ref')
            ref = props[p];
        // handle events
        else if (isEvent(element, p.toLowerCase()))
            element.addEventListener(p.toLowerCase().substring(2), (e) => props[p](e));
        else if (/className/i.test(p))
            console.warn('You can use "class" instead of "className".');
        else
            element.setAttribute(p, props[p]);
    }
    exports.appendChildren(element, children);
    if (ref)
        ref(element);
    // @ts-ignore
    if (element.ssr)
        return element.ssr;
    return element;
};
exports.h = h;


/***/ }),

/***/ "./src/fragment.ts":
/*!*************************!*\
  !*** ./src/fragment.ts ***!
  \*************************/
/***/ (function(__unused_webpack_module, exports) {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Fragment = void 0;
const Fragment = (props) => {
    return props.children;
};
exports.Fragment = Fragment;


/***/ }),

/***/ "./src/helpers.ts":
/*!************************!*\
  !*** ./src/helpers.ts ***!
  \************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.printVersion = exports.onNodeRemove = exports.nodeToString = exports.task = void 0;
const version_1 = __webpack_require__(/*! ./version */ "./src/version.ts");
/** Creates a new Task using setTimeout() */
const task = (task) => setTimeout(task, 0);
exports.task = task;
const nodeToString = (node) => {
    const tmpNode = document.createElement('div');
    tmpNode.appendChild(node.cloneNode(true));
    return tmpNode.innerHTML;
};
exports.nodeToString = nodeToString;
const isDescendant = (desc, root) => {
    return !!desc && (desc === root || isDescendant(desc.parentNode, root));
};
// https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver
const onNodeRemove = (element, callback) => {
    let observer = new MutationObserver(mutationsList => {
        mutationsList.forEach(mutation => {
            mutation.removedNodes.forEach(removed => {
                if (isDescendant(element, removed)) {
                    callback();
                    if (observer) {
                        // allow garbage collection
                        observer.disconnect();
                        // @ts-ignore
                        observer = undefined;
                    }
                }
            });
        });
    });
    observer.observe(document, {
        childList: true,
        subtree: true
    });
    return observer;
};
exports.onNodeRemove = onNodeRemove;
const printVersion = () => {
    const info = `Powered by nano JSX v${version_1.VERSION}`;
    console.log(`%c %c %c %c %c ${info} %c http://nanojsx.io`, 'background: #ff0000', 'background: #ffff00', 'background: #00ff00', 'background: #00ffff', 'color: #fff; background: #000000;', 'background: none');
};
exports.printVersion = printVersion;


/***/ }),

/***/ "./src/htm.ts":
/*!********************!*\
  !*** ./src/htm.ts ***!
  \********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const index_1 = __importDefault(__webpack_require__(/*! ./htm/index */ "./src/htm/index.ts"));
exports.default = index_1.default;


/***/ }),

/***/ "./src/htm/build.ts":
/*!**************************!*\
  !*** ./src/htm/build.ts ***!
  \**************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.build = exports.evaluate = exports.treeify = void 0;
const constants_1 = __webpack_require__(/*! ./constants */ "./src/htm/constants.ts");
const MODE_SLASH = 0;
const MODE_TEXT = 1;
const MODE_WHITESPACE = 2;
const MODE_TAGNAME = 3;
const MODE_COMMENT = 4;
const MODE_PROP_SET = 5;
const MODE_PROP_APPEND = 6;
const CHILD_APPEND = 0;
const CHILD_RECURSE = 2;
const TAG_SET = 3;
const PROPS_ASSIGN = 4;
const PROP_SET = MODE_PROP_SET;
const PROP_APPEND = MODE_PROP_APPEND;
// Turn a result of a build(...) call into a tree that is more
// convenient to analyze and transform (e.g. Babel plugins).
// For example:
// 	treeify(
//		build'<div href="1${a}" ...${b}><${x} /></div>`,
//		[X, Y, Z]
//	)
// returns:
// 	{
// 		tag: 'div',
//		props: [ { href: ["1", X] },	Y ],
// 		children: [ { tag: Z, props: [], children: [] } ]
// 	}
const treeify = (built, fields) => {
    const _treeify = (built) => {
        let tag = '';
        let currentProps = null;
        const props = [];
        const children = [];
        for (let i = 1; i < built.length; i++) {
            const type = built[i++];
            const value = built[i] ? fields[built[i++] - 1] : built[++i];
            if (type === TAG_SET) {
                tag = value;
            }
            else if (type === PROPS_ASSIGN) {
                props.push(value);
                currentProps = null;
            }
            else if (type === PROP_SET) {
                if (!currentProps) {
                    currentProps = Object.create(null);
                    props.push(currentProps);
                }
                currentProps[built[++i]] = [value];
            }
            else if (type === PROP_APPEND) {
                currentProps[built[++i]].push(value);
            }
            else if (type === CHILD_RECURSE) {
                children.push(_treeify(value));
            }
            else if (type === CHILD_APPEND) {
                children.push(value);
            }
        }
        return { tag, props, children };
    };
    const { children } = _treeify(built);
    return children.length > 1 ? children : children[0];
};
exports.treeify = treeify;
const evaluate = (h, built, fields, args) => {
    let tmp;
    // `build()` used the first element of the operation list as
    // temporary workspace. Now that `build()` is done we can use
    // that space to track whether the current element is "dynamic"
    // (i.e. it or any of its descendants depend on dynamic values).
    built[0] = 0;
    for (let i = 1; i < built.length; i++) {
        const type = built[i++];
        // Set `built[0]`'s appropriate bits if this element depends on a dynamic value.
        const value = built[i] ? ((built[0] |= type ? 1 : 2), fields[built[i++]]) : built[++i];
        if (type === TAG_SET) {
            args[0] = value;
        }
        else if (type === PROPS_ASSIGN) {
            args[1] = Object.assign(args[1] || {}, value);
        }
        else if (type === PROP_SET) {
            ;
            (args[1] = args[1] || {})[built[++i]] = value;
        }
        else if (type === PROP_APPEND) {
            args[1][built[++i]] += `${value}`;
        }
        else if (type) {
            // type === CHILD_RECURSE
            // Set the operation list (including the staticness bits) as
            // `this` for the `h` call.
            tmp = h.apply(value, exports.evaluate(h, value, fields, ['', null]));
            args.push(tmp);
            if (value[0]) {
                // Set the 2nd lowest bit it the child element is dynamic.
                built[0] |= 2;
            }
            else {
                // Rewrite the operation list in-place if the child element is static.
                // The currently evaluated piece `CHILD_RECURSE, 0, [...]` becomes
                // `CHILD_APPEND, 0, tmp`.
                // Essentially the operation list gets optimized for potential future
                // re-evaluations.
                built[i - 2] = CHILD_APPEND;
                built[i] = tmp;
            }
        }
        else {
            // type === CHILD_APPEND
            args.push(value);
        }
    }
    return args;
};
exports.evaluate = evaluate;
const build = function (statics, ...rest) {
    const fields = [statics, ...rest];
    // @ts-ignore
    const h = this;
    let mode = MODE_TEXT;
    let buffer = '';
    let quote = '';
    let current = [0];
    let char;
    let propName;
    const commit = (field) => {
        if (mode === MODE_TEXT && (field || (buffer = buffer.replace(/^\s*\n\s*|\s*\n\s*$/g, '')))) {
            if (constants_1.MINI) {
                current.push(field ? fields[field] : buffer);
            }
            else {
                current.push(CHILD_APPEND, field, buffer);
            }
        }
        else if (mode === MODE_TAGNAME && (field || buffer)) {
            if (constants_1.MINI) {
                current[1] = field ? fields[field] : buffer;
            }
            else {
                current.push(TAG_SET, field, buffer);
            }
            mode = MODE_WHITESPACE;
        }
        else if (mode === MODE_WHITESPACE && buffer === '...' && field) {
            if (constants_1.MINI) {
                current[2] = Object.assign(current[2] || {}, fields[field]);
            }
            else {
                current.push(PROPS_ASSIGN, field, 0);
            }
        }
        else if (mode === MODE_WHITESPACE && buffer && !field) {
            if (constants_1.MINI) {
                ;
                (current[2] = current[2] || {})[buffer] = true;
            }
            else {
                current.push(PROP_SET, 0, true, buffer);
            }
        }
        else if (mode >= MODE_PROP_SET) {
            if (constants_1.MINI) {
                if (mode === MODE_PROP_SET) {
                    ;
                    (current[2] = current[2] || {})[propName] = field
                        ? buffer
                            ? buffer + fields[field]
                            : fields[field]
                        : buffer;
                    mode = MODE_PROP_APPEND;
                }
                else if (field || buffer) {
                    current[2][propName] += field ? buffer + fields[field] : buffer;
                }
            }
            else {
                if (buffer || (!field && mode === MODE_PROP_SET)) {
                    current.push(mode, 0, buffer, propName);
                    mode = MODE_PROP_APPEND;
                }
                if (field) {
                    current.push(mode, field, 0, propName);
                    mode = MODE_PROP_APPEND;
                }
            }
        }
        buffer = '';
    };
    for (let i = 0; i < statics.length; i++) {
        if (i) {
            if (mode === MODE_TEXT) {
                commit();
            }
            commit(i);
        }
        for (let j = 0; j < statics[i].length; j++) {
            char = statics[i][j];
            if (mode === MODE_TEXT) {
                if (char === '<') {
                    // commit buffer
                    commit();
                    if (constants_1.MINI) {
                        current = [current, '', null];
                    }
                    else {
                        current = [current];
                    }
                    mode = MODE_TAGNAME;
                }
                else {
                    buffer += char;
                }
            }
            else if (mode === MODE_COMMENT) {
                // Ignore everything until the last three characters are '-', '-' and '>'
                if (buffer === '--' && char === '>') {
                    mode = MODE_TEXT;
                    buffer = '';
                }
                else {
                    buffer = char + buffer[0];
                }
            }
            else if (quote) {
                if (char === quote) {
                    quote = '';
                }
                else {
                    buffer += char;
                }
            }
            else if (char === '"' || char === "'") {
                quote = char;
            }
            else if (char === '>') {
                commit();
                mode = MODE_TEXT;
            }
            else if (!mode) {
                // Ignore everything until the tag ends
            }
            else if (char === '=') {
                mode = MODE_PROP_SET;
                propName = buffer;
                buffer = '';
            }
            else if (char === '/' && (mode < MODE_PROP_SET || statics[i][j + 1] === '>')) {
                commit();
                if (mode === MODE_TAGNAME) {
                    current = current[0];
                }
                mode = current;
                if (constants_1.MINI) {
                    ;
                    (current = current[0]).push(h(...mode.slice(1)));
                }
                else {
                    ;
                    (current = current[0]).push(CHILD_RECURSE, 0, mode);
                }
                mode = MODE_SLASH;
            }
            else if (char === ' ' || char === '\t' || char === '\n' || char === '\r') {
                // <a disabled>
                commit();
                mode = MODE_WHITESPACE;
            }
            else {
                buffer += char;
            }
            if (mode === MODE_TAGNAME && buffer === '!--') {
                mode = MODE_COMMENT;
                current = current[0];
            }
        }
    }
    commit();
    if (constants_1.MINI) {
        return current.length > 2 ? current.slice(1) : current[1];
    }
    return current;
};
exports.build = build;


/***/ }),

/***/ "./src/htm/constants.ts":
/*!******************************!*\
  !*** ./src/htm/constants.ts ***!
  \******************************/
/***/ (function(__unused_webpack_module, exports) {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.MINI = void 0;
exports.MINI = false;


/***/ }),

/***/ "./src/htm/index.ts":
/*!**************************!*\
  !*** ./src/htm/index.ts ***!
  \**************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


/**
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *     http://www.apache.org/licenses/LICENSE-2.0
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const constants_1 = __webpack_require__(/*! ./constants */ "./src/htm/constants.ts");
const build_1 = __webpack_require__(/*! ./build */ "./src/htm/build.ts");
const CACHES = new Map();
const regular = function (statics) {
    // @ts-ignore
    let tmp = CACHES.get(this);
    if (!tmp) {
        tmp = new Map();
        // @ts-ignore
        CACHES.set(this, tmp);
    }
    // @ts-ignore
    tmp = build_1.evaluate(this, tmp.get(statics) || (tmp.set(statics, (tmp = build_1.build(statics))), tmp), arguments, []);
    return tmp.length > 1 ? tmp : tmp[0];
};
// export as htm
exports.default = constants_1.MINI ? build_1.build : regular;


/***/ }),

/***/ "./src/jsx.ts":
/*!********************!*\
  !*** ./src/jsx.ts ***!
  \********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.jsx = void 0;
const core_1 = __webpack_require__(/*! ./core */ "./src/core.ts");
const htm_1 = __importDefault(__webpack_require__(/*! ./htm */ "./src/htm.ts"));
const jsx = htm_1.default.bind(core_1.h);
exports.jsx = jsx;


/***/ }),

/***/ "./src/lazy.ts":
/*!*********************!*\
  !*** ./src/lazy.ts ***!
  \*********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.hydrateLazy = void 0;
const core_1 = __webpack_require__(/*! ./core */ "./src/core.ts");
const visible_1 = __webpack_require__(/*! ./components/visible */ "./src/components/visible.ts");
const hydrateLazy = (component, parent = null, removeChildNodes = true) => {
    const c = core_1.h(visible_1.Visible, null, component);
    return core_1.hydrate(c, parent, removeChildNodes);
};
exports.hydrateLazy = hydrateLazy;


/***/ }),

/***/ "./src/state.ts":
/*!**********************!*\
  !*** ./src/state.ts ***!
  \**********************/
/***/ (function(__unused_webpack_module, exports) {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports._clearState = exports._state = void 0;
/** Holds the state of the whole application. */
exports._state = new Map();
/** Clears the state of the whole application. */
const _clearState = () => {
    exports._state.clear();
};
exports._clearState = _clearState;


/***/ }),

/***/ "./src/store.ts":
/*!**********************!*\
  !*** ./src/store.ts ***!
  \**********************/
/***/ (function(__unused_webpack_module, exports) {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Store = void 0;
class Store {
    /**
     * Create your own Store.
     * @param defaultState Pass the initial State.
     * @param name The name of the Store (only required if you persist the state in localStorage or sessionStorage).
     * @param storage Pass 'memory', 'local' or 'session'.
     */
    constructor(defaultState, name = '', storage = 'memory') {
        this._listeners = new Map();
        if (typeof isSSR !== 'undefined')
            storage = 'memory';
        this._id = name;
        this._storage = storage;
        this._state = this._prevState = defaultState;
        if (storage === 'memory' || !storage)
            return;
        const Storage = storage === 'local' ? localStorage : sessionStorage;
        // get/set initial state of Storage
        const item = Storage.getItem(this._id);
        if (item) {
            this._state = this._prevState = JSON.parse(item);
        }
        else
            Storage.setItem(this._id, JSON.stringify(defaultState));
    }
    persist(newState) {
        if (this._storage === 'memory')
            return;
        const Storage = this._storage === 'local' ? localStorage : sessionStorage;
        Storage.setItem(this._id, JSON.stringify(newState));
    }
    /** Clears the state of the whole store. */
    clear() {
        this._state = this._prevState = undefined;
        if (this._storage === 'local')
            localStorage.removeItem(this._id);
        else if (this._storage === 'session')
            sessionStorage.removeItem(this._id);
    }
    setState(newState) {
        this.state = newState;
    }
    set state(newState) {
        this._prevState = this._state;
        this._state = newState;
        this.persist(newState);
        this._listeners.forEach(fnc => {
            fnc(this._state, this._prevState);
        });
    }
    get state() {
        return this._state;
    }
    use() {
        const id = Math.random().toString(36).substr(2, 9);
        const _this = this;
        return {
            get state() {
                return _this.state;
            },
            setState: (newState) => {
                this.state = newState;
            },
            subscribe: (fnc) => {
                this._listeners.set(id, fnc);
            },
            cancel: () => {
                this._listeners.delete(id);
            }
        };
    }
}
exports.Store = Store;


/***/ }),

/***/ "./src/ui/_config.ts":
/*!***************************!*\
  !*** ./src/ui/_config.ts ***!
  \***************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.zIndex = exports.rippleEffect = exports.userSelect = exports.boxShadow = void 0;
const core_1 = __webpack_require__(/*! ../core */ "./src/core.ts");
exports.boxShadow = `
  -webkit-box-shadow: 0px 3px 5px -1px rgba(0,0,0,0.2), 0px 6px 10px 0px rgba(0,0,0,0.14), 0px 1px 18px 0px rgba(0,0,0,0.12);
  -moz-box-shadow: 0px 3px 5px -1px rgba(0,0,0,0.2), 0px 6px 10px 0px rgba(0,0,0,0.14), 0px 1px 18px 0px rgba(0,0,0,0.12);
  box-shadow: 0px 3px 5px -1px rgba(0,0,0,0.2), 0px 6px 10px 0px rgba(0,0,0,0.14), 0px 1px 18px 0px rgba(0,0,0,0.12);
`;
exports.userSelect = `
  -webkit-touch-callout:none;
  -webkit-user-select:none;
  -khtml-user-select:none;
  -moz-user-select:none;
  -ms-user-select:none;
  user-select:none;
  -webkit-tap-highlight-color:rgba(0,0,0,0);
`;
const rippleEffect = (rippleClr, hoverClr) => {
    const rippleClass = `ripple-${core_1.strToHash(rippleClr + hoverClr)}`;
    const styles = `  
  .${rippleClass} {
    background-position: center;
    transition: background 0.8s;
  }
  
  .${rippleClass}:hover {
    background: ${hoverClr} radial-gradient(circle, transparent 1%, ${hoverClr} 1%) center/15000%;
  }

  
  .${rippleClass}:active {
    background-color: ${rippleClr};
    background-size: 100%;
    transition: background 0s;
  }`;
    return {
        styles,
        class: rippleClass
    };
};
exports.rippleEffect = rippleEffect;
exports.zIndex = {
    button: 'unset;',
    banner: '50;',
    bar: '100;',
    navigation: '100;',
    fab: '200;',
    sheet: '300;',
    menu: '400;',
    snackbar: '500;',
    dialog: '600;'
};


/***/ }),

/***/ "./src/ui/_helpers.ts":
/*!****************************!*\
  !*** ./src/ui/_helpers.ts ***!
  \****************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.addStylesToHead = exports.lightenColor = void 0;
const core_1 = __webpack_require__(/*! ../core */ "./src/core.ts");
// https://gist.github.com/renancouto/4675192
const lightenColor = (color, percent) => {
    const num = parseInt(color.replace('#', ''), 16), amt = Math.round(2.55 * percent), R = (num >> 16) + amt, B = ((num >> 8) & 0x00ff) + amt, G = (num & 0x0000ff) + amt;
    return `#${(0x1000000 +
        (R < 255 ? (R < 1 ? 0 : R) : 255) * 0x10000 +
        (B < 255 ? (B < 1 ? 0 : B) : 255) * 0x100 +
        (G < 255 ? (G < 1 ? 0 : G) : 255))
        .toString(16)
        .slice(1)}`;
};
exports.lightenColor = lightenColor;
const addStylesToHead = (styles, hash) => {
    const el = document.querySelector(`[data-css-hash*="${hash}"]`);
    if (!el) {
        const styleElement = core_1.h('style', { 'data-css-hash': hash }, styles);
        document.head.appendChild(styleElement);
    }
};
exports.addStylesToHead = addStylesToHead;


/***/ }),

/***/ "./src/ui/appBar.ts":
/*!**************************!*\
  !*** ./src/ui/appBar.ts ***!
  \**************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.AppBar = void 0;
const component_1 = __webpack_require__(/*! ../component */ "./src/component.ts");
const core_1 = __webpack_require__(/*! ../core */ "./src/core.ts");
const _config_1 = __webpack_require__(/*! ./_config */ "./src/ui/_config.ts");
const classes = {
    container: 'appBar_container',
    scrollingDown: 'appBar_scrolling_down'
};
class AppBar extends component_1.Component {
    constructor() {
        super(...arguments);
        this.curr_scrollY = 0;
        this.last_scrollY = 0;
        this.curr_scrollingState = 'none';
        this.last_scrollingState = 'none';
    }
    calcScrollPosition() {
        this.curr_scrollY = window.scrollY;
        if (this.curr_scrollY > this.last_scrollY) {
            this.curr_scrollingState = 'down';
        }
        else if (this.curr_scrollY < this.last_scrollY) {
            this.curr_scrollingState = 'up';
        }
        this.last_scrollY = this.curr_scrollY;
    }
    scroll() {
        this.calcScrollPosition();
        if (this.curr_scrollY < 1) {
            this.container.classList.remove('appBar_scrolling_down');
        }
        else if (this.last_scrollingState !== this.curr_scrollingState) {
            this.last_scrollingState = this.curr_scrollingState;
            if (this.curr_scrollingState === 'down')
                this.container.classList.add('appBar_scrolling_down');
            else
                this.container.classList.remove('appBar_scrolling_down');
        }
    }
    merge() {
        this.calcScrollPosition();
        if (this.curr_scrollY <= 1) {
            this.container.classList.add('appBar_merged');
        }
        else {
            this.container.classList.remove('appBar_merged');
        }
    }
    didMount() {
        this.curr_scrollY = this.last_scrollY = window.scrollY;
        if (this.props.autoHide)
            window.addEventListener('scroll', () => this.scroll());
        if (this.props.autoMerge)
            window.addEventListener('scroll', () => this.merge());
    }
    didUnmount() {
        if (this.props.autoHide)
            window.removeEventListener('scroll', this.scroll);
        if (this.props.autoMerge)
            window.removeEventListener('scroll', () => this.merge());
    }
    render() {
        const { background = '#6200EE', color = 'white' } = this.props;
        const styles = `
    .appBar_container {
      background: ${background};
      color: ${color};
      font-weight: 500;

      z-index: ${_config_1.zIndex.bar}

      position: fixed;
      top: 0;
      left: 0;
      min-height: 24px;
      width: 100vw;


      ${_config_1.boxShadow}

      transition: top 0.2s, -webkit-box-shadow 0.5s, -moz-box-shadow 0.5s, box-shadow 0.5s;
    }

    .appBar_container.appBar_scrolling_down {
      top: -56px;
    }

    .appBar_container.appBar_merged {
      -webkit-box-shadow: none;
      -moz-box-shadow: none;
      box-shadow: none;
    }

    .appBar_container .toolbar_container {
      display: flex;
      justify-content: space-between;
    }

    .appBar_container .toolbar_container,
    .appBar_container .tabs_container {
      margin: 0 auto;
      ${this.props.maxWidth ? `max-width: ${this.props.maxWidth}px;` : ''}
    }

    .appBar_container .toolbar_container .toolbar_left,
    .appBar_container .toolbar_container .toolbar_right {
      display: flex;
      align-items: center;      
    }

    .appBar_container .toolbar_title {
      font-size: 20px;
    }
    `;
        document.head.appendChild(core_1.h('style', {}, styles));
        const mergedClass = this.props.autoMerge ? 'appBar_merged' : '';
        // @ts-ignore
        this.container = core_1.h('div', { class: `${classes.container} ${mergedClass}` }, this.props.children);
        return this.container;
    }
}
exports.AppBar = AppBar;


/***/ }),

/***/ "./src/ui/button.ts":
/*!**************************!*\
  !*** ./src/ui/button.ts ***!
  \**************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __rest = (this && this.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Button = void 0;
const core_1 = __webpack_require__(/*! ../core */ "./src/core.ts");
const _config_1 = __webpack_require__(/*! ./_config */ "./src/ui/_config.ts");
const _helpers_1 = __webpack_require__(/*! ./_helpers */ "./src/ui/_helpers.ts");
const icon_1 = __webpack_require__(/*! ./icon */ "./src/ui/icon.ts");
const Button = (props) => {
    const { children, outlined = false, text = false, background = '#6200ee', color = '#ffffff', style = '', class: className = '', icon } = props, rest = __rest(props, ["children", "outlined", "text", "background", "color", "style", "class", "icon"]);
    const normal = !(outlined || text);
    const bg = normal ? background : '#ffffff';
    const clr = normal ? color : background;
    const hoverClr = normal ? _helpers_1.lightenColor(bg, 10) : _helpers_1.lightenColor(bg, -10);
    const rippleClr = normal ? _helpers_1.lightenColor(bg, 50) : _helpers_1.lightenColor(background, 50);
    const cssHash = core_1.strToHash(outlined.toString() + text.toString() + bg + clr + style);
    const ripple = _config_1.rippleEffect(rippleClr, hoverClr);
    const styles = `
    .nano_jsx_button-${cssHash} {
      color: ${clr};
      background: ${bg};
      border-radius: 4px;
      display: inline-block;
      font-size: 14px;
      padding: 10px 16px;
      margin: 0px 0px 1em 0px;
      text-align: center;
      cursor: pointer;

      ${_config_1.userSelect}
      

      z-index: ${_config_1.zIndex.button}

      ${_config_1.boxShadow}

      border: none;
      text-transform: uppercase;
      box-shadow: 0 0 4px #999;
      outline: none;
    }

    ${ripple.styles}
  `;
    _helpers_1.addStylesToHead(styles, cssHash);
    let customStyles = '';
    if (outlined || text) {
        customStyles += 'padding-top: 9px; padding-bottom: 9px; ';
        customStyles += '-webkit-box-shadow: none; -moz-box-shadow: none; box-shadow none; ';
        if (outlined)
            customStyles += `border: 1px ${clr} solid; `;
    }
    customStyles += style;
    return core_1.h('a', Object.assign({ class: `nano_jsx_button-${cssHash} ${ripple.class} ${className}`, style: customStyles }, rest), icon ? core_1.h(icon_1.Icon, { style: 'margin-left: -4px; margin-right: 8px; width: 14px; height: 14px;' }, icon) : null, children);
};
exports.Button = Button;


/***/ }),

/***/ "./src/ui/dialog.ts":
/*!**************************!*\
  !*** ./src/ui/dialog.ts ***!
  \**************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Dialog = void 0;
const core_1 = __webpack_require__(/*! ../core */ "./src/core.ts");
const _config_1 = __webpack_require__(/*! ./_config */ "./src/ui/_config.ts");
const button_1 = __webpack_require__(/*! ./button */ "./src/ui/button.ts");
class Dialog {
    constructor(options = {}) {
        this.options = options;
        this.defaultParentId = 'dialog_container';
        this.defaultActionColor = '#6200EE';
        const defaultOptions = {
            title: 'Dialog Title',
            body: 'Dialog body text.',
            actions: [
                { name: 'Action 1', color: this.defaultActionColor },
                { name: 'Action 2', color: this.defaultActionColor }
            ]
        };
        this.options = Object.assign(Object.assign({}, defaultOptions), options);
        // styles
        const styles = `
    #dialog_container {  
      background: #00000070;
      position: fixed;
      bottom: 0px;
      left: 0px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      width: 100vw;
      height: 100vh;
      overflow: hidden;
      
      z-index: ${_config_1.zIndex.dialog}

      animation-name: dialog-fadein;
      animation-duration: 0.2s;

      transition: opacity 0.2s;
      opacity: 1;
    }

    #dialog_container.dialog_fadeout {
      opacity: 0;
    } 

    #dialog_container .dialog {
      background-color: white;
      border-radius: 4px;
      min-width: 240px;
      max-width: min(500px, 80%);

      margin: 8px;

      ${_config_1.boxShadow}
    }

    #dialog_container .dialog .dialog_header {
      color: #000000DE;
      font-size: 20px;
      padding: 0px 24px 9px;
      margin: 24px 0px 6px 0px;
      line-height: 1;
    }

    #dialog_container .dialog .dialog_body {
      color: #00000099;
      font-size: 16px;  
      padding: 0px 24px 20px;
      line-height: 1.5em;
    }

    #dialog_container .dialog .dialog_actions {
      
      margin: 0;
      padding: 8px;
      
      display: flex;
      flex-direction: row;
      align-items: flex-end;
      float: right;

      flex-wrap: wrap;
      justify-content: flex-end;
    }

    #dialog_container .dialog .dialog_action {
      margin-bottom: 0px;
      margin-left: 10px;
    }

    /*#dialog_container .dialog .dialog_action:hover {
      border-radius: 4px;      
      background: #0000000a;
    }*/

    @keyframes dialog-fadein {
      from {opacity: 0;}
      to {opacity: 1;}
    }
    `;
        document.head.appendChild(core_1.h('style', {}, styles));
    }
    getParentElement(parentId) {
        let el = document.getElementById(parentId || this.defaultParentId);
        if (!el) {
            el = document.createElement('div');
            el.id = this.defaultParentId;
            document.body.appendChild(el);
        }
        return el;
    }
    remove() {
        const el = document.getElementById('dialog_container');
        if (!el)
            return;
        el.classList.add('dialog_fadeout');
        setTimeout(() => el.remove(), 200);
    }
    show(options, callback) {
        options = Object.assign(Object.assign({}, this.options), options);
        const container = this.getParentElement(options.parentId || this.defaultParentId);
        if (container.hasChildNodes())
            return;
        const Dialog = (_header, _body, _actions) => {
            const actionsArray = _actions.map((action) => {
                return core_1.h(button_1.Button, {
                    text: true,
                    color: action.color || this.defaultActionColor,
                    class: 'dialog_action',
                    // style: `color: ${action.color || this.defaultActionColor}`,
                    onClick: () => {
                        callback({ name: action.name, id: action.id });
                        this.remove();
                    }
                }, action.name.toUpperCase());
            });
            const title = core_1.h('h2', { class: 'dialog_header' }, _header);
            const body = core_1.h('div', { class: 'dialog_body' }, _body);
            const actions = core_1.h('div', { class: 'dialog_actions' }, actionsArray);
            const dialog = core_1.h('div', { class: 'dialog' }, title, body, actions);
            return dialog;
        };
        const el = Dialog(options.title, options.body, options.actions || []);
        container.appendChild(el);
        const dialog = document.getElementsByClassName('dialog')[0];
        const actions = document.getElementsByClassName('dialog_actions')[0];
        // if the actions are too long, we prefer to set flex-direction to column than to wrap the single actions
        const useColumn = dialog.clientWidth <= actions.clientWidth;
        if (useColumn)
            actions.setAttribute('style', 'flex-direction: column;');
    }
}
exports.Dialog = Dialog;


/***/ }),

/***/ "./src/ui/fab.ts":
/*!***********************!*\
  !*** ./src/ui/fab.ts ***!
  \***********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Fab = void 0;
const component_1 = __webpack_require__(/*! ../component */ "./src/component.ts");
const core_1 = __webpack_require__(/*! ../core */ "./src/core.ts");
const _config_1 = __webpack_require__(/*! ./_config */ "./src/ui/_config.ts");
const _helpers_1 = __webpack_require__(/*! ./_helpers */ "./src/ui/_helpers.ts");
class Fab extends component_1.Component {
    render() {
        const { background = '#6200EE', color = 'white', extended = false, mini = false, center = false, left = false, onClick = () => { } } = this.props;
        const height = mini ? 40 : extended ? 48 : 56;
        const cssHash = core_1.strToHash(extended.toString() + mini.toString() + center.toString() + left.toString()); // Math.random().toString(36).substr(2, 9)
        const className = `fab-container-${cssHash}`;
        const styles = `
      .${className} {
        ${mini ? 'width: 40px;' : extended ? 'padding: 0px 12px;' : 'width: 56px;'}
        height: ${height}px;
        position: fixed;
        background: ${background};
        border-radius: 36px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: ${color};
        cursor: pointer;

        z-index: ${_config_1.zIndex.fab}
        bottom: ${this.props.offsetY ? 16 + this.props.offsetY : 16}px;        
        ${left ? 'left: 16px;' : 'right: 16px;'}
        ${center ? 'transform: translateX(50%); right: 50%;' : ''}
        ${_config_1.boxShadow}
        ${_config_1.userSelect}
      }
    `;
        _helpers_1.addStylesToHead(styles, cssHash);
        const { children } = this.props;
        return core_1.h('div', { class: className, onClick: (e) => onClick(e) }, children);
    }
}
exports.Fab = Fab;


/***/ }),

/***/ "./src/ui/icon.ts":
/*!************************!*\
  !*** ./src/ui/icon.ts ***!
  \************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __rest = (this && this.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Icon = void 0;
const component_1 = __webpack_require__(/*! ../component */ "./src/component.ts");
const core_1 = __webpack_require__(/*! ../core */ "./src/core.ts");
const _helpers_1 = __webpack_require__(/*! ./_helpers */ "./src/ui/_helpers.ts");
class Icon extends component_1.Component {
    didUnmount() {
        // not sure if I want to remove the css, since there might be another Icon with the same styles.
        // const el = document.querySelector(`[data-css-hash*="${this.cssHash}"]`)
        // if (el) el.remove()
    }
    render() {
        const _a = this.props, { src, size = 16, active = true, color = '#6204EE', style = '' } = _a, rest = __rest(_a, ["src", "size", "active", "color", "style"]);
        // @ts-ignore
        const children = this.props.children;
        this.cssHash = core_1.strToHash(active + color + size.toString());
        const colors = {
            active: color,
            inactive: '#00000070'
        };
        const styles = `
    i.icon-${this.cssHash} {
      width: ${size}px;
      height: ${size}px;
      display: inline-block;
      content: '';

      /*-webkit-mask: url(YOUR_SVG_URL) no-repeat 50% 50%;
      mask: url(YOUR_SVG_URL) no-repeat 50% 50%;*/

      -webkit-mask-size: cover;
      mask-size: cover; 

      background-color: ${colors.active};
    }

    i.icon-${this.cssHash}.icon_inactive-${this.cssHash} {
      background-color: ${colors.inactive};
    }
    `;
        _helpers_1.addStylesToHead(styles, this.cssHash);
        // const iconStyle = `-webkit-mask: url(/dev/font-awesome/ellipsis-v-solid.svg) no-repeat 50% 50%;mask: url(/dev/font-awesome/ellipsis-v-solid.svg) no-repeat 50% 50%;`
        const iconStyle = `-webkit-mask: url(${src || children}) no-repeat 50% 50%; mask: url(${src || children}) no-repeat 50% 50%;`;
        const classes = [`icon-${this.cssHash}`];
        if (!active)
            classes.push(`icon_inactive-${this.cssHash}`);
        const icon = core_1.h('i', Object.assign(Object.assign({ class: classes.join(' ') }, rest), { style: iconStyle + style }));
        return icon;
    }
}
exports.Icon = Icon;


/***/ }),

/***/ "./src/ui/index.ts":
/*!*************************!*\
  !*** ./src/ui/index.ts ***!
  \*************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Tab = exports.Tabs = exports.Snackbar = exports.Menu = exports.ListItem = exports.List = exports.Icon = exports.Fab = exports.Dialog = exports.Button = exports.NavigationAction = exports.Navigation = exports.Toolbar = exports.AppBar = void 0;
var appBar_1 = __webpack_require__(/*! ../ui/appBar */ "./src/ui/appBar.ts");
Object.defineProperty(exports, "AppBar", ({ enumerable: true, get: function () { return appBar_1.AppBar; } }));
var toolbar_1 = __webpack_require__(/*! ../ui/toolbar */ "./src/ui/toolbar.ts");
Object.defineProperty(exports, "Toolbar", ({ enumerable: true, get: function () { return toolbar_1.Toolbar; } }));
var navigation_1 = __webpack_require__(/*! ../ui/navigation */ "./src/ui/navigation.ts");
Object.defineProperty(exports, "Navigation", ({ enumerable: true, get: function () { return navigation_1.Navigation; } }));
Object.defineProperty(exports, "NavigationAction", ({ enumerable: true, get: function () { return navigation_1.NavigationAction; } }));
var button_1 = __webpack_require__(/*! ../ui/button */ "./src/ui/button.ts");
Object.defineProperty(exports, "Button", ({ enumerable: true, get: function () { return button_1.Button; } }));
var dialog_1 = __webpack_require__(/*! ../ui/dialog */ "./src/ui/dialog.ts");
Object.defineProperty(exports, "Dialog", ({ enumerable: true, get: function () { return dialog_1.Dialog; } }));
var fab_1 = __webpack_require__(/*! ../ui/fab */ "./src/ui/fab.ts");
Object.defineProperty(exports, "Fab", ({ enumerable: true, get: function () { return fab_1.Fab; } }));
var icon_1 = __webpack_require__(/*! ../ui/icon */ "./src/ui/icon.ts");
Object.defineProperty(exports, "Icon", ({ enumerable: true, get: function () { return icon_1.Icon; } }));
var list_1 = __webpack_require__(/*! ../ui/list */ "./src/ui/list.ts");
Object.defineProperty(exports, "List", ({ enumerable: true, get: function () { return list_1.List; } }));
Object.defineProperty(exports, "ListItem", ({ enumerable: true, get: function () { return list_1.ListItem; } }));
var menu_1 = __webpack_require__(/*! ../ui/menu */ "./src/ui/menu.ts");
Object.defineProperty(exports, "Menu", ({ enumerable: true, get: function () { return menu_1.Menu; } }));
var snackbar_1 = __webpack_require__(/*! ../ui/snackbar */ "./src/ui/snackbar.ts");
Object.defineProperty(exports, "Snackbar", ({ enumerable: true, get: function () { return snackbar_1.Snackbar; } }));
var tabs_1 = __webpack_require__(/*! ../ui/tabs */ "./src/ui/tabs.ts");
Object.defineProperty(exports, "Tabs", ({ enumerable: true, get: function () { return tabs_1.Tabs; } }));
Object.defineProperty(exports, "Tab", ({ enumerable: true, get: function () { return tabs_1.Tab; } }));


/***/ }),

/***/ "./src/ui/list.ts":
/*!************************!*\
  !*** ./src/ui/list.ts ***!
  \************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.List = exports.ListItem = void 0;
const component_1 = __webpack_require__(/*! ../component */ "./src/component.ts");
const core_1 = __webpack_require__(/*! ../core */ "./src/core.ts");
const icon_1 = __webpack_require__(/*! ./icon */ "./src/ui/icon.ts");
const _helpers_1 = __webpack_require__(/*! ./_helpers */ "./src/ui/_helpers.ts");
class ListItem extends component_1.Component {
    render() {
        const { props: p } = this;
        const { onClick = () => { } } = p;
        const adjustedMargin = 'margin-right: 16px;';
        const icon = p.icon ? core_1.h(icon_1.Icon, { size: 20, style: 'margin-right: 32px;', src: p.icon }) : null;
        const avatar = p.avatar
            ? core_1.h('img', { src: p.avatar, width: 40, height: 40, style: `border-radius: 20px; ${adjustedMargin}` })
            : null;
        const square = p.square ? core_1.h('img', { src: p.square, width: 56, height: 56, style: adjustedMargin }) : null;
        const image = p.image
            ? core_1.h('img', { src: p.image, width: 100, height: 56, style: 'margin-left: -16px; margin-right: 16px;' })
            : null;
        const text = core_1.h('span', null, p.children);
        // additional style for the list item
        let style = '';
        if (p.icon || p.avatar)
            style += 'min-height: 56px; ';
        if (p.square || p.image)
            style += 'min-height: 72px; ';
        return core_1.h('li', { style, onClick }, icon, avatar, square, image, text);
    }
}
exports.ListItem = ListItem;
class List extends component_1.Component {
    render() {
        const { small = false } = this.props;
        this.cssHash = core_1.strToHash(`List${small.toString()}`);
        const styles = `
      .list-${this.cssHash} ul {
        margin: 0px;
        padding: 8px 16px;
      }

      .list-${this.cssHash} ul li {
        list-style: none;
        min-height: ${small ? 32 : 46}px;
        display: flex;
        align-items: center;
        margin: 0px -16px;
        padding: 0px 16px;
        cursor: pointer;
      }

      .list-${this.cssHash} ul li span {
        font-size: 16px;
      }

      .list-${this.cssHash} ul li:hover  {
        background:#00000010
      }    
    `;
        _helpers_1.addStylesToHead(styles, this.cssHash);
        const ul = core_1.h('ul', null, this.props.children);
        return core_1.h('div', { class: `list-${this.cssHash}` }, ul);
    }
}
exports.List = List;


/***/ }),

/***/ "./src/ui/menu.ts":
/*!************************!*\
  !*** ./src/ui/menu.ts ***!
  \************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Menu = void 0;
const core_1 = __webpack_require__(/*! ../core */ "./src/core.ts");
const _config_1 = __webpack_require__(/*! ./_config */ "./src/ui/_config.ts");
const _helpers_1 = __webpack_require__(/*! ./_helpers */ "./src/ui/_helpers.ts");
class Menu {
    constructor() {
        this.defaultParentId = 'menu_items_container';
        this.cssHash = Math.random().toString(36).substr(2, 9);
    }
    didUnmount() {
        const el = document.querySelector(`[data-css-hash*="${this.cssHash}"]`);
        if (el)
            el.remove();
    }
    getParentElement(id) {
        // delete all other
        const others = document.querySelectorAll(`[id^="${this.defaultParentId}"]`);
        others.forEach(e => {
            e.remove();
        });
        let el = document.getElementById(`${this.defaultParentId}-${id}`);
        if (!el) {
            el = document.createElement('div');
            el.id = `${this.defaultParentId}-${id}`;
        }
        core_1.removeAllChildNodes(el);
        document.body.appendChild(el);
        return el;
    }
    close() {
        core_1.removeAllChildNodes(this.getParentElement(this.cssHash));
    }
    open(menuOptions) {
        const { position, list } = menuOptions;
        // check in which corner the menu appears and adjust fixed position.
        const left = position.x < window.innerWidth / 2 ? 'left' : 'right';
        const top = position.y < window.innerHeight / 2 ? 'top' : 'bottom';
        const styles = `
   
    #menu_items_background-${this.cssHash} {
      width: 100vw;
      height: 100vh;
      background: transparent;
      position: fixed;
      top: 0;
      left: 0;
      z-index: ${_config_1.zIndex.menu}      
    }
   
    #menu_items_list-${this.cssHash} {
      position: fixed;
      background: white;
      
      border-radius: 4px;
      min-width: 112px;

      ${top}: ${position.y > window.innerHeight / 2 ? window.innerHeight - position.y : position.y}px;
      ${left}: ${position.x > window.innerWidth / 2 ? window.innerWidth - position.x : position.x}px;

      z-index: ${_config_1.zIndex.menu}

      ${_config_1.boxShadow}
    }

    `;
        // remove old styles
        const el = document.querySelector(`[data-css-hash*="${this.cssHash}"]`);
        if (el)
            el.remove();
        // add new styles
        _helpers_1.addStylesToHead(styles, this.cssHash);
        const itemsList = core_1.h('div', { id: `menu_items_list-${this.cssHash}` }, list);
        const itemsBg = core_1.h('div', { onClick: () => this.close(), id: `menu_items_background-${this.cssHash}` }, itemsList);
        itemsList.addEventListener('click', (e) => e.stopPropagation());
        this.getParentElement(this.cssHash).appendChild(core_1.render(itemsBg));
    }
}
exports.Menu = Menu;


/***/ }),

/***/ "./src/ui/navigation.ts":
/*!******************************!*\
  !*** ./src/ui/navigation.ts ***!
  \******************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Navigation = exports.NavigationAction = void 0;
const core_1 = __webpack_require__(/*! ../core */ "./src/core.ts");
const component_1 = __webpack_require__(/*! ../component */ "./src/component.ts");
const _config_1 = __webpack_require__(/*! ./_config */ "./src/ui/_config.ts");
const icon_1 = __webpack_require__(/*! ./icon */ "./src/ui/icon.ts");
const classes = {
    label: 'bottom_navigation_label',
    action: 'bottom_navigation_action',
    idPrefix: 'bottom_navigation_action_id-',
    inactive: 'bottom_navigation_action_inactive',
    initialActive: 'bottom_navigation_label_initial_active'
};
class NavigationAction extends component_1.Component {
    willMount() {
        var _a;
        this.id = (_a = this.props.id) !== null && _a !== void 0 ? _a : this.props.label.toLowerCase().replace(/\s/gm, '-').replace(/[-]+/gm, '-');
    }
    render() {
        const label = core_1.h('span', { class: classes.label }, this.props.label);
        const actionClasses = [classes.action];
        console.log(this.props.active);
        if (this.props.active)
            actionClasses.push(classes.initialActive);
        else
            actionClasses.push(classes.inactive);
        return core_1.h('div', {
            id: `${classes.idPrefix}${this.id}`,
            class: actionClasses.join(' '),
            onClick: () => {
                var _a, _b;
                if (this.props.link)
                    window.location.href = this.props.link;
                (_b = (_a = this.props).onClick) === null || _b === void 0 ? void 0 : _b.call(_a, { navigate: !!this.props.link, id: this.id, label: this.props.label, component: this });
            }
        }, this.props.icon ? core_1.h(icon_1.Icon, { size: 22, style: 'margin-bottom: 2px;', src: this.props.icon }) : null, label);
    }
}
exports.NavigationAction = NavigationAction;
class Navigation extends component_1.Component {
    didMount() {
        const children = this.props.children;
        children.forEach(c => {
            c.props.onClick = e => {
                if (e.navigate)
                    return;
                const elements = document.querySelectorAll(`[id^="${classes.idPrefix}"]`);
                elements.forEach(el => {
                    if (el.id === `${classes.idPrefix}${e.id}`)
                        el.classList.remove(classes.inactive);
                    else
                        el.classList.add(classes.inactive);
                });
            };
        });
    }
    render() {
        const colors = {
            active: '#6204EE',
            inactive: '#00000070'
        };
        const styles = `
      #bottom_navigation_container {

        background-color: white;
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100vw;
        min-height: 56px;

        z-index: ${_config_1.zIndex.navigation}

        display: flex;
        justify-content: center;
        
        ${_config_1.boxShadow}
      } 

      #bottom_navigation_container .bottom_navigation_label {
        transition: font-size 0.2s;
      }

      #bottom_navigation_container .bottom_navigation_label_initial_active .bottom_navigation_label{
        animation-name: bottom_navigation_label_fontsize;
        animation-duration: 0.2s;
      }

      @keyframes bottom_navigation_label_fontsize {
        from {font-size: 12px;}
        to {font-size: 14px;}
      }

      #bottom_navigation_container .bottom_navigation_action {
        color: ${colors.active};
        font-size: 14px;

        min-width: 80px;
        max-width: 168px;
        flex-grow: 1;

        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;

        cursor: pointer;
      }

      #bottom_navigation_container .bottom_navigation_action_inactive{
        color: ${colors.inactive};
        font-size: 12px;
      }

      #bottom_navigation_container .bottom_navigation_action_inactive i {
        background-color: ${colors.inactive}
      }
    `;
        document.head.appendChild(core_1.h('style', {}, styles));
        const { parentId, children } = this.props;
        const navigation = core_1.h('div', { id: 'bottom_navigation_container' }, children);
        if (parentId) {
            const parent = document.getElementById(parentId);
            if (parent) {
                parent.appendChild(navigation);
                return;
            }
        }
        return navigation;
    }
}
exports.Navigation = Navigation;


/***/ }),

/***/ "./src/ui/snackbar.ts":
/*!****************************!*\
  !*** ./src/ui/snackbar.ts ***!
  \****************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Snackbar = void 0;
const core_1 = __webpack_require__(/*! ../core */ "./src/core.ts");
const _config_1 = __webpack_require__(/*! ./_config */ "./src/ui/_config.ts");
class Snackbar {
    constructor(options = {}) {
        this.options = options;
        this.defaultParentId = 'snackbar_container';
        this.defaultActionColor = '#BC86FC';
        const defaultOptions = {
            message: 'Hello Snack!',
            actions: [{ name: 'Dismiss', color: this.defaultActionColor }],
            autoHide: true,
            consecutive: true,
            offsetY: 0
        };
        this.options = Object.assign(Object.assign({}, defaultOptions), options);
        // styles
        const styles = `
      #snackbar_container {    
        position: fixed;
        bottom: ${this.options.offsetY}px;
        left: 0px;
        overflow: hidden;
        z-index: ${_config_1.zIndex.snackbar}
      }

      #snackbar_container .snackbar_snack {
        background-color: #323232;

        padding: 16px 16px 16px 16px;
        margin: 0px 8px 8px 8px;

        border-radius: 4px;
        width: 344px;
        max-width: calc(100vw - 16px);
        box-sizing: border-box;
        display: flex;
        justify-content: space-between;
        height: fit-content;
        overflow: hidden;

        ${_config_1.boxShadow}

        animation-name: snackbar-fadein;
        animation-duration: 0.2s;

        transition: opacity 0.2s;
        opacity: 1;
      }

      #snackbar_container .snackbar_snack_fadeout {
        opacity: 0;
      } 

      #snackbar_container .snackbar_snack .snackbar_message {
        color: #DFDFDF;
        font-size: 16px;
        align-self: center;
      }

      #snackbar_container .snackbar_snack .snackbar_actions {
        align-self: center;
      }

      #snackbar_container .snackbar_snack .snackbar_action {
        font-size: 16px;
        cursor: pointer;
        padding: 8px;
        margin-right: -8px;
      }

      @keyframes snackbar-fadein {
        from {opacity: 0;}
        to {opacity: 1;}
      }
    `;
        document.head.appendChild(core_1.h('style', {}, styles));
    }
    getParentElement(parentId) {
        let el = document.getElementById(parentId || this.defaultParentId);
        if (!el) {
            el = document.createElement('div');
            el.id = this.defaultParentId;
            document.body.appendChild(el);
        }
        return el;
    }
    remove(el) {
        el.classList.add('snackbar_snack_fadeout');
        setTimeout(() => el.remove(), 200);
    }
    show(options, callback) {
        if (this.options.consecutive) {
            const snacks = document.querySelectorAll('.snackbar_snack');
            snacks.forEach(s => this.remove(s));
            if (snacks.length > 0)
                setTimeout(() => this._show(options, callback), 200 + 20);
            else
                this._show(options, callback);
            return;
        }
        this._show(options, callback);
    }
    _show(options, callback) {
        options = Object.assign(Object.assign({}, this.options), options);
        const container = this.getParentElement(options.parentId || this.defaultParentId);
        const Snack = (_message, _actions) => {
            const actionsArray = _actions.map((action) => {
                return core_1.h('a', {
                    class: 'snackbar_action',
                    style: `color: ${action.color || this.defaultActionColor}`,
                    onClick: () => {
                        callback({ name: action.name, id: action.id });
                        this.remove(el);
                    }
                }, action.name.toUpperCase());
            });
            const message = core_1.h('div', { class: 'snackbar_message' }, _message);
            const actions = core_1.h('div', { class: 'snackbar_actions' }, actionsArray);
            const snack = core_1.h('div', { class: 'snackbar_snack' }, message, actions);
            return snack;
        };
        const el = Snack(options.message, options.actions || []);
        // autoHide options
        if (options.autoHide === true)
            setTimeout(() => this.remove(el), 5000);
        else if (typeof options.autoHide === 'number')
            setTimeout(() => this.remove(el), options.autoHide);
        container.appendChild(el);
    }
}
exports.Snackbar = Snackbar;


/***/ }),

/***/ "./src/ui/tabs.ts":
/*!************************!*\
  !*** ./src/ui/tabs.ts ***!
  \************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Tabs = exports.Tab = void 0;
const component_1 = __webpack_require__(/*! ../component */ "./src/component.ts");
const core_1 = __webpack_require__(/*! ../core */ "./src/core.ts");
const _config_1 = __webpack_require__(/*! ./_config */ "./src/ui/_config.ts");
const _helpers_1 = __webpack_require__(/*! ./_helpers */ "./src/ui/_helpers.ts");
const Tab = (props) => {
    const classes = [props.itemClass, props.rippleClass];
    if (props.active)
        classes.push('active');
    const link = props.href ? { href: props.href } : {};
    const a = core_1.h('a', Object.assign({}, link), props.children);
    return core_1.h('li', { class: classes.join(' ') }, a);
};
exports.Tab = Tab;
class Tabs extends component_1.Component {
    constructor() {
        super(...arguments);
        this.active = this.props.active || 0;
    }
    didMount() {
        const adjustLine = (item) => {
            var _a;
            if (!item)
                return;
            const first = this.items[0].getBoundingClientRect();
            const active = item.getBoundingClientRect();
            this.line.style.left = `${active.x - first.x}px`;
            this.line.style.width = `${active.width}px`;
            // disable old
            (_a = document.querySelector('.tabs_item.active')) === null || _a === void 0 ? void 0 : _a.classList.remove('active');
            // enable new
            item.classList.add('active');
        };
        const scrollIntoView = (item) => {
            if (!this.props.scroll)
                return;
            item.scrollIntoView({
                behavior: 'smooth',
                block: 'center',
                inline: 'center'
            });
        };
        core_1.tick(() => {
            adjustLine(this.items[this.active]);
            scrollIntoView(this.items[this.active]);
        });
        for (let i = 0; i < this.items.length; i++) {
            const item = this.items[i];
            item.addEventListener('click', () => {
                this.active = i;
                // looks hacky, but works well :)
                setTimeout(() => adjustLine(item), 50);
                setTimeout(() => adjustLine(item), 100);
                setTimeout(() => adjustLine(item), 150);
                // does not work in safari
                scrollIntoView(item);
            });
        }
    }
    render() {
        var _a;
        const ripple = _config_1.rippleEffect('#ffffff70', '#5902db');
        const { scroll = false, children, active } = this.props;
        const cssHash = core_1.strToHash(scroll.toString() + (children === null || children === void 0 ? void 0 : children.length) + active + ripple.class);
        const styles = `
      .tabs_container-${cssHash} {
        background: #6204ee;

        width: 100%;
        height: 48px;

        overflow-x: ${this.props.scroll ? 'scroll' : 'hidden'};
        overflow-y: hidden;

        ${_config_1.userSelect}
      }

      /* Hide scrollbar for Chrome, Safari and Opera */
      .tabs_container-${cssHash}::-webkit-scrollbar {
        display: none;
      }

      /* Hide scrollbar for IE, Edge and Firefox */
      .tabs_container-${cssHash} {
        -ms-overflow-style: none; /* IE and Edge */
        scrollbar-width: none; /* Firefox */
      }

      .tabs_list-${cssHash} {
        ${!this.props.scroll ? 'display: flex; justify-content: space-evenly;' : ''}

        height: 100%;
        display: flex;
        list-style-type: none;
        margin: 0;
        padding: 0;
        cursor: pointer;
      }

      .tabs_item-${cssHash} {
        ${!this.props.scroll ? 'width: 100%; text-align: center;' : ''}

        padding-top: 16px;
        font-size: 14px;
        text-transform: uppercase;
        color: rgba(255, 255, 255, 0.75);
        transition: color 0.2s;
      }
      
      
      .tabs_item-${cssHash} a {
        font-size: 14px;
        padding: 16px 32px;
        text-decoration: none;
        text-transform: uppercase;
        color: rgba(255, 255, 255, 0.75);
        transition: color 0.2s;
      }

      .tabs_item-${cssHash}.active a {
        color: rgba(255, 255, 255, 1);
      }

      .tabs_item-${cssHash}:active {
        background: #5902db;
      }

      /* if the primary input mechanism system of the device can hover over elements with ease, we use hover */
      @media (hover: hover) {
        .tabs_item-${cssHash}:hover {
          background: #5902db;
        }
      }

      ${ripple.styles}

      .tabs_line-${cssHash} {
        border-bottom: 2px solid white;
        position: relative;
        top: -2px;

        opacity: 0;
        
        left: 50%;
        width: 0px;

        transition: left 0.5s, width 0.5s;

        animation-name: tabs_line_fadein;
        animation-duration: 0.25s;
        animation-delay: 0.25s;
        animation-fill-mode: forwards;
      }
      
      @keyframes tabs_line_fadein {
        from {opacity: 0;}
        to {opacity: 1;}
      }
      `;
        _helpers_1.addStylesToHead(styles, cssHash);
        // set the active tab
        (_a = this.props.children) === null || _a === void 0 ? void 0 : _a.forEach((c, i) => {
            // is active
            if (i === this.active)
                c.props = Object.assign(Object.assign({}, c.props), { active: true });
            // add ripple class
            c.props = Object.assign(Object.assign({}, c.props), { rippleClass: ripple.class, itemClass: `tabs_item-${cssHash}` });
        });
        this.items = core_1.render(this.props.children);
        const list = core_1.h('ul', { class: `tabs_list-${cssHash}` }, this.items);
        this.line = core_1.h('div', { class: `tabs_line-${cssHash}` });
        const container = core_1.h('div', { class: `tabs_container-${cssHash}` }, list, this.line);
        return container;
    }
}
exports.Tabs = Tabs;


/***/ }),

/***/ "./src/ui/toolbar.ts":
/*!***************************!*\
  !*** ./src/ui/toolbar.ts ***!
  \***************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Toolbar = void 0;
const component_1 = __webpack_require__(/*! ../component */ "./src/component.ts");
const core_1 = __webpack_require__(/*! ../core */ "./src/core.ts");
const classes = {
    bar: 'toolbar_container',
    left: 'toolbar_left',
    right: 'toolbar_right',
    icon: 'toolbar_icon'
};
class Toolbar extends component_1.Component {
    static setTitle(title) {
        const el = document.querySelector('.toolbar_title');
        if (el)
            el.innerText = title;
    }
    render() {
        const styles = `
      .toolbar_container {
        padding: 16px;
      }

      .toolbar_container .toolbar_text {
        font-size: 20px;
        margin-left: 24px;
      }

      .toolbar_container .toolbar_icon {
        width: 22px;
        height: 22px;
        margin-left: 24px;

        display: inline-block;
        content: '';

        /*-webkit-mask: url(YOUR_SVG_URL) no-repeat 50% 50%;
        mask: url(YOUR_SVG_URL) no-repeat 50% 50%;*/

        -webkit-mask-size: cover;
        mask-size: cover; 

        background-color: white;
      }

      .toolbar_navigation_box {
        padding: 4px;
        width: 20px;
        height: 16px;
        margin-right: 32px;
        cursor: pointer;
      }

      .toolbar_hamburger_button,
      .toolbar_hamburger_button::before,
      .toolbar_hamburger_button::after {
        position: absolute;
        width: 20px;
        height: 2px;
        border-radius: 2px;
        background: white;
        content: '';
      }
      .toolbar_hamburger_button::before {
        top: 6px;
      }
      .toolbar_hamburger_button::after {
        top: 12px;
      }

      .toolbar_button_wrapper {
        width: 24px;
        height: 24px;
        padding: 2px;
        position: relative;
        top: -2px;
      }

      .toolbar_back_button,
      .toolbar_back_button::before,
      .toolbar_back_button::after {
        position: relative;
        top: 7px;
        width: 20px;
        height: 2px;
        border-radius: 2px;
        background: white;
        content: '';
      }

      .toolbar_back_button::before {
        position: absolute;
        top: -5px;
        transform: translate3d(-4px,0,0) rotate(-45deg) scaleX(.7);
      }

      .toolbar_back_button::after {
        position: absolute;
        top: 5px;
        transform: translate3d(-4px,0,0) rotate(45deg) scaleX(.7);
      }
    `;
        document.head.appendChild(core_1.h('style', {}, styles));
        const { back = false, actionClick = () => { }, menu } = this.props;
        const navigationAction = menu
            ? core_1.h('div', {
                class: 'toolbar_button_wrapper',
                onClick: actionClick
            }, core_1.h('div', { class: 'toolbar_hamburger_button' }))
            : back
                ? core_1.h('div', {
                    class: 'toolbar_button_wrapper',
                    onClick: actionClick
                }, core_1.h('div', {
                    class: 'toolbar_back_button'
                }))
                : null;
        const navigation = navigationAction ? core_1.h('div', { class: 'toolbar_navigation_box' }, navigationAction) : null;
        const title = this.props.title ? core_1.h('div', { class: 'toolbar_title' }, this.props.title) : null;
        const left = core_1.h('div', { class: classes.left }, navigation, title);
        const right = core_1.h('div', { class: classes.right }, this.props.children);
        const bar = core_1.h('div', { class: classes.bar }, left, right);
        return bar;
    }
}
exports.Toolbar = Toolbar;


/***/ }),

/***/ "./src/version.ts":
/*!************************!*\
  !*** ./src/version.ts ***!
  \************************/
/***/ (function(__unused_webpack_module, exports) {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.VERSION = void 0;
// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.
exports.VERSION = '0.0.19';


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./src/bundles/bundle.full.ts");
/******/ 	nanoJSX = __webpack_exports__.default;
/******/ 	
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDLENBQUMsUUFBQyxDQUFDLEtBQUssRUFBRSxFQUFFLEtBQUssRUFBRSx3QkFBd0IsRUFBRSxFQUFFLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUk7UUFFNUcsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLFFBQUMsQ0FBQyxLQUFLLEVBQUUsRUFBRSxLQUFLLEVBQUUsZUFBZSxFQUFFLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSTtRQUU5RixNQUFNLElBQUksR0FBRyxRQUFDLENBQUMsS0FBSyxFQUFFLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQyxJQUFJLEVBQUUsRUFBRSxVQUFVLEVBQUUsS0FBSyxDQUFDO1FBQ2pFLE1BQU0sS0FBSyxHQUFHLFFBQUMsQ0FBQyxLQUFLLEVBQUUsRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDLEtBQUssRUFBRSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDO1FBRXJFLE1BQU0sR0FBRyxHQUFHLFFBQUMsQ0FBQyxLQUFLLEVBQUUsRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDLEdBQUcsRUFBRSxFQUFFLElBQUksRUFBRSxLQUFLLENBQUM7UUFFekQsT0FBTyxHQUFHO0lBQ1osQ0FBQztDQUNGO0FBaklELDBCQWlJQzs7Ozs7Ozs7Ozs7Ozs7QUNsSkQsaUVBQWlFO0FBQ3BELGVBQU8sR0FBRyxRQUFROzs7Ozs7O1VDRC9CO1VBQ0E7O1VBRUE7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7O1VBRUE7VUFDQTs7VUFFQTtVQUNBO1VBQ0E7Ozs7VUV0QkE7VUFDQTtVQUNBO1VBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uYW5vSlNYLy4vc3JjL2J1bmRsZXMvYnVuZGxlLmZ1bGwudHMiLCJ3ZWJwYWNrOi8vbmFub0pTWC8uL3NyYy9jb21wb25lbnQudHMiLCJ3ZWJwYWNrOi8vbmFub0pTWC8uL3NyYy9jb21wb25lbnRzL2hlbG1ldC50cyIsIndlYnBhY2s6Ly9uYW5vSlNYLy4vc3JjL2NvbXBvbmVudHMvaW1nLnRzIiwid2VicGFjazovL25hbm9KU1gvLi9zcmMvY29tcG9uZW50cy9saW5rLnRzIiwid2VicGFjazovL25hbm9KU1gvLi9zcmMvY29tcG9uZW50cy92aXNpYmxlLnRzIiwid2VicGFjazovL25hbm9KU1gvLi9zcmMvY29udGV4dC50cyIsIndlYnBhY2s6Ly9uYW5vSlNYLy4vc3JjL2NvcmUudHMiLCJ3ZWJwYWNrOi8vbmFub0pTWC8uL3NyYy9mcmFnbWVudC50cyIsIndlYnBhY2s6Ly9uYW5vSlNYLy4vc3JjL2hlbHBlcnMudHMiLCJ3ZWJwYWNrOi8vbmFub0pTWC8uL3NyYy9odG0udHMiLCJ3ZWJwYWNrOi8vbmFub0pTWC8uL3NyYy9odG0vYnVpbGQudHMiLCJ3ZWJwYWNrOi8vbmFub0pTWC8uL3NyYy9odG0vY29uc3RhbnRzLnRzIiwid2VicGFjazovL25hbm9KU1gvLi9zcmMvaHRtL2luZGV4LnRzIiwid2VicGFjazovL25hbm9KU1gvLi9zcmMvanN4LnRzIiwid2VicGFjazovL25hbm9KU1gvLi9zcmMvbGF6eS50cyIsIndlYnBhY2s6Ly9uYW5vSlNYLy4vc3JjL3N0YXRlLnRzIiwid2VicGFjazovL25hbm9KU1gvLi9zcmMvc3RvcmUudHMiLCJ3ZWJwYWNrOi8vbmFub0pTWC8uL3NyYy91aS9fY29uZmlnLnRzIiwid2VicGFjazovL25hbm9KU1gvLi9zcmMvdWkvX2hlbHBlcnMudHMiLCJ3ZWJwYWNrOi8vbmFub0pTWC8uL3NyYy91aS9hcHBCYXIudHMiLCJ3ZWJwYWNrOi8vbmFub0pTWC8uL3NyYy91aS9idXR0b24udHMiLCJ3ZWJwYWNrOi8vbmFub0pTWC8uL3NyYy91aS9kaWFsb2cudHMiLCJ3ZWJwYWNrOi8vbmFub0pTWC8uL3NyYy91aS9mYWIudHMiLCJ3ZWJwYWNrOi8vbmFub0pTWC8uL3NyYy91aS9pY29uLnRzIiwid2VicGFjazovL25hbm9KU1gvLi9zcmMvdWkvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vbmFub0pTWC8uL3NyYy91aS9saXN0LnRzIiwid2VicGFjazovL25hbm9KU1gvLi9zcmMvdWkvbWVudS50cyIsIndlYnBhY2s6Ly9uYW5vSlNYLy4vc3JjL3VpL25hdmlnYXRpb24udHMiLCJ3ZWJwYWNrOi8vbmFub0pTWC8uL3NyYy91aS9zbmFja2Jhci50cyIsIndlYnBhY2s6Ly9uYW5vSlNYLy4vc3JjL3VpL3RhYnMudHMiLCJ3ZWJwYWNrOi8vbmFub0pTWC8uL3NyYy91aS90b29sYmFyLnRzIiwid2VicGFjazovL25hbm9KU1gvLi9zcmMvdmVyc2lvbi50cyIsIndlYnBhY2s6Ly9uYW5vSlNYL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL25hbm9KU1gvd2VicGFjay9iZWZvcmUtc3RhcnR1cCIsIndlYnBhY2s6Ly9uYW5vSlNYL3dlYnBhY2svc3RhcnR1cCIsIndlYnBhY2s6Ly9uYW5vSlNYL3dlYnBhY2svYWZ0ZXItc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBjb3JlXHJcbmltcG9ydCB7IGgsIGh5ZHJhdGUsIHJlbW92ZUFsbENoaWxkTm9kZXMsIHJlbmRlciwgdGljayB9IGZyb20gJy4uL2NvcmUnXHJcbmltcG9ydCB7IGh5ZHJhdGVMYXp5IH0gZnJvbSAnLi4vbGF6eSdcclxuaW1wb3J0IHsgbm9kZVRvU3RyaW5nLCB0YXNrIH0gZnJvbSAnLi4vaGVscGVycydcclxuXHJcbi8vIHVzZWZ1bCB0b29sc1xyXG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICcuLi9jb21wb25lbnQnXHJcbmltcG9ydCB7IEZyYWdtZW50IH0gZnJvbSAnLi4vZnJhZ21lbnQnXHJcbmltcG9ydCB7IFN0b3JlIH0gZnJvbSAnLi4vc3RvcmUnXHJcbmltcG9ydCB7IGNyZWF0ZUNvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0J1xyXG5cclxuLy8gYnVpbHQtaW4gY29tcG9uZW50c1xyXG5pbXBvcnQgeyBIZWxtZXQgfSBmcm9tICcuLi9jb21wb25lbnRzL2hlbG1ldCdcclxuaW1wb3J0IHsgTGluayB9IGZyb20gJy4uL2NvbXBvbmVudHMvbGluaydcclxuaW1wb3J0IHsgSW1nIH0gZnJvbSAnLi4vY29tcG9uZW50cy9pbWcnXHJcbmltcG9ydCB7IFZpc2libGUgfSBmcm9tICcuLi9jb21wb25lbnRzL3Zpc2libGUnXHJcblxyXG4vLyB0YWdnZWQgdGVtcGxhdGVzXHJcbmltcG9ydCB7IGpzeCB9IGZyb20gJy4uL2pzeCdcclxuXHJcbi8vIHVpXHJcbmltcG9ydCAqIGFzIFVJIGZyb20gJy4uL3VpL2luZGV4J1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIGNyZWF0ZUNvbnRleHQsXHJcbiAgaCxcclxuICBoeWRyYXRlLFxyXG4gIGh5ZHJhdGVMYXp5LFxyXG4gIGpzeCxcclxuICBub2RlVG9TdHJpbmcsXHJcbiAgcmVtb3ZlQWxsQ2hpbGROb2RlcyxcclxuICByZW5kZXIsXHJcbiAgdGljayxcclxuICB0YXNrLFxyXG4gIENvbXBvbmVudCxcclxuICBGcmFnbWVudCxcclxuICBIZWxtZXQsXHJcbiAgSW1nLFxyXG4gIExpbmssXHJcbiAgU3RvcmUsXHJcbiAgVmlzaWJsZSxcclxuICBVSVxyXG59XHJcblxyXG4vLyB2ZXJzaW9uXHJcbmV4cG9ydCB7IHByaW50VmVyc2lvbiB9IGZyb20gJy4uL2hlbHBlcnMnXHJcbmV4cG9ydCB7IFZFUlNJT04gfSBmcm9tICcuLi92ZXJzaW9uJ1xyXG4iLCJpbXBvcnQgeyBvbk5vZGVSZW1vdmUgfSBmcm9tICcuL2hlbHBlcnMnXHJcbmltcG9ydCB7IHRpY2ssIF9yZW5kZXIgfSBmcm9tICcuL2NvcmUnXHJcbmltcG9ydCB7IF9zdGF0ZSB9IGZyb20gJy4vc3RhdGUnXHJcblxyXG5leHBvcnQgY2xhc3MgQ29tcG9uZW50PFAgZXh0ZW5kcyBPYmplY3QgPSBhbnksIFMgPSBhbnk+IHtcclxuICBwdWJsaWMgcHJvcHM6IFBcclxuICBwdWJsaWMgaWQ6IHN0cmluZ1xyXG4gIHByaXZhdGUgX2VsZW1lbnRzOiBIVE1MRWxlbWVudFtdID0gW11cclxuICBwcml2YXRlIF9za2lwVW5tb3VudCA9IGZhbHNlXHJcbiAgcHJpdmF0ZSBfaGFzVW5tb3VudGVkID0gZmFsc2VcclxuXHJcbiAgY29uc3RydWN0b3IocHJvcHM6IFApIHtcclxuICAgIHRoaXMucHJvcHMgPSBwcm9wcyB8fCB7fVxyXG4gICAgdGhpcy5pZCA9IHRoaXMuX2dldEhhc2goKVxyXG4gIH1cclxuXHJcbiAgcHVibGljIHN0YXRpYyBpc0NsYXNzKCkge1xyXG4gICAgcmV0dXJuIHRydWVcclxuICB9XHJcblxyXG4gIHNldFN0YXRlKHN0YXRlOiBTLCBzaG91bGRVcGRhdGU6IGJvb2xlYW4gPSBmYWxzZSkge1xyXG4gICAgY29uc3QgaXNPYmplY3QgPSB0eXBlb2Ygc3RhdGUgPT09ICdvYmplY3QnICYmIHN0YXRlICE9PSBudWxsXHJcblxyXG4gICAgLy8gaWYgc3RhdGUgaXMgYW4gb2JqZWN0LCB3ZSBtZXJnZSB0aGUgb2JqZWN0c1xyXG4gICAgaWYgKGlzT2JqZWN0ICYmIHRoaXMuc3RhdGUgIT09IHVuZGVmaW5lZCkgdGhpcy5zdGF0ZSA9IHsgLi4udGhpcy5zdGF0ZSwgLi4uc3RhdGUgfVxyXG4gICAgLy8gZWxzZSwgd2UganVzdCBvdmVyd3JpdGUgaXRcclxuICAgIGVsc2UgdGhpcy5zdGF0ZSA9IHN0YXRlXHJcblxyXG4gICAgaWYgKHNob3VsZFVwZGF0ZSkgdGhpcy51cGRhdGUoKVxyXG4gIH1cclxuXHJcbiAgc2V0IHN0YXRlKHN0YXRlOiBTKSB7XHJcbiAgICBfc3RhdGUuc2V0KHRoaXMuaWQsIHN0YXRlKVxyXG4gIH1cclxuXHJcbiAgZ2V0IHN0YXRlKCkge1xyXG4gICAgcmV0dXJuIF9zdGF0ZS5nZXQodGhpcy5pZCkgYXMgU1xyXG4gIH1cclxuXHJcbiAgc2V0IGluaXRTdGF0ZShzdGF0ZTogUykge1xyXG4gICAgaWYgKHRoaXMuc3RhdGUgPT09IHVuZGVmaW5lZCkgdGhpcy5zdGF0ZSA9IHN0YXRlXHJcbiAgfVxyXG5cclxuICAvKiogUmV0dXJucyBhbGwgY3VycmVudGx5IHJlbmRlcmVkIG5vZGUgZWxlbWVudHMgKi9cclxuICBwdWJsaWMgZ2V0IGVsZW1lbnRzKCk6IEhUTUxFbGVtZW50W10ge1xyXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnRzXHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0IGVsZW1lbnRzKGVsZW1lbnRzOiBIVE1MRWxlbWVudFtdKSB7XHJcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZWxlbWVudHMpKSBlbGVtZW50cyA9IFtlbGVtZW50c11cclxuXHJcbiAgICBlbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICB0aGlzLl9lbGVtZW50cy5wdXNoKGVsZW1lbnQpXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfYWRkTm9kZVJlbW92ZUxpc3RlbmVyKCkge1xyXG4gICAgLy8gY2hlY2sgaWYgZGlkVW5tb3VudCBpcyB1bnVzZWRcclxuICAgIGlmICgvXltee10re1xccyt9JC9nbS50ZXN0KHRoaXMuZGlkVW5tb3VudC50b1N0cmluZygpKSkgcmV0dXJuXHJcblxyXG4gICAgLy8gbGlzdGVuIGlmIHRoZSByb290IGVsZW1lbnRzIGdldHMgcmVtb3ZlZFxyXG4gICAgb25Ob2RlUmVtb3ZlKHRoaXMuZWxlbWVudHNbMF0sICgpID0+IHtcclxuICAgICAgaWYgKCF0aGlzLl9za2lwVW5tb3VudCkgdGhpcy5fZGlkVW5tb3VudCgpXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgLy8gQHRzLWlnbm9yZVxyXG4gIHByaXZhdGUgX2RpZE1vdW50KCk6IGFueSB7XHJcbiAgICB0aGlzLl9hZGROb2RlUmVtb3ZlTGlzdGVuZXIoKVxyXG4gICAgdGhpcy5kaWRNb3VudCgpXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9kaWRVbm1vdW50KCk6IGFueSB7XHJcbiAgICBpZiAodGhpcy5faGFzVW5tb3VudGVkKSByZXR1cm5cclxuICAgIHRoaXMuZGlkVW5tb3VudCgpXHJcbiAgICB0aGlzLl9oYXNVbm1vdW50ZWQgPSB0cnVlXHJcbiAgfVxyXG5cclxuICBwdWJsaWMgd2lsbE1vdW50KCk6IGFueSB7fVxyXG4gIHB1YmxpYyBkaWRNb3VudCgpOiBhbnkge31cclxuICBwdWJsaWMgZGlkVW5tb3VudCgpOiBhbnkge31cclxuXHJcbiAgcHVibGljIHJlbmRlcihfdXBkYXRlPzogYW55KTogSFRNTEVsZW1lbnQgfCB2b2lkIHt9XHJcblxyXG4gIC8qKiBXaWxsIGZvcmNlUmVuZGVyIHRoZSBjb21wb25lbnQgKi9cclxuICBwdWJsaWMgdXBkYXRlKHVwZGF0ZT86IGFueSkge1xyXG4gICAgdGhpcy5fc2tpcFVubW91bnQgPSB0cnVlXHJcbiAgICAvLyBnZXQgYWxsIGN1cnJlbnQgcmVuZGVyZWQgbm9kZSBlbGVtZW50c1xyXG4gICAgY29uc3Qgb2xkRWxlbWVudHMgPSBbLi4udGhpcy5lbGVtZW50c11cclxuXHJcbiAgICAvLyBjbGVhclxyXG4gICAgdGhpcy5fZWxlbWVudHMgPSBbXVxyXG5cclxuICAgIGxldCBlbCA9IHRoaXMucmVuZGVyKHVwZGF0ZSlcclxuICAgIGVsID0gX3JlbmRlcihlbClcclxuICAgIHRoaXMuZWxlbWVudHMgPSBlbCBhcyBhbnlcclxuXHJcbiAgICAvLyBjb25zb2xlLmxvZygnb2xkOiAnLCBvbGRFbGVtZW50cylcclxuICAgIC8vIGNvbnNvbGUubG9nKCduZXc6ICcsIHRoaXMuZWxlbWVudHMpXHJcblxyXG4gICAgLy8gZ2V0IHZhbGlkIHBhcmVudCBub2RlXHJcbiAgICBjb25zdCBwYXJlbnQgPSBvbGRFbGVtZW50c1swXS5wYXJlbnRFbGVtZW50IGFzIEhUTUxFbGVtZW50XHJcblxyXG4gICAgLy8gbWFrZSBzdXJlIHdlIGhhdmUgYSBwYXJlbnRcclxuICAgIGlmICghcGFyZW50KSBjb25zb2xlLndhcm4oJ0NvbXBvbmVudCBuZWVkcyBhIHBhcmVudCBlbGVtZW50IHRvIGdldCB1cGRhdGVkIScpXHJcblxyXG4gICAgLy8gYWRkIGFsbCBuZXcgbm9kZSBlbGVtZW50c1xyXG4gICAgdGhpcy5lbGVtZW50cy5mb3JFYWNoKChjaGlsZDogSFRNTEVsZW1lbnQpID0+IHtcclxuICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShjaGlsZCwgb2xkRWxlbWVudHNbMF0pXHJcbiAgICB9KVxyXG5cclxuICAgIC8vIHJlbW92ZSBhbGwgZWxlbWVudHNcclxuICAgIG9sZEVsZW1lbnRzLmZvckVhY2goKGNoaWxkOiBIVE1MRWxlbWVudCkgPT4ge1xyXG4gICAgICBjaGlsZC5yZW1vdmUoKVxyXG4gICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgIGNoaWxkID0gbnVsbFxyXG4gICAgfSlcclxuXHJcbiAgICAvLyBsaXN0ZW4gZm9yIG5vZGUgcmVtb3ZhbFxyXG4gICAgdGhpcy5fYWRkTm9kZVJlbW92ZUxpc3RlbmVyKClcclxuXHJcbiAgICB0aWNrKCgpID0+IHtcclxuICAgICAgdGhpcy5fc2tpcFVubW91bnQgPSBmYWxzZVxyXG4gICAgICBpZiAoIXRoaXMuZWxlbWVudHNbMF0uaXNDb25uZWN0ZWQpIHRoaXMuX2RpZFVubW91bnQoKVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX2dldEhhc2goKTogYW55IHt9XHJcbn1cclxuIiwiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tcG9uZW50J1xyXG5pbXBvcnQgeyBhcHBlbmRDaGlsZHJlbiwgaCB9IGZyb20gJy4uL2NvcmUnXHJcblxyXG5leHBvcnQgY2xhc3MgSGVsbWV0IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICBzdGF0aWMgU1NSKGJvZHk6IHN0cmluZykge1xyXG4gICAgY29uc3QgcmVnID0gLyg8aGVsbWV0XFxiW14+XSo+KSgoLnxcXG4pKj8pKDxcXC9oZWxtZXQ+KS9nbVxyXG5cclxuICAgIC8vIGNvbGxlY3QgYWxsIGVsZW1lbnRzXHJcbiAgICBjb25zdCBoZWFkOiBzdHJpbmdbXSA9IFtdXHJcbiAgICBjb25zdCBmb290ZXI6IHN0cmluZ1tdID0gW11cclxuXHJcbiAgICAvLyBnZXQgd2hhdCdzIGluIHRoZSBoZWFkXHJcbiAgICBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5oZWFkKSB7XHJcbiAgICAgIGxldCBjaGlsZHJlbjogc3RyaW5nW10gPSBbXVxyXG4gICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgIGNoaWxkcmVuID0gZG9jdW1lbnQuaGVhZC5jaGlsZHJlblxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgLy8gY2hlY2sgaWYgdGhlIHNhbWUgZWxlbWVudCBhbHJlYWR5IGV4aXN0c1xyXG4gICAgICAgIGlmIChoZWFkLmluZGV4T2YoY2hpbGRyZW5baV0pID09PSAtMSkge1xyXG4gICAgICAgICAgaGVhZC5wdXNoKGNoaWxkcmVuW2ldKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGxldCByZXN1bHRcclxuICAgIHdoaWxlICgocmVzdWx0ID0gcmVnLmV4ZWMoYm9keSkpICE9PSBudWxsKSB7XHJcbiAgICAgIGNvbnN0IGZpcnN0ID0gcmVzdWx0WzFdXHJcbiAgICAgIGNvbnN0IHNlY29uZCA9IHJlc3VsdFsyXVxyXG5cclxuICAgICAgY29uc3QgdG9IZWFkID0gZmlyc3QuaW5jbHVkZXMoJ2RhdGEtcGxhY2VtZW50PVwiaGVhZFwiJylcclxuXHJcbiAgICAgIC8vIGRvIG5vdCBhZGQgYW4gZWxlbWVudCBpZiBpdCBhbHJlYWR5IGV4aXN0c1xyXG4gICAgICBpZiAodG9IZWFkICYmICFoZWFkLmluY2x1ZGVzKHNlY29uZCkpIGhlYWQucHVzaChzZWNvbmQpXHJcbiAgICAgIGVsc2UgaWYgKCFmb290ZXIuaW5jbHVkZXMoc2Vjb25kKSkgZm9vdGVyLnB1c2goc2Vjb25kKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGNsZWFuIHRoZSBib2R5IGZyb20gYWxsIG1hdGNoZXNcclxuICAgIGNvbnN0IGNsZWFuQm9keSA9IGJvZHkucmVwbGFjZShyZWcsICcnKVxyXG4gICAgcmV0dXJuIHsgYm9keTogY2xlYW5Cb2R5LCBoZWFkLCBmb290ZXIgfVxyXG4gIH1cclxuXHJcbiAgZGlkTW91bnQoKSB7XHJcbiAgICB0aGlzLnByb3BzLmNoaWxkcmVuLmZvckVhY2goKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSA9PiB7XHJcbiAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMucHJvcHMuZm9vdGVyID8gZG9jdW1lbnQuYm9keSA6IGRvY3VtZW50LmhlYWRcclxuICAgICAgY29uc3QgdGFnID0gZWxlbWVudC50YWdOYW1lXHJcbiAgICAgIGxldCBhdHRyczogc3RyaW5nW10gPSBbXVxyXG5cclxuICAgICAgLy8gZ2V0IHRoZSBpbm5lciB0ZXh0XHJcbiAgICAgIGF0dHJzLnB1c2goZWxlbWVudC5pbm5lclRleHQgYXMgc3RyaW5nKVxyXG5cclxuICAgICAgLy8gZ2V0IGFsbCBhdHRyaWJ1dGVzXHJcbiAgICAgIGZvciAobGV0IGF0dHIgPSAwOyBhdHRyIDwgZWxlbWVudC5hdHRyaWJ1dGVzLmxlbmd0aDsgYXR0cisrKSB7XHJcbiAgICAgICAgYXR0cnMucHVzaChlbGVtZW50LmF0dHJpYnV0ZXMuaXRlbShhdHRyKT8ubmFtZS50b0xvd2VyQ2FzZSgpIGFzIHN0cmluZylcclxuICAgICAgICBhdHRycy5wdXNoKGVsZW1lbnQuYXR0cmlidXRlcy5pdGVtKGF0dHIpPy52YWx1ZS50b0xvd2VyQ2FzZSgpIGFzIHN0cmluZylcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gaGFuZGxlIHNwZWNpYWwgdGFnc1xyXG4gICAgICBpZiAodGFnID09PSAnSFRNTCcgfHwgdGFnID09PSAnQk9EWScpIHtcclxuICAgICAgICBjb25zdCBodG1sVGFnID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUodGFnKVswXVxyXG4gICAgICAgIGZvciAobGV0IGF0dHIgPSAxOyBhdHRyIDwgYXR0cnMubGVuZ3RoOyBhdHRyICs9IDIpIHtcclxuICAgICAgICAgIGh0bWxUYWcuc2V0QXR0cmlidXRlKGF0dHJzW2F0dHJdLCBhdHRyc1thdHRyICsgMV0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9IGVsc2UgaWYgKHRhZyA9PT0gJ1RJVExFJykge1xyXG4gICAgICAgIGNvbnN0IHRpdGxlVGFncyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdUSVRMRScpIGFzIEhUTUxDb2xsZWN0aW9uT2Y8SFRNTFRpdGxlRWxlbWVudD5cclxuICAgICAgICBpZiAodGl0bGVUYWdzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgIGNvbnN0IGUgPSBlbGVtZW50IGFzIEhUTUxUaXRsZUVsZW1lbnRcclxuICAgICAgICAgIHRpdGxlVGFnc1swXS50ZXh0ID0gZS50ZXh0XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnN0IHRpdGxlVGFnID0gaCgndGl0bGUnLCBudWxsLCBlbGVtZW50LmlubmVySFRNTCkgYXMgSFRNTFRpdGxlRWxlbWVudFxyXG4gICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKHRpdGxlVGFnKVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gY2hlY2sgaWYgdGhlIGVsZW1lbnQgYWxyZWFkeSBleGlzdHNcclxuICAgICAgbGV0IGV4aXN0cyA9IGZhbHNlXHJcbiAgICAgIGF0dHJzID0gYXR0cnMuc29ydCgpXHJcblxyXG4gICAgICBjb25zdCBlbDogSFRNTEVsZW1lbnRbXSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKHRhZykgYXMgYW55XHJcblxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgbGV0IGF0dHJzMjogc3RyaW5nW10gPSBbXVxyXG5cclxuICAgICAgICAvLyBnZXQgdGhlIGlubmVyIHRleHRcclxuICAgICAgICBhdHRyczIucHVzaChlbFtpXS5pbm5lclRleHQgYXMgc3RyaW5nKVxyXG5cclxuICAgICAgICBmb3IgKGxldCBhdHRyID0gMDsgYXR0ciA8IGVsW2ldLmF0dHJpYnV0ZXMubGVuZ3RoOyBhdHRyKyspIHtcclxuICAgICAgICAgIGF0dHJzMi5wdXNoKGVsW2ldLmF0dHJpYnV0ZXMuaXRlbShhdHRyKT8ubmFtZS50b0xvd2VyQ2FzZSgpIGFzIHN0cmluZylcclxuICAgICAgICAgIGF0dHJzMi5wdXNoKGVsW2ldLmF0dHJpYnV0ZXMuaXRlbShhdHRyKT8udmFsdWUudG9Mb3dlckNhc2UoKSBhcyBzdHJpbmcpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGF0dHJzMiA9IGF0dHJzMi5zb3J0KClcclxuXHJcbiAgICAgICAgaWYgKGF0dHJzLmxlbmd0aCA+IDAgJiYgYXR0cnMyLmxlbmd0aCA+IDAgJiYgSlNPTi5zdHJpbmdpZnkoYXR0cnMpID09PSBKU09OLnN0cmluZ2lmeShhdHRyczIpKSBleGlzdHMgPSB0cnVlXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIGFkZCB0byBkb21cclxuICAgICAgaWYgKCFleGlzdHMpIGFwcGVuZENoaWxkcmVuKHBhcmVudCwgZWxlbWVudClcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICBjb25zdCBwbGFjZW1lbnQgPSB0aGlzLnByb3BzLmZvb3RlciA/ICdmb290ZXInIDogJ2hlYWQnXHJcblxyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgY29uc3Qgc3NyID0gZ2xvYmFsVGhpcyAmJiBnbG9iYWxUaGlzLmlzU1NSID8gdHJ1ZSA6IGZhbHNlXHJcblxyXG4gICAgaWYgKHNzcikgcmV0dXJuIGgoJ2hlbG1ldCcsIHsgJ2RhdGEtc3NyJzogdHJ1ZSwgJ2RhdGEtcGxhY2VtZW50JzogcGxhY2VtZW50IH0sIHRoaXMucHJvcHMuY2hpbGRyZW4pXHJcbiAgICBlbHNlIHJldHVybiBbXSBhcyBhbnlcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tcG9uZW50J1xyXG5pbXBvcnQgeyBoLCBzdHJUb0hhc2ggfSBmcm9tICcuLi9jb3JlJ1xyXG5cclxuZXhwb3J0IGNsYXNzIEltZyBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgY29uc3RydWN0b3IocHJvcHM6IGFueSkge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgY29uc3QgeyBzcmMsIGtleSB9ID0gcHJvcHNcclxuXHJcbiAgICAvLyBpZCBoYXMgdG8gYmUgdW5pcXVlXHJcbiAgICB0aGlzLmlkID0gYCR7c3RyVG9IYXNoKHNyYyl9LSR7c3RyVG9IYXNoKEpTT04uc3RyaW5naWZ5KHByb3BzKSl9YFxyXG4gICAgaWYgKGtleSkgdGhpcy5pZCArPSBga2V5LSR7a2V5fWBcclxuXHJcbiAgICAvLyB0aGlzIGNvdWxkIGFsc28gYmUgZG9uZSBpbiB3aWxsTW91bnQoKVxyXG4gICAgaWYgKCF0aGlzLnN0YXRlKSB0aGlzLnNldFN0YXRlKHsgaXNMb2FkZWQ6IGZhbHNlLCBpbWFnZTogdW5kZWZpbmVkIH0pXHJcbiAgfVxyXG5cclxuICBkaWRNb3VudCgpIHtcclxuICAgIGNvbnN0IHsgbGF6eSA9IHRydWUsIHBsYWNlaG9sZGVyLCBjaGlsZHJlbiwga2V5LCByZWYsIC4uLnJlc3QgfSA9IHRoaXMucHJvcHNcclxuXHJcbiAgICBpZiAodHlwZW9mIGxhenkgPT09ICdib29sZWFuJyAmJiBsYXp5ID09PSBmYWxzZSkgcmV0dXJuXHJcblxyXG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXHJcbiAgICAgIChlbnRyaWVzLCBvYnNlcnZlcikgPT4ge1xyXG4gICAgICAgIGVudHJpZXMuZm9yRWFjaChlbnRyeSA9PiB7XHJcbiAgICAgICAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcclxuICAgICAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpXHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuaW1hZ2UgPSBoKCdpbWcnLCB7IC4uLnJlc3QgfSkgYXMgSFRNTEltYWdlRWxlbWVudFxyXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5pbWFnZS5jb21wbGV0ZSkge1xyXG4gICAgICAgICAgICAgIHRoaXMuc3RhdGUuaXNMb2FkZWQgPSB0cnVlXHJcbiAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHRoaXMuc3RhdGUuaW1hZ2Uub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pc0xvYWRlZCA9IHRydWVcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKClcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICB9LFxyXG4gICAgICB7IHRocmVzaG9sZDogWzAsIDFdIH1cclxuICAgIClcclxuICAgIG9ic2VydmVyLm9ic2VydmUodGhpcy5lbGVtZW50c1swXSlcclxuICB9XHJcbiAgcmVuZGVyKCkge1xyXG4gICAgY29uc3QgeyBzcmMsIHBsYWNlaG9sZGVyLCBjaGlsZHJlbiwgbGF6eSA9IHRydWUsIGtleSwgcmVmLCAuLi5yZXN0IH0gPSB0aGlzLnByb3BzXHJcblxyXG4gICAgLy8gcmV0dXJuIHRoZSBpbWcgdGFnIGlmIG5vdCBsYXp5IGxvYWRlZFxyXG4gICAgaWYgKHR5cGVvZiBsYXp5ID09PSAnYm9vbGVhbicgJiYgbGF6eSA9PT0gZmFsc2UpIHtcclxuICAgICAgdGhpcy5zdGF0ZS5pbWFnZSA9IGgoJ2ltZycsIHsgc3JjLCAuLi5yZXN0IH0pIGFzIEhUTUxJbWFnZUVsZW1lbnRcclxuICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuaW1hZ2VcclxuICAgIH1cclxuXHJcbiAgICAvLyBpZiBpdCBpcyB2aXNpYmxlIGFuZCBsb2FkZWQsIHNob3cgdGhlIGltYWdlXHJcbiAgICBpZiAodGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5zdGF0ZS5pbWFnZVxyXG4gICAgICAvLyBpZiB0aGUgcGxhY2Vob2xkZXIgaXMgYW4gaW1hZ2Ugc3JjXHJcbiAgICB9IGVsc2UgaWYgKHBsYWNlaG9sZGVyICYmIHR5cGVvZiBwbGFjZWhvbGRlciA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgcmV0dXJuIGgoJ2ltZycsIHsgc3JjOiBwbGFjZWhvbGRlciwgLi4ucmVzdCB9KVxyXG4gICAgICAvLyBpZiB0aGUgcGxhY2Vob2xkZXIgaXMgYW4gSlNYIGVsZW1lbnRcclxuICAgIH0gZWxzZSBpZiAocGxhY2Vob2xkZXIgJiYgdHlwZW9mIHBsYWNlaG9sZGVyID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIHJldHVybiBwbGFjZWhvbGRlcigpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyByZW5kZXIgYSBzaW1wbGUgYm94XHJcbiAgICAgIGNvbnN0IHN0eWxlOiBhbnkgPSB7fVxyXG4gICAgICBpZiAocmVzdC53aWR0aCkgc3R5bGUud2lkdGggPSBgJHtyZXN0LndpZHRofXB4YFxyXG4gICAgICBpZiAocmVzdC5oZWlnaHQpIHN0eWxlLmhlaWdodCA9IGAke3Jlc3QuaGVpZ2h0fXB4YFxyXG4gICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQsIC4uLm90aGVycyB9ID0gcmVzdFxyXG4gICAgICByZXR1cm4gaCgnZGl2JywgeyBzdHlsZSwgLi4ub3RoZXJzIH0pXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJy4uL2NvbXBvbmVudCdcclxuaW1wb3J0IHsgSGVsbWV0IH0gZnJvbSAnLi9oZWxtZXQnXHJcbmltcG9ydCB7IGggfSBmcm9tICcuLi9jb3JlJ1xyXG5pbXBvcnQgeyBGcmFnbWVudCB9IGZyb20gJy4uL2ZyYWdtZW50J1xyXG5cclxuLyoqXHJcbiAqIEEgc2ltcGxlIExpbmsgY29tcG9uZW50XHJcbiAqIEFkZCA8TGluayBwcmVmZXRjaCAuLi4sIHRvIHByZWZldGNoIHRoZSBodG1sIGRvY3VtZW50XHJcbiAqIEFkZCA8TGluayBwcmVmZXRjaD1cImhvdmVyXCIgLi4uLCB0byBwcmVmZXRjaCB0aGUgaHRtbCBkb2N1bWVudCBvbiBob3ZlcmluZyBvdmVyIHRoZSBsaW5rIGVsZW1lbnQuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTGluayBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgcHJlZmV0Y2hPbkhvdmVyKCkge1xyXG4gICAgdGhpcy5lbGVtZW50c1swXS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCAoKSA9PiB0aGlzLmFkZFByZWZldGNoKCksIHsgb25jZTogdHJ1ZSB9KVxyXG4gIH1cclxuXHJcbiAgcHJlZmV0Y2hPblZpc2libGUoKSB7XHJcbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcclxuICAgICAgKGVudHJpZXMsIG9ic2VydmVyKSA9PiB7XHJcbiAgICAgICAgZW50cmllcy5mb3JFYWNoKGVudHJ5ID0+IHtcclxuICAgICAgICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xyXG4gICAgICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KClcclxuICAgICAgICAgICAgdGhpcy5hZGRQcmVmZXRjaCgpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgfSxcclxuICAgICAgeyB0aHJlc2hvbGQ6IFswLCAxXSB9XHJcbiAgICApXHJcbiAgICBvYnNlcnZlci5vYnNlcnZlKHRoaXMuZWxlbWVudHNbMF0pXHJcbiAgfVxyXG5cclxuICBhZGRQcmVmZXRjaCgpIHtcclxuICAgIGxldCBkb2VzQWxyZWFkeUV4aXN0ID0gZmFsc2VcclxuXHJcbiAgICAvLyBjaGVjayBpZiBpdCBpcyBhbHJlYWR5IG9uIHRoZSBkb21cclxuICAgIGNvbnN0IGxpbmtzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2xpbmsnKVxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5rcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAvLyBpZiBpdCBpcyBub3QgYWxyZWFkeSBvbiB0aGUgZG9tLCBhZGQgaXRcclxuICAgICAgaWYgKGxpbmtzW2ldLmdldEF0dHJpYnV0ZSgncmVsJykgPT09ICdwcmVmZXRjaCcgJiYgbGlua3NbaV0uZ2V0QXR0cmlidXRlKCdocmVmJykgPT09IHRoaXMucHJvcHMuaHJlZikge1xyXG4gICAgICAgIGRvZXNBbHJlYWR5RXhpc3QgPSB0cnVlXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWRvZXNBbHJlYWR5RXhpc3QpIHtcclxuICAgICAgY29uc3QgcHJlZmV0Y2ggPSBoKCdsaW5rJywgeyByZWw6ICdwcmVmZXRjaCcsIGhyZWY6IHRoaXMucHJvcHMuaHJlZiwgYXM6ICdkb2N1bWVudCcgfSkgYXMgSFRNTEVsZW1lbnRcclxuICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChwcmVmZXRjaClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGRpZE1vdW50KCkge1xyXG4gICAgY29uc3QgeyBocmVmLCBwcmVmZXRjaCwgZGVsYXkgPSAwLCBiYWNrID0gZmFsc2UgfSA9IHRoaXMucHJvcHNcclxuXHJcbiAgICBpZiAoYmFjaylcclxuICAgICAgdGhpcy5lbGVtZW50c1swXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlOiBhbnkpID0+IHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcclxuICAgICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldCBhcyBIVE1MTGlua0VsZW1lbnRcclxuICAgICAgICBpZiAodGFyZ2V0LmhyZWYgPT09IGRvY3VtZW50LnJlZmVycmVyKSB3aW5kb3cuaGlzdG9yeS5iYWNrKClcclxuICAgICAgICBlbHNlIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdGFyZ2V0LmhyZWZcclxuICAgICAgfSlcclxuXHJcbiAgICBpZiAoZGVsYXkgPiAwKVxyXG4gICAgICB0aGlzLmVsZW1lbnRzWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGU6IGFueSkgPT4ge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gKHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gaHJlZiksIGRlbGF5KVxyXG4gICAgICB9KVxyXG5cclxuICAgIGlmIChwcmVmZXRjaCkge1xyXG4gICAgICBpZiAocHJlZmV0Y2ggPT09ICdob3ZlcicpIHRoaXMucHJlZmV0Y2hPbkhvdmVyKClcclxuICAgICAgZWxzZSBpZiAocHJlZmV0Y2ggPT09ICd2aXNpYmxlJykgdGhpcy5wcmVmZXRjaE9uVmlzaWJsZSgpXHJcbiAgICAgIGVsc2UgdGhpcy5hZGRQcmVmZXRjaCgpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICAvLyBzZXBhcmF0ZSBjaGlsZHJlbiBhbmQgcHJlZmV0Y2ggZnJvbSBwcm9wc1xyXG4gICAgY29uc3QgeyBjaGlsZHJlbiwgcHJlZmV0Y2gsIGJhY2ssIHJlZiwgLi4ucmVzdCB9ID0gdGhpcy5wcm9wc1xyXG5cclxuICAgIC8vIHNvbWUgd2FybmluZyBtZXNzYWdlc1xyXG4gICAgaWYgKCF0aGlzLnByb3BzLmhyZWYpIGNvbnNvbGUud2FybignUGxlYXNlIGFkZCBcImhyZWZcIiB0byA8TGluaz4nKVxyXG4gICAgaWYgKGNoaWxkcmVuLmxlbmd0aCAhPT0gMSkgY29uc29sZS53YXJuKCdQbGVhc2UgYWRkIE9ORSBjaGlsZCB0byA8TGluaz4gKDxMaW5rPmNoaWxkPC9MaW5rPiknKVxyXG5cclxuICAgIGNvbnN0IGEgPSBoKCdhJywgeyAuLi5yZXN0IH0sIC4uLmNoaWxkcmVuKSBhcyBhbnlcclxuXHJcbiAgICAvLyBpZiBzc3JcclxuICAgIGlmIChwcmVmZXRjaCA9PT0gdHJ1ZSAmJiAhKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCkpIHtcclxuICAgICAgLy8gPGxpbmsgcmVsPVwicHJlZmV0Y2hcIiBocmVmPVwiL2luZGV4Lmh0bWxcIiBhcz1cImRvY3VtZW50XCI+PC9saW5rPlxyXG4gICAgICBjb25zdCBsaW5rID0gaCgnbGluaycsIHsgcmVsOiAncHJlZmV0Y2gnLCBocmVmOiB0aGlzLnByb3BzLmhyZWYsIGFzOiAnZG9jdW1lbnQnIH0pXHJcbiAgICAgIGNvbnN0IGhlbG1ldCA9IGgoSGVsbWV0LCBudWxsLCBsaW5rKVxyXG5cclxuICAgICAgcmV0dXJuIGgoRnJhZ21lbnQsIG51bGwsIFtoZWxtZXQsIGFdKVxyXG4gICAgfVxyXG4gICAgLy8gaWYgbm90IHNzclxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHJldHVybiBhXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IGgsIHJlbmRlciB9IGZyb20gJy4uL2NvcmUnXHJcbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJy4uL2NvbXBvbmVudCdcclxuXHJcbmV4cG9ydCBjbGFzcyBWaXNpYmxlIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICBpc1Zpc2libGUgPSBmYWxzZVxyXG5cclxuICBkaWRNb3VudCgpIHtcclxuICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFxyXG4gICAgICAoZW50cmllcywgb2JzZXJ2ZXIpID0+IHtcclxuICAgICAgICBlbnRyaWVzLmZvckVhY2goZW50cnkgPT4ge1xyXG4gICAgICAgICAgaWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7XHJcbiAgICAgICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKVxyXG4gICAgICAgICAgICB0aGlzLmlzVmlzaWJsZSA9IHRydWVcclxuICAgICAgICAgICAgdGhpcy51cGRhdGUoKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0sXHJcbiAgICAgIHsgdGhyZXNob2xkOiBbMCwgMV0gfVxyXG4gICAgKVxyXG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLmVsZW1lbnRzWzBdKVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgaWYgKCF0aGlzLmlzVmlzaWJsZSkge1xyXG4gICAgICByZXR1cm4gaCgnZGl2JywgeyAnZGF0YS12aXNpYmxlJzogZmFsc2UsIHZpc2liaWxpdHk6ICdoaWRkZW4nIH0pXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAodGhpcy5wcm9wcy5vblZpc2libGUpIHRoaXMucHJvcHMub25WaXNpYmxlKClcclxuICAgICAgcmV0dXJuIHJlbmRlcih0aGlzLnByb3BzLmNvbXBvbmVudCB8fCB0aGlzLnByb3BzLmNoaWxkcmVuWzBdKVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY29uc3QgY3JlYXRlQ29udGV4dCA9IChjdHg6IGFueSkgPT4ge1xyXG4gIGxldCBfY3R4ID0gY3R4XHJcbiAgcmV0dXJuIHtcclxuICAgIFByb3ZpZGVyOiAocHJvcHM6IGFueSkgPT4ge1xyXG4gICAgICBpZiAocHJvcHMudmFsdWUpIF9jdHggPSBwcm9wcy52YWx1ZVxyXG4gICAgICByZXR1cm4gcHJvcHMuY2hpbGRyZW5cclxuICAgIH0sXHJcbiAgICBDb25zdW1lcjogKHByb3BzOiBhbnkpID0+IHtcclxuICAgICAgcmV0dXJuIHsgY29tcG9uZW50OiBwcm9wcy5jaGlsZHJlblswXShfY3R4KSwgcHJvcHM6IHsgLi4ucHJvcHMsIGNvbnRleHQ6IF9jdHggfSB9XHJcbiAgICB9LFxyXG4gICAgZ2V0OiAoKSA9PiBfY3R4LFxyXG4gICAgc2V0OiAoY3R4OiBhbnkpID0+IChfY3R4ID0gY3R4KVxyXG4gIH1cclxufVxyXG4iLCJkZWNsYXJlIGNvbnN0IGlzU1NSOiBib29sZWFuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEZDPFAgPSB7fT4ge1xyXG4gIChwcm9wczogUCk6IGFueVxyXG4gIC8vIChwcm9wczogUCwgY29udGV4dD86IGFueSk6IGFueVxyXG59XHJcblxyXG4vKiogQ3JlYXRlcyBhIG5ldyBNaWNyb3Rhc2sgdXNpbmcgUHJvbWlzZSgpICovXHJcbmV4cG9ydCBjb25zdCB0aWNrID0gdHlwZW9mIFByb21pc2UgPT0gJ2Z1bmN0aW9uJyA/IFByb21pc2UucHJvdG90eXBlLnRoZW4uYmluZChQcm9taXNlLnJlc29sdmUoKSkgOiBzZXRUaW1lb3V0XHJcblxyXG4vLyBjb25zdCBpc0RPTUVsZW1lbnQgPSAoZWxlbWVudDogYW55KSA9PiB7XHJcbi8vICAgcmV0dXJuIGVsZW1lbnQgJiYgZWxlbWVudC50YWdOYW1lICYmIHR5cGVvZiBlbGVtZW50LnRhZ05hbWUgPT09ICdzdHJpbmcnXHJcbi8vIH1cclxuXHJcbmV4cG9ydCBjb25zdCByZW1vdmVBbGxDaGlsZE5vZGVzID0gKHBhcmVudDogSFRNTEVsZW1lbnQpID0+IHtcclxuICB3aGlsZSAocGFyZW50LmZpcnN0Q2hpbGQpIHtcclxuICAgIHBhcmVudC5yZW1vdmVDaGlsZChwYXJlbnQuZmlyc3RDaGlsZClcclxuICB9XHJcbn1cclxuXHJcbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS83NjE2NDg0LzEyNjU2ODU1XHJcbmV4cG9ydCBjb25zdCBzdHJUb0hhc2ggPSAoczogc3RyaW5nKSA9PiB7XHJcbiAgbGV0IGhhc2ggPSAwXHJcblxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcy5sZW5ndGg7IGkrKykge1xyXG4gICAgY29uc3QgY2hyID0gcy5jaGFyQ29kZUF0KGkpXHJcbiAgICBoYXNoID0gKGhhc2ggPDwgNSkgLSBoYXNoICsgY2hyXHJcbiAgICBoYXNoIHw9IDAgLy8gQ29udmVydCB0byAzMmJpdCBpbnRlZ2VyXHJcbiAgfVxyXG4gIHJldHVybiBNYXRoLmFicyhoYXNoKS50b1N0cmluZygzMilcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGFwcGVuZENoaWxkcmVuID0gKGVsZW1lbnQ6IGFueSwgY2hpbGRyZW46IGFueSkgPT4ge1xyXG4gIC8vIGlmIHRoZSBjaGlsZCBpcyBhbiBodG1sIGVsZW1lbnRcclxuICBpZiAoIUFycmF5LmlzQXJyYXkoY2hpbGRyZW4pKSB7XHJcbiAgICBhcHBlbmRDaGlsZHJlbihlbGVtZW50LCBbY2hpbGRyZW5dKVxyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG5cclxuICAvLyBodG1sQ29sbGVjdGlvbiB0byBhcnJheVxyXG4gIGlmICh0eXBlb2YgY2hpbGRyZW4gPT09ICdvYmplY3QnKSBjaGlsZHJlbiA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGNoaWxkcmVuKVxyXG5cclxuICBjaGlsZHJlbi5mb3JFYWNoKChjaGlsZDogYW55KSA9PiB7XHJcbiAgICAvLyBpZiBjaGlsZCBpcyBhbiBhcnJheSBvZiBjaGlsZHJlbiwgYXBwZW5kIHRoZW0gaW5zdGVhZFxyXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGQpKSBhcHBlbmRDaGlsZHJlbihlbGVtZW50LCBjaGlsZClcclxuICAgIGVsc2Uge1xyXG4gICAgICAvLyByZW5kZXIgdGhlIGNvbXBvbmVudFxyXG4gICAgICBjb25zdCBjID0gX3JlbmRlcihjaGlsZCkgYXMgSFRNTEVsZW1lbnRcclxuXHJcbiAgICAgIGlmICh0eXBlb2YgYyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAvLyBpZiBjIGlzIGFuIGFycmF5IG9mIGNoaWxkcmVuLCBhcHBlbmQgdGhlbSBpbnN0ZWFkXHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYykpIGFwcGVuZENoaWxkcmVuKGVsZW1lbnQsIGMpXHJcbiAgICAgICAgLy8gYXBwbHkgdGhlIGNvbXBvbmVudCB0byBwYXJlbnQgZWxlbWVudFxyXG4gICAgICAgIGVsc2UgZWxlbWVudC5hcHBlbmRDaGlsZChjLm5vZGVUeXBlID09IG51bGwgPyBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjLnRvU3RyaW5nKCkpIDogYylcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIHNpbXBsZSBjb21wb25lbnQgZm9yIHJlbmRlcmluZyBTVkdzXHJcbiAqL1xyXG5jb25zdCBTVkcgPSAocHJvcHM6IGFueSkgPT4ge1xyXG4gIGNvbnN0IGNoaWxkID0gcHJvcHMuY2hpbGRyZW5bMF0gYXMgU1ZHRWxlbWVudFxyXG4gIGNvbnN0IGF0dHJzID0gY2hpbGQuYXR0cmlidXRlc1xyXG5cclxuICBjb25zdCBzdmcgPSBoTlMoJ3N2ZycpIGFzIFNWR0VsZW1lbnRcclxuICBmb3IgKGxldCBpID0gYXR0cnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgIHN2Zy5zZXRBdHRyaWJ1dGUoYXR0cnNbaV0ubmFtZSwgYXR0cnNbaV0udmFsdWUpXHJcbiAgfVxyXG4gIHN2Zy5pbm5lckhUTUwgPSBjaGlsZC5pbm5lckhUTUxcclxuXHJcbiAgcmV0dXJuIHN2ZyBhcyBhbnlcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGh5ZHJhdGUgPSAoY29tcG9uZW50OiBhbnksIHBhcmVudDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbCwgcmVtb3ZlQ2hpbGROb2RlcyA9IHRydWUpID0+IHtcclxuICByZXR1cm4gcmVuZGVyKGNvbXBvbmVudCwgcGFyZW50LCByZW1vdmVDaGlsZE5vZGVzKVxyXG59XHJcblxyXG4vKiogUmV0dXJucyB0aGUgcG9wdWxhdGVkIHBhcmVudCBpZiBhdmFpbGFibGUgZWxzZSAgb25lIGNoaWxkIG9yIGFuIGFycmF5IG9mIGNoaWxkcmVuICovXHJcbmV4cG9ydCBjb25zdCByZW5kZXIgPSAoY29tcG9uZW50OiBhbnksIHBhcmVudDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbCwgcmVtb3ZlQ2hpbGROb2RlcyA9IHRydWUpID0+IHtcclxuICBsZXQgZWwgPSBfcmVuZGVyKGNvbXBvbmVudClcclxuXHJcbiAgaWYgKEFycmF5LmlzQXJyYXkoZWwpKSB7XHJcbiAgICBlbCA9IGVsLm1hcChlID0+IF9yZW5kZXIoZSkpXHJcbiAgICBpZiAoZWwubGVuZ3RoID09PSAxKSBlbCA9IGVsWzBdXHJcbiAgfVxyXG5cclxuICBpZiAocGFyZW50KSB7XHJcbiAgICBpZiAocmVtb3ZlQ2hpbGROb2RlcykgcmVtb3ZlQWxsQ2hpbGROb2RlcyhwYXJlbnQpXHJcblxyXG4gICAgLy8gaWYgcGFyZW50IGFuZCBjaGlsZCBhcmUgdGhlIHNhbWUsIHdlIHJlcGxhY2UgdGhlIHBhcmVudCBpbnN0ZWFkIG9mIGFwcGVuZGluZyB0byBpdFxyXG4gICAgaWYgKGVsICYmIHBhcmVudC5pZCAmJiBwYXJlbnQuaWQgPT09IGVsLmlkICYmIHBhcmVudC5wYXJlbnRFbGVtZW50KSB7XHJcbiAgICAgIHBhcmVudC5wYXJlbnRFbGVtZW50LnJlcGxhY2VDaGlsZChlbCwgcGFyZW50KVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gYXBwZW5kIGVsZW1lbnQocykgdG8gdGhlIHBhcmVudFxyXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShlbCkpXHJcbiAgICAgICAgZWwuZm9yRWFjaCgoZTogYW55KSA9PiB7XHJcbiAgICAgICAgICBhcHBlbmRDaGlsZHJlbihwYXJlbnQsIF9yZW5kZXIoZSkpXHJcbiAgICAgICAgICAvL3BhcmVudC5hcHBlbmRDaGlsZChfcmVuZGVyKGUpKVxyXG4gICAgICAgIH0pXHJcbiAgICAgIGVsc2UgYXBwZW5kQ2hpbGRyZW4ocGFyZW50LCBfcmVuZGVyKGVsKSlcclxuICAgIH1cclxuXHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBpZiAocGFyZW50LnNzcikgcmV0dXJuIHBhcmVudC5zc3JcclxuICAgIHJldHVybiBwYXJlbnRcclxuICB9XHJcbiAgLy8gcmV0dXJuaW5nIG9uZSBjaGlsZCBvciBhbiBhcnJheSBvZiBjaGlsZHJlblxyXG4gIGVsc2Uge1xyXG4gICAgaWYgKHR5cGVvZiBpc1NTUiA9PT0gJ2Jvb2xlYW4nICYmIGlzU1NSID09PSB0cnVlICYmICFBcnJheS5pc0FycmF5KGVsKSkgcmV0dXJuIFtlbF1cclxuICAgIHJldHVybiBlbFxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IF9yZW5kZXIgPSAoY29tcDogYW55KTogYW55ID0+IHtcclxuICAvLyB1bmRlZmluZWRcclxuICBpZiAodHlwZW9mIGNvbXAgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gW11cclxuXHJcbiAgLy8gbnVsbFxyXG4gIGlmIChjb21wID09IG51bGwpIHJldHVybiBbXVxyXG5cclxuICAvLyBzdHJpbmdcclxuICBpZiAodHlwZW9mIGNvbXAgPT09ICdzdHJpbmcnKSByZXR1cm4gY29tcFxyXG5cclxuICAvLyBudW1iZXJcclxuICBpZiAodHlwZW9mIGNvbXAgPT09ICdudW1iZXInKSByZXR1cm4gY29tcC50b1N0cmluZygpXHJcblxyXG4gIC8vIFNWR0VsZW1lbnRcclxuICBpZiAoY29tcC50YWdOYW1lICYmIGNvbXAudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnc3ZnJykgcmV0dXJuIFNWRyh7IGNoaWxkcmVuOiBbY29tcF0gfSlcclxuXHJcbiAgLy8gSFRNTEVsZW1lbnRcclxuICBpZiAoY29tcC50YWdOYW1lKSByZXR1cm4gY29tcFxyXG5cclxuICAvLyBDbGFzcyBDb21wb25lbnRcclxuICBpZiAoY29tcCAmJiBjb21wLmNvbXBvbmVudCAmJiBjb21wLmNvbXBvbmVudC5pc0NsYXNzICYmIGNvbXAuY29tcG9uZW50LmlzQ2xhc3MoKSkgcmV0dXJuIHJlbmRlckNsYXNzQ29tcG9uZW50KGNvbXApXHJcblxyXG4gIC8vIEZ1bmN0aW9uYWwgQ29tcG9uZW50XHJcbiAgaWYgKGNvbXAuY29tcG9uZW50ICYmIHR5cGVvZiBjb21wLmNvbXBvbmVudCA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIHJlbmRlckZ1bmN0aW9uYWxDb21wb25lbnQoY29tcClcclxuXHJcbiAgLy8gQXJyYXkgKHJlbmRlciBlYWNoIGNoaWxkIGFuZCByZXR1cm4gdGhlIGFycmF5KSAoaXMgcHJvYmFibHkgYSBmcmFnbWVudClcclxuICBpZiAoQXJyYXkuaXNBcnJheShjb21wKSkgcmV0dXJuIGNvbXAubWFwKGMgPT4gX3JlbmRlcihjKSkuZmxhdCgpXHJcblxyXG4gIC8vIGZ1bmN0aW9uXHJcbiAgaWYgKHR5cGVvZiBjb21wID09PSAnZnVuY3Rpb24nKSByZXR1cm4gX3JlbmRlcihjb21wKCkpXHJcblxyXG4gIC8vIGlmIGNvbXBvbmVudCBpcyBhIEhUTUxFbGVtZW50IChyYXJlIGNhc2UpXHJcbiAgaWYgKGNvbXAuY29tcG9uZW50ICYmIGNvbXAuY29tcG9uZW50LnRhZ05hbWUgJiYgdHlwZW9mIGNvbXAuY29tcG9uZW50LnRhZ05hbWUgPT09ICdzdHJpbmcnKVxyXG4gICAgcmV0dXJuIF9yZW5kZXIoY29tcC5jb21wb25lbnQpXHJcblxyXG4gIC8vIChyYXJlIGNhc2UpXHJcbiAgaWYgKEFycmF5LmlzQXJyYXkoY29tcC5jb21wb25lbnQpKSByZXR1cm4gX3JlbmRlcihjb21wLmNvbXBvbmVudClcclxuXHJcbiAgLy8gKHJhcmUgY2FzZSlcclxuICBpZiAoY29tcC5jb21wb25lbnQpIHJldHVybiBfcmVuZGVyKGNvbXAuY29tcG9uZW50KVxyXG5cclxuICAvLyBvYmplY3RcclxuICBpZiAodHlwZW9mIGNvbXAgPT09ICdvYmplY3QnKSByZXR1cm4gW11cclxuXHJcbiAgY29uc29sZS53YXJuKCdTb21ldGhpbmcgdW5leHBlY3RlZCBoYXBwZW5lZCB3aXRoOicsIGNvbXApXHJcbn1cclxuXHJcbmNvbnN0IHJlbmRlckZ1bmN0aW9uYWxDb21wb25lbnQgPSAoZm5jQ29tcDogYW55KTogYW55ID0+IHtcclxuICBjb25zdCB7IGNvbXBvbmVudCwgcHJvcHMgfSA9IGZuY0NvbXBcclxuICByZXR1cm4gX3JlbmRlcihjb21wb25lbnQocHJvcHMpKVxyXG59XHJcblxyXG5jb25zdCByZW5kZXJDbGFzc0NvbXBvbmVudCA9IChjbGFzc0NvbXA6IGFueSk6IGFueSA9PiB7XHJcbiAgY29uc3QgeyBjb21wb25lbnQsIHByb3BzIH0gPSBjbGFzc0NvbXBcclxuXHJcbiAgLy8gY2FsYyBoYXNoXHJcbiAgY29uc3QgaGFzaCA9IHN0clRvSGFzaChjb21wb25lbnQudG9TdHJpbmcoKSlcclxuXHJcbiAgLy8gbWFrZSBoYXNoIGFjY2Vzc2libGUgaW4gY29uc3RydWN0b3IsIHdpdGhvdXQgcGFzc2luZyBpdCB0byBpdFxyXG4gIGNvbXBvbmVudC5wcm90b3R5cGUuX2dldEhhc2ggPSAoKSA9PiBoYXNoXHJcblxyXG4gIGNvbnN0IENvbXBvbmVudCA9IG5ldyBjb21wb25lbnQocHJvcHMpXHJcbiAgQ29tcG9uZW50LndpbGxNb3VudCgpXHJcblxyXG4gIGxldCBlbCA9IENvbXBvbmVudC5yZW5kZXIoKVxyXG4gIGVsID0gX3JlbmRlcihlbClcclxuICBDb21wb25lbnQuZWxlbWVudHMgPSBlbFxyXG5cclxuICAvLyBwYXNzIHRoZSBjb21wb25lbnQgaW5zdGFuY2UgYXMgcmVmXHJcbiAgaWYgKHByb3BzICYmIHByb3BzLnJlZikgcHJvcHMucmVmKENvbXBvbmVudClcclxuXHJcbiAgaWYgKHR5cGVvZiBpc1NTUiA9PT0gJ3VuZGVmaW5lZCcpXHJcbiAgICB0aWNrKCgpID0+IHtcclxuICAgICAgQ29tcG9uZW50Ll9kaWRNb3VudCgpXHJcbiAgICB9KVxyXG5cclxuICByZXR1cm4gZWxcclxufVxyXG5cclxuLyoqIEBkZXByZWNhdGVkIHJlbmRlckNvbXBvbmVudCgpIGlzIGRlcHJlY2F0ZWQsIHVzZSBfcmVuZGVyKCkgaW5zdGVhZCEgKi9cclxuZXhwb3J0IGNvbnN0IHJlbmRlckNvbXBvbmVudCA9IChfY29tcG9uZW50OiBhbnkpOiBhbnkgPT4ge1xyXG4gIGNvbnNvbGUud2FybignREVQUkVDQVRFRDogcmVuZGVyQ29tcG9uZW50KCkgaXMgZGVwcmVjYXRlZCwgdXNlIF9yZW5kZXIoKSBpbnN0ZWFkIScpXHJcblxyXG4gIC8vIHRoaXMgZml4ZXMgc29tZSBzc3IgaXNzdWVzIHdoZW4gdXNpbmcgZnJhZ21lbnRzXHJcbiAgLy8gaWYgKHR5cGVvZiBpc1NTUiA9PT0gJ2Jvb2xlYW4nICYmIGlzU1NSID09PSB0cnVlICYmIEFycmF5LmlzQXJyYXkoZWwpKSB7XHJcbiAgLy8gICBlbCA9IGVsXHJcbiAgLy8gICAgIC5tYXAoKGUpID0+IHtcclxuICAvLyAgICAgICByZXR1cm4gX3JlbmRlcihlKVxyXG4gIC8vICAgICB9KVxyXG4gIC8vICAgICAuam9pbignJylcclxuICAvLyB9XHJcbn1cclxuXHJcbmNvbnN0IGhOUyA9ICh0YWc6IHN0cmluZykgPT4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsIHRhZykgYXMgU1ZHRWxlbWVudFxyXG5cclxuLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQyNDA1Njk0LzEyNjU2ODU1XHJcbmV4cG9ydCBjb25zdCBoID0gKHRhZ05hbWVPckNvbXBvbmVudDogYW55LCBwcm9wczogYW55LCAuLi5jaGlsZHJlbjogYW55KSA9PiB7XHJcbiAgLy8gaWYgdGFnTmFtZU9yQ29tcG9uZW50IGlzIGEgY29tcG9uZW50XHJcbiAgaWYgKHR5cGVvZiB0YWdOYW1lT3JDb21wb25lbnQgIT09ICdzdHJpbmcnKVxyXG4gICAgcmV0dXJuIHsgY29tcG9uZW50OiB0YWdOYW1lT3JDb21wb25lbnQsIHByb3BzOiB7IC4uLnByb3BzLCBjaGlsZHJlbjogY2hpbGRyZW4gfSB9XHJcblxyXG4gIGxldCByZWZcclxuXHJcbiAgY29uc3QgZWxlbWVudCA9XHJcbiAgICB0YWdOYW1lT3JDb21wb25lbnQgPT09ICdzdmcnXHJcbiAgICAgID8gKGhOUygnc3ZnJykgYXMgU1ZHRWxlbWVudClcclxuICAgICAgOiAoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lT3JDb21wb25lbnQpIGFzIEhUTUxFbGVtZW50KVxyXG5cclxuICAvLyBjaGVjayBpZiB0aGUgZWxlbWVudCBpbmNsdWRlcyB0aGUgZXZlbnQgKGZvciBleGFtcGxlICdvbmlucHV0JylcclxuICBjb25zdCBpc0V2ZW50ID0gKGVsOiBIVE1MRWxlbWVudCB8IGFueSwgcDogc3RyaW5nKSA9PiB7XHJcbiAgICAvLyBjaGVjayBpZiB0aGUgZXZlbnQgYmVnaW5zIHdpdGggJ29uJ1xyXG4gICAgaWYgKDAgIT09IHAuaW5kZXhPZignb24nKSkgcmV0dXJuIGZhbHNlXHJcblxyXG4gICAgLy8gd2UgcmV0dXJuIHRydWUgaWYgU1NSLCBzaW5jZSBvdGhlcndpc2UgaXQgd2lsbCBnZXQgcmVuZGVyZWRcclxuICAgIGlmIChlbC5zc3IpIHJldHVybiB0cnVlXHJcblxyXG4gICAgLy8gY2hlY2sgaWYgdGhlIGV2ZW50IGlzIHByZXNlbnQgaW4gdGhlIGVsZW1lbnQgYXMgb2JqZWN0IChudWxsKSBvciBhcyBmdW5jdGlvblxyXG4gICAgcmV0dXJuIHR5cGVvZiBlbFtwXSA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIGVsW3BdID09PSAnZnVuY3Rpb24nXHJcbiAgfVxyXG5cclxuICBmb3IgKGNvbnN0IHAgaW4gcHJvcHMpIHtcclxuICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS80NTIwNTY0NS8xMjY1Njg1NVxyXG4gICAgLy8gc3R5bGUgb2JqZWN0IHRvIHN0eWxlIHN0cmluZ1xyXG4gICAgaWYgKHAgPT09ICdzdHlsZScgJiYgdHlwZW9mIHByb3BzW3BdID09PSAnb2JqZWN0Jykge1xyXG4gICAgICBjb25zdCBzdHlsZXMgPSBPYmplY3Qua2V5cyhwcm9wc1twXSlcclxuICAgICAgICAubWFwKGsgPT4gYCR7a306JHtwcm9wc1twXVtrXX1gKVxyXG4gICAgICAgIC5qb2luKCc7JylcclxuICAgICAgICAucmVwbGFjZSgvW0EtWl0vZywgbWF0Y2ggPT4gYC0ke21hdGNoLnRvTG93ZXJDYXNlKCl9YClcclxuICAgICAgcHJvcHNbcF0gPSBgJHtzdHlsZXN9O2BcclxuICAgIH1cclxuXHJcbiAgICAvLyBoYW5kZWwgcmVmXHJcbiAgICBpZiAocCA9PT0gJ3JlZicpIHJlZiA9IHByb3BzW3BdXHJcbiAgICAvLyBoYW5kbGUgZXZlbnRzXHJcbiAgICBlbHNlIGlmIChpc0V2ZW50KGVsZW1lbnQsIHAudG9Mb3dlckNhc2UoKSkpXHJcbiAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihwLnRvTG93ZXJDYXNlKCkuc3Vic3RyaW5nKDIpLCAoZTogYW55KSA9PiBwcm9wc1twXShlKSlcclxuICAgIGVsc2UgaWYgKC9jbGFzc05hbWUvaS50ZXN0KHApKSBjb25zb2xlLndhcm4oJ1lvdSBjYW4gdXNlIFwiY2xhc3NcIiBpbnN0ZWFkIG9mIFwiY2xhc3NOYW1lXCIuJylcclxuICAgIGVsc2UgZWxlbWVudC5zZXRBdHRyaWJ1dGUocCwgcHJvcHNbcF0pXHJcbiAgfVxyXG5cclxuICBhcHBlbmRDaGlsZHJlbihlbGVtZW50LCBjaGlsZHJlbilcclxuXHJcbiAgaWYgKHJlZikgcmVmKGVsZW1lbnQpXHJcbiAgLy8gQHRzLWlnbm9yZVxyXG4gIGlmIChlbGVtZW50LnNzcikgcmV0dXJuIGVsZW1lbnQuc3NyXHJcbiAgcmV0dXJuIGVsZW1lbnRcclxufVxyXG4iLCJleHBvcnQgY29uc3QgRnJhZ21lbnQgPSAocHJvcHM6IGFueSkgPT4ge1xyXG4gIHJldHVybiBwcm9wcy5jaGlsZHJlblxyXG59XHJcbiIsImltcG9ydCB7IFZFUlNJT04gfSBmcm9tICcuL3ZlcnNpb24nXHJcblxyXG4vKiogQ3JlYXRlcyBhIG5ldyBUYXNrIHVzaW5nIHNldFRpbWVvdXQoKSAqL1xyXG5leHBvcnQgY29uc3QgdGFzayA9ICh0YXNrOiAoKSA9PiB2b2lkKSA9PiBzZXRUaW1lb3V0KHRhc2ssIDApXHJcblxyXG5leHBvcnQgY29uc3Qgbm9kZVRvU3RyaW5nID0gKG5vZGU6IGFueSkgPT4ge1xyXG4gIGNvbnN0IHRtcE5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gIHRtcE5vZGUuYXBwZW5kQ2hpbGQobm9kZS5jbG9uZU5vZGUodHJ1ZSkpXHJcbiAgcmV0dXJuIHRtcE5vZGUuaW5uZXJIVE1MXHJcbn1cclxuXHJcbmNvbnN0IGlzRGVzY2VuZGFudDogYW55ID0gKGRlc2M6IGFueSwgcm9vdDogYW55KSA9PiB7XHJcbiAgcmV0dXJuICEhZGVzYyAmJiAoZGVzYyA9PT0gcm9vdCB8fCBpc0Rlc2NlbmRhbnQoZGVzYy5wYXJlbnROb2RlLCByb290KSlcclxufVxyXG5cclxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL011dGF0aW9uT2JzZXJ2ZXJcclxuZXhwb3J0IGNvbnN0IG9uTm9kZVJlbW92ZSA9IChlbGVtZW50OiBhbnksIGNhbGxiYWNrOiBhbnkpID0+IHtcclxuICBsZXQgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihtdXRhdGlvbnNMaXN0ID0+IHtcclxuICAgIG11dGF0aW9uc0xpc3QuZm9yRWFjaChtdXRhdGlvbiA9PiB7XHJcbiAgICAgIG11dGF0aW9uLnJlbW92ZWROb2Rlcy5mb3JFYWNoKHJlbW92ZWQgPT4ge1xyXG4gICAgICAgIGlmIChpc0Rlc2NlbmRhbnQoZWxlbWVudCwgcmVtb3ZlZCkpIHtcclxuICAgICAgICAgIGNhbGxiYWNrKClcclxuICAgICAgICAgIGlmIChvYnNlcnZlcikge1xyXG4gICAgICAgICAgICAvLyBhbGxvdyBnYXJiYWdlIGNvbGxlY3Rpb25cclxuICAgICAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpXHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgb2JzZXJ2ZXIgPSB1bmRlZmluZWRcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gIH0pXHJcbiAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudCwge1xyXG4gICAgY2hpbGRMaXN0OiB0cnVlLFxyXG4gICAgc3VidHJlZTogdHJ1ZVxyXG4gIH0pXHJcbiAgcmV0dXJuIG9ic2VydmVyXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBwcmludFZlcnNpb24gPSAoKSA9PiB7XHJcbiAgY29uc3QgaW5mbyA9IGBQb3dlcmVkIGJ5IG5hbm8gSlNYIHYke1ZFUlNJT059YFxyXG4gIGNvbnNvbGUubG9nKFxyXG4gICAgYCVjICVjICVjICVjICVjICR7aW5mb30gJWMgaHR0cDovL25hbm9qc3guaW9gLFxyXG4gICAgJ2JhY2tncm91bmQ6ICNmZjAwMDAnLFxyXG4gICAgJ2JhY2tncm91bmQ6ICNmZmZmMDAnLFxyXG4gICAgJ2JhY2tncm91bmQ6ICMwMGZmMDAnLFxyXG4gICAgJ2JhY2tncm91bmQ6ICMwMGZmZmYnLFxyXG4gICAgJ2NvbG9yOiAjZmZmOyBiYWNrZ3JvdW5kOiAjMDAwMDAwOycsXHJcbiAgICAnYmFja2dyb3VuZDogbm9uZSdcclxuICApXHJcbn1cclxuIiwiaW1wb3J0IGh0bSBmcm9tICcuL2h0bS9pbmRleCdcclxuZXhwb3J0IGRlZmF1bHQgaHRtXHJcbiIsImltcG9ydCB7IE1JTkkgfSBmcm9tICcuL2NvbnN0YW50cydcclxuXHJcbmNvbnN0IE1PREVfU0xBU0ggPSAwXHJcbmNvbnN0IE1PREVfVEVYVCA9IDFcclxuY29uc3QgTU9ERV9XSElURVNQQUNFID0gMlxyXG5jb25zdCBNT0RFX1RBR05BTUUgPSAzXHJcbmNvbnN0IE1PREVfQ09NTUVOVCA9IDRcclxuY29uc3QgTU9ERV9QUk9QX1NFVCA9IDVcclxuY29uc3QgTU9ERV9QUk9QX0FQUEVORCA9IDZcclxuXHJcbmNvbnN0IENISUxEX0FQUEVORCA9IDBcclxuY29uc3QgQ0hJTERfUkVDVVJTRSA9IDJcclxuY29uc3QgVEFHX1NFVCA9IDNcclxuY29uc3QgUFJPUFNfQVNTSUdOID0gNFxyXG5jb25zdCBQUk9QX1NFVCA9IE1PREVfUFJPUF9TRVRcclxuY29uc3QgUFJPUF9BUFBFTkQgPSBNT0RFX1BST1BfQVBQRU5EXHJcblxyXG4vLyBUdXJuIGEgcmVzdWx0IG9mIGEgYnVpbGQoLi4uKSBjYWxsIGludG8gYSB0cmVlIHRoYXQgaXMgbW9yZVxyXG4vLyBjb252ZW5pZW50IHRvIGFuYWx5emUgYW5kIHRyYW5zZm9ybSAoZS5nLiBCYWJlbCBwbHVnaW5zKS5cclxuLy8gRm9yIGV4YW1wbGU6XHJcbi8vIFx0dHJlZWlmeShcclxuLy9cdFx0YnVpbGQnPGRpdiBocmVmPVwiMSR7YX1cIiAuLi4ke2J9Pjwke3h9IC8+PC9kaXY+YCxcclxuLy9cdFx0W1gsIFksIFpdXHJcbi8vXHQpXHJcbi8vIHJldHVybnM6XHJcbi8vIFx0e1xyXG4vLyBcdFx0dGFnOiAnZGl2JyxcclxuLy9cdFx0cHJvcHM6IFsgeyBocmVmOiBbXCIxXCIsIFhdIH0sXHRZIF0sXHJcbi8vIFx0XHRjaGlsZHJlbjogWyB7IHRhZzogWiwgcHJvcHM6IFtdLCBjaGlsZHJlbjogW10gfSBdXHJcbi8vIFx0fVxyXG5leHBvcnQgY29uc3QgdHJlZWlmeSA9IChidWlsdDogYW55LCBmaWVsZHM6IGFueSkgPT4ge1xyXG4gIGNvbnN0IF90cmVlaWZ5ID0gKGJ1aWx0OiBhbnkpOiBhbnkgPT4ge1xyXG4gICAgbGV0IHRhZyA9ICcnXHJcbiAgICBsZXQgY3VycmVudFByb3BzID0gbnVsbFxyXG4gICAgY29uc3QgcHJvcHMgPSBbXVxyXG4gICAgY29uc3QgY2hpbGRyZW4gPSBbXVxyXG5cclxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgYnVpbHQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3QgdHlwZSA9IGJ1aWx0W2krK11cclxuICAgICAgY29uc3QgdmFsdWUgPSBidWlsdFtpXSA/IGZpZWxkc1tidWlsdFtpKytdIC0gMV0gOiBidWlsdFsrK2ldXHJcblxyXG4gICAgICBpZiAodHlwZSA9PT0gVEFHX1NFVCkge1xyXG4gICAgICAgIHRhZyA9IHZhbHVlXHJcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gUFJPUFNfQVNTSUdOKSB7XHJcbiAgICAgICAgcHJvcHMucHVzaCh2YWx1ZSlcclxuICAgICAgICBjdXJyZW50UHJvcHMgPSBudWxsXHJcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gUFJPUF9TRVQpIHtcclxuICAgICAgICBpZiAoIWN1cnJlbnRQcm9wcykge1xyXG4gICAgICAgICAgY3VycmVudFByb3BzID0gT2JqZWN0LmNyZWF0ZShudWxsKVxyXG4gICAgICAgICAgcHJvcHMucHVzaChjdXJyZW50UHJvcHMpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGN1cnJlbnRQcm9wc1tidWlsdFsrK2ldXSA9IFt2YWx1ZV1cclxuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBQUk9QX0FQUEVORCkge1xyXG4gICAgICAgIGN1cnJlbnRQcm9wc1tidWlsdFsrK2ldXS5wdXNoKHZhbHVlKVxyXG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IENISUxEX1JFQ1VSU0UpIHtcclxuICAgICAgICBjaGlsZHJlbi5wdXNoKF90cmVlaWZ5KHZhbHVlKSlcclxuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBDSElMRF9BUFBFTkQpIHtcclxuICAgICAgICBjaGlsZHJlbi5wdXNoKHZhbHVlKVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHsgdGFnLCBwcm9wcywgY2hpbGRyZW4gfVxyXG4gIH1cclxuICBjb25zdCB7IGNoaWxkcmVuIH0gPSBfdHJlZWlmeShidWlsdClcclxuICByZXR1cm4gY2hpbGRyZW4ubGVuZ3RoID4gMSA/IGNoaWxkcmVuIDogY2hpbGRyZW5bMF1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGV2YWx1YXRlID0gKGg6IGFueSwgYnVpbHQ6IGFueSwgZmllbGRzOiBhbnksIGFyZ3M6IGFueSk6IGFueSA9PiB7XHJcbiAgbGV0IHRtcFxyXG5cclxuICAvLyBgYnVpbGQoKWAgdXNlZCB0aGUgZmlyc3QgZWxlbWVudCBvZiB0aGUgb3BlcmF0aW9uIGxpc3QgYXNcclxuICAvLyB0ZW1wb3Jhcnkgd29ya3NwYWNlLiBOb3cgdGhhdCBgYnVpbGQoKWAgaXMgZG9uZSB3ZSBjYW4gdXNlXHJcbiAgLy8gdGhhdCBzcGFjZSB0byB0cmFjayB3aGV0aGVyIHRoZSBjdXJyZW50IGVsZW1lbnQgaXMgXCJkeW5hbWljXCJcclxuICAvLyAoaS5lLiBpdCBvciBhbnkgb2YgaXRzIGRlc2NlbmRhbnRzIGRlcGVuZCBvbiBkeW5hbWljIHZhbHVlcykuXHJcbiAgYnVpbHRbMF0gPSAwXHJcblxyXG4gIGZvciAobGV0IGkgPSAxOyBpIDwgYnVpbHQubGVuZ3RoOyBpKyspIHtcclxuICAgIGNvbnN0IHR5cGUgPSBidWlsdFtpKytdXHJcblxyXG4gICAgLy8gU2V0IGBidWlsdFswXWAncyBhcHByb3ByaWF0ZSBiaXRzIGlmIHRoaXMgZWxlbWVudCBkZXBlbmRzIG9uIGEgZHluYW1pYyB2YWx1ZS5cclxuICAgIGNvbnN0IHZhbHVlID0gYnVpbHRbaV0gPyAoKGJ1aWx0WzBdIHw9IHR5cGUgPyAxIDogMiksIGZpZWxkc1tidWlsdFtpKytdXSkgOiBidWlsdFsrK2ldXHJcblxyXG4gICAgaWYgKHR5cGUgPT09IFRBR19TRVQpIHtcclxuICAgICAgYXJnc1swXSA9IHZhbHVlXHJcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFBST1BTX0FTU0lHTikge1xyXG4gICAgICBhcmdzWzFdID0gT2JqZWN0LmFzc2lnbihhcmdzWzFdIHx8IHt9LCB2YWx1ZSlcclxuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gUFJPUF9TRVQpIHtcclxuICAgICAgOyhhcmdzWzFdID0gYXJnc1sxXSB8fCB7fSlbYnVpbHRbKytpXV0gPSB2YWx1ZVxyXG4gICAgfSBlbHNlIGlmICh0eXBlID09PSBQUk9QX0FQUEVORCkge1xyXG4gICAgICBhcmdzWzFdW2J1aWx0WysraV1dICs9IGAke3ZhbHVlfWBcclxuICAgIH0gZWxzZSBpZiAodHlwZSkge1xyXG4gICAgICAvLyB0eXBlID09PSBDSElMRF9SRUNVUlNFXHJcbiAgICAgIC8vIFNldCB0aGUgb3BlcmF0aW9uIGxpc3QgKGluY2x1ZGluZyB0aGUgc3RhdGljbmVzcyBiaXRzKSBhc1xyXG4gICAgICAvLyBgdGhpc2AgZm9yIHRoZSBgaGAgY2FsbC5cclxuICAgICAgdG1wID0gaC5hcHBseSh2YWx1ZSwgZXZhbHVhdGUoaCwgdmFsdWUsIGZpZWxkcywgWycnLCBudWxsXSkpXHJcbiAgICAgIGFyZ3MucHVzaCh0bXApXHJcblxyXG4gICAgICBpZiAodmFsdWVbMF0pIHtcclxuICAgICAgICAvLyBTZXQgdGhlIDJuZCBsb3dlc3QgYml0IGl0IHRoZSBjaGlsZCBlbGVtZW50IGlzIGR5bmFtaWMuXHJcbiAgICAgICAgYnVpbHRbMF0gfD0gMlxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIFJld3JpdGUgdGhlIG9wZXJhdGlvbiBsaXN0IGluLXBsYWNlIGlmIHRoZSBjaGlsZCBlbGVtZW50IGlzIHN0YXRpYy5cclxuICAgICAgICAvLyBUaGUgY3VycmVudGx5IGV2YWx1YXRlZCBwaWVjZSBgQ0hJTERfUkVDVVJTRSwgMCwgWy4uLl1gIGJlY29tZXNcclxuICAgICAgICAvLyBgQ0hJTERfQVBQRU5ELCAwLCB0bXBgLlxyXG4gICAgICAgIC8vIEVzc2VudGlhbGx5IHRoZSBvcGVyYXRpb24gbGlzdCBnZXRzIG9wdGltaXplZCBmb3IgcG90ZW50aWFsIGZ1dHVyZVxyXG4gICAgICAgIC8vIHJlLWV2YWx1YXRpb25zLlxyXG4gICAgICAgIGJ1aWx0W2kgLSAyXSA9IENISUxEX0FQUEVORFxyXG4gICAgICAgIGJ1aWx0W2ldID0gdG1wXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIHR5cGUgPT09IENISUxEX0FQUEVORFxyXG4gICAgICBhcmdzLnB1c2godmFsdWUpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gYXJnc1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgYnVpbGQgPSBmdW5jdGlvbiAoc3RhdGljczogVGVtcGxhdGVTdHJpbmdzQXJyYXksIC4uLnJlc3Q6IGFueVtdKSB7XHJcbiAgY29uc3QgZmllbGRzID0gW3N0YXRpY3MsIC4uLnJlc3RdXHJcbiAgLy8gQHRzLWlnbm9yZVxyXG4gIGNvbnN0IGggPSB0aGlzXHJcblxyXG4gIGxldCBtb2RlOiBhbnkgPSBNT0RFX1RFWFRcclxuICBsZXQgYnVmZmVyID0gJydcclxuICBsZXQgcXVvdGUgPSAnJ1xyXG4gIGxldCBjdXJyZW50OiBhbnkgPSBbMF1cclxuICBsZXQgY2hhcjogYW55XHJcbiAgbGV0IHByb3BOYW1lOiBhbnlcclxuXHJcbiAgY29uc3QgY29tbWl0ID0gKGZpZWxkPzogYW55KSA9PiB7XHJcbiAgICBpZiAobW9kZSA9PT0gTU9ERV9URVhUICYmIChmaWVsZCB8fCAoYnVmZmVyID0gYnVmZmVyLnJlcGxhY2UoL15cXHMqXFxuXFxzKnxcXHMqXFxuXFxzKiQvZywgJycpKSkpIHtcclxuICAgICAgaWYgKE1JTkkpIHtcclxuICAgICAgICBjdXJyZW50LnB1c2goZmllbGQgPyBmaWVsZHNbZmllbGRdIDogYnVmZmVyKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGN1cnJlbnQucHVzaChDSElMRF9BUFBFTkQsIGZpZWxkLCBidWZmZXIpXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gTU9ERV9UQUdOQU1FICYmIChmaWVsZCB8fCBidWZmZXIpKSB7XHJcbiAgICAgIGlmIChNSU5JKSB7XHJcbiAgICAgICAgY3VycmVudFsxXSA9IGZpZWxkID8gZmllbGRzW2ZpZWxkXSA6IGJ1ZmZlclxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGN1cnJlbnQucHVzaChUQUdfU0VULCBmaWVsZCwgYnVmZmVyKVxyXG4gICAgICB9XHJcbiAgICAgIG1vZGUgPSBNT0RFX1dISVRFU1BBQ0VcclxuICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gTU9ERV9XSElURVNQQUNFICYmIGJ1ZmZlciA9PT0gJy4uLicgJiYgZmllbGQpIHtcclxuICAgICAgaWYgKE1JTkkpIHtcclxuICAgICAgICBjdXJyZW50WzJdID0gT2JqZWN0LmFzc2lnbihjdXJyZW50WzJdIHx8IHt9LCBmaWVsZHNbZmllbGRdKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGN1cnJlbnQucHVzaChQUk9QU19BU1NJR04sIGZpZWxkLCAwKVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKG1vZGUgPT09IE1PREVfV0hJVEVTUEFDRSAmJiBidWZmZXIgJiYgIWZpZWxkKSB7XHJcbiAgICAgIGlmIChNSU5JKSB7XHJcbiAgICAgICAgOyhjdXJyZW50WzJdID0gY3VycmVudFsyXSB8fCB7fSlbYnVmZmVyXSA9IHRydWVcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjdXJyZW50LnB1c2goUFJPUF9TRVQsIDAsIHRydWUsIGJ1ZmZlcilcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChtb2RlID49IE1PREVfUFJPUF9TRVQpIHtcclxuICAgICAgaWYgKE1JTkkpIHtcclxuICAgICAgICBpZiAobW9kZSA9PT0gTU9ERV9QUk9QX1NFVCkge1xyXG4gICAgICAgICAgOyhjdXJyZW50WzJdID0gY3VycmVudFsyXSB8fCB7fSlbcHJvcE5hbWVdID0gZmllbGRcclxuICAgICAgICAgICAgPyBidWZmZXJcclxuICAgICAgICAgICAgICA/IGJ1ZmZlciArIGZpZWxkc1tmaWVsZF1cclxuICAgICAgICAgICAgICA6IGZpZWxkc1tmaWVsZF1cclxuICAgICAgICAgICAgOiBidWZmZXJcclxuICAgICAgICAgIG1vZGUgPSBNT0RFX1BST1BfQVBQRU5EXHJcbiAgICAgICAgfSBlbHNlIGlmIChmaWVsZCB8fCBidWZmZXIpIHtcclxuICAgICAgICAgIGN1cnJlbnRbMl1bcHJvcE5hbWVdICs9IGZpZWxkID8gYnVmZmVyICsgZmllbGRzW2ZpZWxkXSA6IGJ1ZmZlclxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAoYnVmZmVyIHx8ICghZmllbGQgJiYgbW9kZSA9PT0gTU9ERV9QUk9QX1NFVCkpIHtcclxuICAgICAgICAgIGN1cnJlbnQucHVzaChtb2RlLCAwLCBidWZmZXIsIHByb3BOYW1lKVxyXG4gICAgICAgICAgbW9kZSA9IE1PREVfUFJPUF9BUFBFTkRcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGZpZWxkKSB7XHJcbiAgICAgICAgICBjdXJyZW50LnB1c2gobW9kZSwgZmllbGQsIDAsIHByb3BOYW1lKVxyXG4gICAgICAgICAgbW9kZSA9IE1PREVfUFJPUF9BUFBFTkRcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBidWZmZXIgPSAnJ1xyXG4gIH1cclxuXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGF0aWNzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBpZiAoaSkge1xyXG4gICAgICBpZiAobW9kZSA9PT0gTU9ERV9URVhUKSB7XHJcbiAgICAgICAgY29tbWl0KClcclxuICAgICAgfVxyXG4gICAgICBjb21taXQoaSlcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IHN0YXRpY3NbaV0ubGVuZ3RoOyBqKyspIHtcclxuICAgICAgY2hhciA9IHN0YXRpY3NbaV1bal1cclxuXHJcbiAgICAgIGlmIChtb2RlID09PSBNT0RFX1RFWFQpIHtcclxuICAgICAgICBpZiAoY2hhciA9PT0gJzwnKSB7XHJcbiAgICAgICAgICAvLyBjb21taXQgYnVmZmVyXHJcbiAgICAgICAgICBjb21taXQoKVxyXG4gICAgICAgICAgaWYgKE1JTkkpIHtcclxuICAgICAgICAgICAgY3VycmVudCA9IFtjdXJyZW50LCAnJywgbnVsbF1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnQgPSBbY3VycmVudF1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIG1vZGUgPSBNT0RFX1RBR05BTUVcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYnVmZmVyICs9IGNoYXJcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gTU9ERV9DT01NRU5UKSB7XHJcbiAgICAgICAgLy8gSWdub3JlIGV2ZXJ5dGhpbmcgdW50aWwgdGhlIGxhc3QgdGhyZWUgY2hhcmFjdGVycyBhcmUgJy0nLCAnLScgYW5kICc+J1xyXG4gICAgICAgIGlmIChidWZmZXIgPT09ICctLScgJiYgY2hhciA9PT0gJz4nKSB7XHJcbiAgICAgICAgICBtb2RlID0gTU9ERV9URVhUXHJcbiAgICAgICAgICBidWZmZXIgPSAnJ1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBidWZmZXIgPSBjaGFyICsgYnVmZmVyWzBdXHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKHF1b3RlKSB7XHJcbiAgICAgICAgaWYgKGNoYXIgPT09IHF1b3RlKSB7XHJcbiAgICAgICAgICBxdW90ZSA9ICcnXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGJ1ZmZlciArPSBjaGFyXHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKGNoYXIgPT09ICdcIicgfHwgY2hhciA9PT0gXCInXCIpIHtcclxuICAgICAgICBxdW90ZSA9IGNoYXJcclxuICAgICAgfSBlbHNlIGlmIChjaGFyID09PSAnPicpIHtcclxuICAgICAgICBjb21taXQoKVxyXG4gICAgICAgIG1vZGUgPSBNT0RFX1RFWFRcclxuICAgICAgfSBlbHNlIGlmICghbW9kZSkge1xyXG4gICAgICAgIC8vIElnbm9yZSBldmVyeXRoaW5nIHVudGlsIHRoZSB0YWcgZW5kc1xyXG4gICAgICB9IGVsc2UgaWYgKGNoYXIgPT09ICc9Jykge1xyXG4gICAgICAgIG1vZGUgPSBNT0RFX1BST1BfU0VUXHJcbiAgICAgICAgcHJvcE5hbWUgPSBidWZmZXJcclxuICAgICAgICBidWZmZXIgPSAnJ1xyXG4gICAgICB9IGVsc2UgaWYgKGNoYXIgPT09ICcvJyAmJiAobW9kZSA8IE1PREVfUFJPUF9TRVQgfHwgc3RhdGljc1tpXVtqICsgMV0gPT09ICc+JykpIHtcclxuICAgICAgICBjb21taXQoKVxyXG4gICAgICAgIGlmIChtb2RlID09PSBNT0RFX1RBR05BTUUpIHtcclxuICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50WzBdXHJcbiAgICAgICAgfVxyXG4gICAgICAgIG1vZGUgPSBjdXJyZW50XHJcbiAgICAgICAgaWYgKE1JTkkpIHtcclxuICAgICAgICAgIDsoY3VycmVudCA9IGN1cnJlbnRbMF0pLnB1c2goaCguLi5tb2RlLnNsaWNlKDEpKSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgOyhjdXJyZW50ID0gY3VycmVudFswXSkucHVzaChDSElMRF9SRUNVUlNFLCAwLCBtb2RlKVxyXG4gICAgICAgIH1cclxuICAgICAgICBtb2RlID0gTU9ERV9TTEFTSFxyXG4gICAgICB9IGVsc2UgaWYgKGNoYXIgPT09ICcgJyB8fCBjaGFyID09PSAnXFx0JyB8fCBjaGFyID09PSAnXFxuJyB8fCBjaGFyID09PSAnXFxyJykge1xyXG4gICAgICAgIC8vIDxhIGRpc2FibGVkPlxyXG4gICAgICAgIGNvbW1pdCgpXHJcbiAgICAgICAgbW9kZSA9IE1PREVfV0hJVEVTUEFDRVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGJ1ZmZlciArPSBjaGFyXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChtb2RlID09PSBNT0RFX1RBR05BTUUgJiYgYnVmZmVyID09PSAnIS0tJykge1xyXG4gICAgICAgIG1vZGUgPSBNT0RFX0NPTU1FTlRcclxuICAgICAgICBjdXJyZW50ID0gY3VycmVudFswXVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIGNvbW1pdCgpXHJcblxyXG4gIGlmIChNSU5JKSB7XHJcbiAgICByZXR1cm4gY3VycmVudC5sZW5ndGggPiAyID8gY3VycmVudC5zbGljZSgxKSA6IGN1cnJlbnRbMV1cclxuICB9XHJcbiAgcmV0dXJuIGN1cnJlbnRcclxufVxyXG4iLCJleHBvcnQgY29uc3QgTUlOSSA9IGZhbHNlXHJcbiIsIi8qKlxyXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBNSU5JIH0gZnJvbSAnLi9jb25zdGFudHMnXHJcbmltcG9ydCB7IGJ1aWxkLCBldmFsdWF0ZSB9IGZyb20gJy4vYnVpbGQnXHJcblxyXG5jb25zdCBDQUNIRVMgPSBuZXcgTWFwKClcclxuXHJcbmNvbnN0IHJlZ3VsYXIgPSBmdW5jdGlvbiAoc3RhdGljczogYW55KSB7XHJcbiAgLy8gQHRzLWlnbm9yZVxyXG4gIGxldCB0bXAgPSBDQUNIRVMuZ2V0KHRoaXMpXHJcbiAgaWYgKCF0bXApIHtcclxuICAgIHRtcCA9IG5ldyBNYXAoKVxyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgQ0FDSEVTLnNldCh0aGlzLCB0bXApXHJcbiAgfVxyXG4gIC8vIEB0cy1pZ25vcmVcclxuICB0bXAgPSBldmFsdWF0ZSh0aGlzLCB0bXAuZ2V0KHN0YXRpY3MpIHx8ICh0bXAuc2V0KHN0YXRpY3MsICh0bXAgPSBidWlsZChzdGF0aWNzKSkpLCB0bXApLCBhcmd1bWVudHMsIFtdKVxyXG4gIHJldHVybiB0bXAubGVuZ3RoID4gMSA/IHRtcCA6IHRtcFswXVxyXG59XHJcblxyXG4vLyBleHBvcnQgYXMgaHRtXHJcbmV4cG9ydCBkZWZhdWx0IE1JTkkgPyBidWlsZCA6IHJlZ3VsYXJcclxuIiwiaW1wb3J0IHsgaCB9IGZyb20gJy4vY29yZSdcclxuaW1wb3J0IGh0bSBmcm9tICcuL2h0bSdcclxuY29uc3QganN4ID0gaHRtLmJpbmQoaClcclxuXHJcbmV4cG9ydCB7IGpzeCB9XHJcbiIsImltcG9ydCB7IGh5ZHJhdGUsIGggfSBmcm9tICcuL2NvcmUnXHJcbmltcG9ydCB7IFZpc2libGUgfSBmcm9tICcuL2NvbXBvbmVudHMvdmlzaWJsZSdcclxuXHJcbmV4cG9ydCBjb25zdCBoeWRyYXRlTGF6eSA9IChjb21wb25lbnQ6IGFueSwgcGFyZW50OiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsLCByZW1vdmVDaGlsZE5vZGVzID0gdHJ1ZSkgPT4ge1xyXG4gIGNvbnN0IGMgPSBoKFZpc2libGUsIG51bGwsIGNvbXBvbmVudClcclxuICByZXR1cm4gaHlkcmF0ZShjLCBwYXJlbnQsIHJlbW92ZUNoaWxkTm9kZXMpXHJcbn1cclxuIiwiLyoqIEhvbGRzIHRoZSBzdGF0ZSBvZiB0aGUgd2hvbGUgYXBwbGljYXRpb24uICovXHJcbmV4cG9ydCBjb25zdCBfc3RhdGU6IE1hcDxzdHJpbmcsIGFueT4gPSBuZXcgTWFwKClcclxuXHJcbi8qKiBDbGVhcnMgdGhlIHN0YXRlIG9mIHRoZSB3aG9sZSBhcHBsaWNhdGlvbi4gKi9cclxuZXhwb3J0IGNvbnN0IF9jbGVhclN0YXRlID0gKCkgPT4ge1xyXG4gIF9zdGF0ZS5jbGVhcigpXHJcbn1cclxuIiwiZGVjbGFyZSBjb25zdCBpc1NTUjogYm9vbGVhblxyXG5cclxudHlwZSBTdGF0ZSA9IGFueVxyXG5cclxuZXhwb3J0IGNsYXNzIFN0b3JlIHtcclxuICBwcml2YXRlIF9zdGF0ZTogYW55XHJcbiAgcHJpdmF0ZSBfcHJldlN0YXRlOiBhbnlcclxuICBwcml2YXRlIF9saXN0ZW5lcnM6IE1hcDxzdHJpbmcsIEZ1bmN0aW9uPiA9IG5ldyBNYXAoKVxyXG4gIHByaXZhdGUgX3N0b3JhZ2U6ICdtZW1vcnknIHwgJ2xvY2FsJyB8ICdzZXNzaW9uJ1xyXG4gIHByaXZhdGUgX2lkOiBzdHJpbmdcclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlIHlvdXIgb3duIFN0b3JlLlxyXG4gICAqIEBwYXJhbSBkZWZhdWx0U3RhdGUgUGFzcyB0aGUgaW5pdGlhbCBTdGF0ZS5cclxuICAgKiBAcGFyYW0gbmFtZSBUaGUgbmFtZSBvZiB0aGUgU3RvcmUgKG9ubHkgcmVxdWlyZWQgaWYgeW91IHBlcnNpc3QgdGhlIHN0YXRlIGluIGxvY2FsU3RvcmFnZSBvciBzZXNzaW9uU3RvcmFnZSkuXHJcbiAgICogQHBhcmFtIHN0b3JhZ2UgUGFzcyAnbWVtb3J5JywgJ2xvY2FsJyBvciAnc2Vzc2lvbicuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoZGVmYXVsdFN0YXRlOiBPYmplY3QsIG5hbWU6IHN0cmluZyA9ICcnLCBzdG9yYWdlOiAnbWVtb3J5JyB8ICdsb2NhbCcgfCAnc2Vzc2lvbicgPSAnbWVtb3J5Jykge1xyXG4gICAgaWYgKHR5cGVvZiBpc1NTUiAhPT0gJ3VuZGVmaW5lZCcpIHN0b3JhZ2UgPSAnbWVtb3J5J1xyXG5cclxuICAgIHRoaXMuX2lkID0gbmFtZVxyXG4gICAgdGhpcy5fc3RvcmFnZSA9IHN0b3JhZ2VcclxuXHJcbiAgICB0aGlzLl9zdGF0ZSA9IHRoaXMuX3ByZXZTdGF0ZSA9IGRlZmF1bHRTdGF0ZSBhcyBhbnlcclxuXHJcbiAgICBpZiAoc3RvcmFnZSA9PT0gJ21lbW9yeScgfHwgIXN0b3JhZ2UpIHJldHVyblxyXG5cclxuICAgIGNvbnN0IFN0b3JhZ2UgPSBzdG9yYWdlID09PSAnbG9jYWwnID8gbG9jYWxTdG9yYWdlIDogc2Vzc2lvblN0b3JhZ2VcclxuXHJcbiAgICAvLyBnZXQvc2V0IGluaXRpYWwgc3RhdGUgb2YgU3RvcmFnZVxyXG4gICAgY29uc3QgaXRlbSA9IFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLl9pZClcclxuICAgIGlmIChpdGVtKSB7XHJcbiAgICAgIHRoaXMuX3N0YXRlID0gdGhpcy5fcHJldlN0YXRlID0gSlNPTi5wYXJzZShpdGVtKVxyXG4gICAgfSBlbHNlIFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLl9pZCwgSlNPTi5zdHJpbmdpZnkoZGVmYXVsdFN0YXRlKSlcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcGVyc2lzdChuZXdTdGF0ZTogYW55KSB7XHJcbiAgICBpZiAodGhpcy5fc3RvcmFnZSA9PT0gJ21lbW9yeScpIHJldHVyblxyXG4gICAgY29uc3QgU3RvcmFnZSA9IHRoaXMuX3N0b3JhZ2UgPT09ICdsb2NhbCcgPyBsb2NhbFN0b3JhZ2UgOiBzZXNzaW9uU3RvcmFnZVxyXG4gICAgU3RvcmFnZS5zZXRJdGVtKHRoaXMuX2lkLCBKU09OLnN0cmluZ2lmeShuZXdTdGF0ZSkpXHJcbiAgfVxyXG5cclxuICAvKiogQ2xlYXJzIHRoZSBzdGF0ZSBvZiB0aGUgd2hvbGUgc3RvcmUuICovXHJcbiAgcHVibGljIGNsZWFyKCkge1xyXG4gICAgdGhpcy5fc3RhdGUgPSB0aGlzLl9wcmV2U3RhdGUgPSB1bmRlZmluZWRcclxuXHJcbiAgICBpZiAodGhpcy5fc3RvcmFnZSA9PT0gJ2xvY2FsJykgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odGhpcy5faWQpXHJcbiAgICBlbHNlIGlmICh0aGlzLl9zdG9yYWdlID09PSAnc2Vzc2lvbicpIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0odGhpcy5faWQpXHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0U3RhdGUobmV3U3RhdGU6IGFueSkge1xyXG4gICAgdGhpcy5zdGF0ZSA9IG5ld1N0YXRlXHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0IHN0YXRlKG5ld1N0YXRlOiBhbnkpIHtcclxuICAgIHRoaXMuX3ByZXZTdGF0ZSA9IHRoaXMuX3N0YXRlXHJcbiAgICB0aGlzLl9zdGF0ZSA9IG5ld1N0YXRlXHJcblxyXG4gICAgdGhpcy5wZXJzaXN0KG5ld1N0YXRlKVxyXG5cclxuICAgIHRoaXMuX2xpc3RlbmVycy5mb3JFYWNoKGZuYyA9PiB7XHJcbiAgICAgIGZuYyh0aGlzLl9zdGF0ZSwgdGhpcy5fcHJldlN0YXRlKVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgc3RhdGUoKTogU3RhdGUge1xyXG4gICAgcmV0dXJuIHRoaXMuX3N0YXRlXHJcbiAgfVxyXG5cclxuICBwdWJsaWMgdXNlKCkge1xyXG4gICAgY29uc3QgaWQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSlcclxuICAgIGNvbnN0IF90aGlzID0gdGhpc1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZ2V0IHN0YXRlKCk6IFN0YXRlIHtcclxuICAgICAgICByZXR1cm4gX3RoaXMuc3RhdGVcclxuICAgICAgfSxcclxuICAgICAgc2V0U3RhdGU6IChuZXdTdGF0ZTogU3RhdGUpID0+IHtcclxuICAgICAgICB0aGlzLnN0YXRlID0gbmV3U3RhdGVcclxuICAgICAgfSxcclxuICAgICAgc3Vic2NyaWJlOiAoZm5jOiAobmV3U3RhdGU6IFN0YXRlLCBwcmV2U3RhdGU6IFN0YXRlKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzLnNldChpZCwgZm5jKVxyXG4gICAgICB9LFxyXG4gICAgICBjYW5jZWw6ICgpID0+IHtcclxuICAgICAgICB0aGlzLl9saXN0ZW5lcnMuZGVsZXRlKGlkKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IHN0clRvSGFzaCB9IGZyb20gJy4uL2NvcmUnXHJcblxyXG5leHBvcnQgY29uc3QgYm94U2hhZG93ID0gYFxyXG4gIC13ZWJraXQtYm94LXNoYWRvdzogMHB4IDNweCA1cHggLTFweCByZ2JhKDAsMCwwLDAuMiksIDBweCA2cHggMTBweCAwcHggcmdiYSgwLDAsMCwwLjE0KSwgMHB4IDFweCAxOHB4IDBweCByZ2JhKDAsMCwwLDAuMTIpO1xyXG4gIC1tb3otYm94LXNoYWRvdzogMHB4IDNweCA1cHggLTFweCByZ2JhKDAsMCwwLDAuMiksIDBweCA2cHggMTBweCAwcHggcmdiYSgwLDAsMCwwLjE0KSwgMHB4IDFweCAxOHB4IDBweCByZ2JhKDAsMCwwLDAuMTIpO1xyXG4gIGJveC1zaGFkb3c6IDBweCAzcHggNXB4IC0xcHggcmdiYSgwLDAsMCwwLjIpLCAwcHggNnB4IDEwcHggMHB4IHJnYmEoMCwwLDAsMC4xNCksIDBweCAxcHggMThweCAwcHggcmdiYSgwLDAsMCwwLjEyKTtcclxuYFxyXG5cclxuZXhwb3J0IGNvbnN0IHVzZXJTZWxlY3QgPSBgXHJcbiAgLXdlYmtpdC10b3VjaC1jYWxsb3V0Om5vbmU7XHJcbiAgLXdlYmtpdC11c2VyLXNlbGVjdDpub25lO1xyXG4gIC1raHRtbC11c2VyLXNlbGVjdDpub25lO1xyXG4gIC1tb3otdXNlci1zZWxlY3Q6bm9uZTtcclxuICAtbXMtdXNlci1zZWxlY3Q6bm9uZTtcclxuICB1c2VyLXNlbGVjdDpub25lO1xyXG4gIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjpyZ2JhKDAsMCwwLDApO1xyXG5gXHJcblxyXG5leHBvcnQgY29uc3QgcmlwcGxlRWZmZWN0ID0gKHJpcHBsZUNscjogc3RyaW5nLCBob3ZlckNscjogc3RyaW5nKSA9PiB7XHJcbiAgY29uc3QgcmlwcGxlQ2xhc3MgPSBgcmlwcGxlLSR7c3RyVG9IYXNoKHJpcHBsZUNsciArIGhvdmVyQ2xyKX1gXHJcblxyXG4gIGNvbnN0IHN0eWxlcyA9IGAgIFxyXG4gIC4ke3JpcHBsZUNsYXNzfSB7XHJcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XHJcbiAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kIDAuOHM7XHJcbiAgfVxyXG4gIFxyXG4gIC4ke3JpcHBsZUNsYXNzfTpob3ZlciB7XHJcbiAgICBiYWNrZ3JvdW5kOiAke2hvdmVyQ2xyfSByYWRpYWwtZ3JhZGllbnQoY2lyY2xlLCB0cmFuc3BhcmVudCAxJSwgJHtob3ZlckNscn0gMSUpIGNlbnRlci8xNTAwMCU7XHJcbiAgfVxyXG5cclxuICBcclxuICAuJHtyaXBwbGVDbGFzc306YWN0aXZlIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICR7cmlwcGxlQ2xyfTtcclxuICAgIGJhY2tncm91bmQtc2l6ZTogMTAwJTtcclxuICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQgMHM7XHJcbiAgfWBcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHN0eWxlcyxcclxuICAgIGNsYXNzOiByaXBwbGVDbGFzc1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHpJbmRleCA9IHtcclxuICBidXR0b246ICd1bnNldDsnLFxyXG4gIGJhbm5lcjogJzUwOycsXHJcbiAgYmFyOiAnMTAwOycsXHJcbiAgbmF2aWdhdGlvbjogJzEwMDsnLFxyXG4gIGZhYjogJzIwMDsnLFxyXG4gIHNoZWV0OiAnMzAwOycsXHJcbiAgbWVudTogJzQwMDsnLFxyXG4gIHNuYWNrYmFyOiAnNTAwOycsXHJcbiAgZGlhbG9nOiAnNjAwOydcclxufVxyXG4iLCJpbXBvcnQgeyBoIH0gZnJvbSAnLi4vY29yZSdcclxuXHJcbi8vIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL3JlbmFuY291dG8vNDY3NTE5MlxyXG5leHBvcnQgY29uc3QgbGlnaHRlbkNvbG9yID0gKGNvbG9yOiBzdHJpbmcsIHBlcmNlbnQ6IG51bWJlcikgPT4ge1xyXG4gIGNvbnN0IG51bSA9IHBhcnNlSW50KGNvbG9yLnJlcGxhY2UoJyMnLCAnJyksIDE2KSxcclxuICAgIGFtdCA9IE1hdGgucm91bmQoMi41NSAqIHBlcmNlbnQpLFxyXG4gICAgUiA9IChudW0gPj4gMTYpICsgYW10LFxyXG4gICAgQiA9ICgobnVtID4+IDgpICYgMHgwMGZmKSArIGFtdCxcclxuICAgIEcgPSAobnVtICYgMHgwMDAwZmYpICsgYW10XHJcbiAgcmV0dXJuIGAjJHsoXHJcbiAgICAweDEwMDAwMDAgK1xyXG4gICAgKFIgPCAyNTUgPyAoUiA8IDEgPyAwIDogUikgOiAyNTUpICogMHgxMDAwMCArXHJcbiAgICAoQiA8IDI1NSA/IChCIDwgMSA/IDAgOiBCKSA6IDI1NSkgKiAweDEwMCArXHJcbiAgICAoRyA8IDI1NSA/IChHIDwgMSA/IDAgOiBHKSA6IDI1NSlcclxuICApXHJcbiAgICAudG9TdHJpbmcoMTYpXHJcbiAgICAuc2xpY2UoMSl9YFxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgYWRkU3R5bGVzVG9IZWFkID0gKHN0eWxlczogc3RyaW5nLCBoYXNoOiBzdHJpbmcpID0+IHtcclxuICBjb25zdCBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWNzcy1oYXNoKj1cIiR7aGFzaH1cIl1gKVxyXG4gIGlmICghZWwpIHtcclxuICAgIGNvbnN0IHN0eWxlRWxlbWVudCA9IGgoJ3N0eWxlJywgeyAnZGF0YS1jc3MtaGFzaCc6IGhhc2ggfSwgc3R5bGVzKVxyXG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpXHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJy4uL2NvbXBvbmVudCdcclxuaW1wb3J0IHsgaCB9IGZyb20gJy4uL2NvcmUnXHJcbmltcG9ydCB7IGJveFNoYWRvdywgekluZGV4IH0gZnJvbSAnLi9fY29uZmlnJ1xyXG5cclxuY29uc3QgY2xhc3NlcyA9IHtcclxuICBjb250YWluZXI6ICdhcHBCYXJfY29udGFpbmVyJyxcclxuICBzY3JvbGxpbmdEb3duOiAnYXBwQmFyX3Njcm9sbGluZ19kb3duJ1xyXG59XHJcblxyXG5pbnRlcmZhY2UgQXBwQmFyUHJvcHMge1xyXG4gIG1heFdpZHRoPzogbnVtYmVyXHJcbiAgYXV0b0hpZGU/OiBib29sZWFuXHJcbiAgYXV0b01lcmdlPzogYm9vbGVhblxyXG4gIGJhY2tncm91bmQ/OiBzdHJpbmdcclxuICBjb2xvcj86IHN0cmluZ1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQXBwQmFyIGV4dGVuZHMgQ29tcG9uZW50PEFwcEJhclByb3BzPiB7XHJcbiAgY3Vycl9zY3JvbGxZOiBudW1iZXIgPSAwXHJcbiAgbGFzdF9zY3JvbGxZOiBudW1iZXIgPSAwXHJcbiAgY3Vycl9zY3JvbGxpbmdTdGF0ZSA9ICdub25lJ1xyXG4gIGxhc3Rfc2Nyb2xsaW5nU3RhdGUgPSAnbm9uZSdcclxuICBjb250YWluZXI6IEhUTUxFbGVtZW50XHJcblxyXG4gIGNhbGNTY3JvbGxQb3NpdGlvbigpIHtcclxuICAgIHRoaXMuY3Vycl9zY3JvbGxZID0gd2luZG93LnNjcm9sbFlcclxuXHJcbiAgICBpZiAodGhpcy5jdXJyX3Njcm9sbFkgPiB0aGlzLmxhc3Rfc2Nyb2xsWSkge1xyXG4gICAgICB0aGlzLmN1cnJfc2Nyb2xsaW5nU3RhdGUgPSAnZG93bidcclxuICAgIH0gZWxzZSBpZiAodGhpcy5jdXJyX3Njcm9sbFkgPCB0aGlzLmxhc3Rfc2Nyb2xsWSkge1xyXG4gICAgICB0aGlzLmN1cnJfc2Nyb2xsaW5nU3RhdGUgPSAndXAnXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5sYXN0X3Njcm9sbFkgPSB0aGlzLmN1cnJfc2Nyb2xsWVxyXG4gIH1cclxuXHJcbiAgc2Nyb2xsKCkge1xyXG4gICAgdGhpcy5jYWxjU2Nyb2xsUG9zaXRpb24oKVxyXG5cclxuICAgIGlmICh0aGlzLmN1cnJfc2Nyb2xsWSA8IDEpIHtcclxuICAgICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnYXBwQmFyX3Njcm9sbGluZ19kb3duJylcclxuICAgIH0gZWxzZSBpZiAodGhpcy5sYXN0X3Njcm9sbGluZ1N0YXRlICE9PSB0aGlzLmN1cnJfc2Nyb2xsaW5nU3RhdGUpIHtcclxuICAgICAgdGhpcy5sYXN0X3Njcm9sbGluZ1N0YXRlID0gdGhpcy5jdXJyX3Njcm9sbGluZ1N0YXRlXHJcblxyXG4gICAgICBpZiAodGhpcy5jdXJyX3Njcm9sbGluZ1N0YXRlID09PSAnZG93bicpIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2FwcEJhcl9zY3JvbGxpbmdfZG93bicpXHJcbiAgICAgIGVsc2UgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnYXBwQmFyX3Njcm9sbGluZ19kb3duJylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG1lcmdlKCkge1xyXG4gICAgdGhpcy5jYWxjU2Nyb2xsUG9zaXRpb24oKVxyXG5cclxuICAgIGlmICh0aGlzLmN1cnJfc2Nyb2xsWSA8PSAxKSB7XHJcbiAgICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2FwcEJhcl9tZXJnZWQnKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnYXBwQmFyX21lcmdlZCcpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBkaWRNb3VudCgpIHtcclxuICAgIHRoaXMuY3Vycl9zY3JvbGxZID0gdGhpcy5sYXN0X3Njcm9sbFkgPSB3aW5kb3cuc2Nyb2xsWVxyXG5cclxuICAgIGlmICh0aGlzLnByb3BzLmF1dG9IaWRlKSB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgKCkgPT4gdGhpcy5zY3JvbGwoKSlcclxuICAgIGlmICh0aGlzLnByb3BzLmF1dG9NZXJnZSkgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsICgpID0+IHRoaXMubWVyZ2UoKSlcclxuICB9XHJcblxyXG4gIGRpZFVubW91bnQoKSB7XHJcbiAgICBpZiAodGhpcy5wcm9wcy5hdXRvSGlkZSkgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuc2Nyb2xsKVxyXG4gICAgaWYgKHRoaXMucHJvcHMuYXV0b01lcmdlKSB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgKCkgPT4gdGhpcy5tZXJnZSgpKVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgY29uc3QgeyBiYWNrZ3JvdW5kID0gJyM2MjAwRUUnLCBjb2xvciA9ICd3aGl0ZScgfSA9IHRoaXMucHJvcHNcclxuXHJcbiAgICBjb25zdCBzdHlsZXMgPSBgXHJcbiAgICAuYXBwQmFyX2NvbnRhaW5lciB7XHJcbiAgICAgIGJhY2tncm91bmQ6ICR7YmFja2dyb3VuZH07XHJcbiAgICAgIGNvbG9yOiAke2NvbG9yfTtcclxuICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcclxuXHJcbiAgICAgIHotaW5kZXg6ICR7ekluZGV4LmJhcn1cclxuXHJcbiAgICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgICAgdG9wOiAwO1xyXG4gICAgICBsZWZ0OiAwO1xyXG4gICAgICBtaW4taGVpZ2h0OiAyNHB4O1xyXG4gICAgICB3aWR0aDogMTAwdnc7XHJcblxyXG5cclxuICAgICAgJHtib3hTaGFkb3d9XHJcblxyXG4gICAgICB0cmFuc2l0aW9uOiB0b3AgMC4ycywgLXdlYmtpdC1ib3gtc2hhZG93IDAuNXMsIC1tb3otYm94LXNoYWRvdyAwLjVzLCBib3gtc2hhZG93IDAuNXM7XHJcbiAgICB9XHJcblxyXG4gICAgLmFwcEJhcl9jb250YWluZXIuYXBwQmFyX3Njcm9sbGluZ19kb3duIHtcclxuICAgICAgdG9wOiAtNTZweDtcclxuICAgIH1cclxuXHJcbiAgICAuYXBwQmFyX2NvbnRhaW5lci5hcHBCYXJfbWVyZ2VkIHtcclxuICAgICAgLXdlYmtpdC1ib3gtc2hhZG93OiBub25lO1xyXG4gICAgICAtbW96LWJveC1zaGFkb3c6IG5vbmU7XHJcbiAgICAgIGJveC1zaGFkb3c6IG5vbmU7XHJcbiAgICB9XHJcblxyXG4gICAgLmFwcEJhcl9jb250YWluZXIgLnRvb2xiYXJfY29udGFpbmVyIHtcclxuICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gICAgfVxyXG5cclxuICAgIC5hcHBCYXJfY29udGFpbmVyIC50b29sYmFyX2NvbnRhaW5lcixcclxuICAgIC5hcHBCYXJfY29udGFpbmVyIC50YWJzX2NvbnRhaW5lciB7XHJcbiAgICAgIG1hcmdpbjogMCBhdXRvO1xyXG4gICAgICAke3RoaXMucHJvcHMubWF4V2lkdGggPyBgbWF4LXdpZHRoOiAke3RoaXMucHJvcHMubWF4V2lkdGh9cHg7YCA6ICcnfVxyXG4gICAgfVxyXG5cclxuICAgIC5hcHBCYXJfY29udGFpbmVyIC50b29sYmFyX2NvbnRhaW5lciAudG9vbGJhcl9sZWZ0LFxyXG4gICAgLmFwcEJhcl9jb250YWluZXIgLnRvb2xiYXJfY29udGFpbmVyIC50b29sYmFyX3JpZ2h0IHtcclxuICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsgICAgICBcclxuICAgIH1cclxuXHJcbiAgICAuYXBwQmFyX2NvbnRhaW5lciAudG9vbGJhcl90aXRsZSB7XHJcbiAgICAgIGZvbnQtc2l6ZTogMjBweDtcclxuICAgIH1cclxuICAgIGBcclxuXHJcbiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGgoJ3N0eWxlJywge30sIHN0eWxlcykpXHJcblxyXG4gICAgY29uc3QgbWVyZ2VkQ2xhc3MgPSB0aGlzLnByb3BzLmF1dG9NZXJnZSA/ICdhcHBCYXJfbWVyZ2VkJyA6ICcnXHJcblxyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgdGhpcy5jb250YWluZXIgPSBoKCdkaXYnLCB7IGNsYXNzOiBgJHtjbGFzc2VzLmNvbnRhaW5lcn0gJHttZXJnZWRDbGFzc31gIH0sIHRoaXMucHJvcHMuY2hpbGRyZW4pXHJcblxyXG4gICAgcmV0dXJuIHRoaXMuY29udGFpbmVyXHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IGgsIHN0clRvSGFzaCB9IGZyb20gJy4uL2NvcmUnXHJcbmltcG9ydCB7IGJveFNoYWRvdywgcmlwcGxlRWZmZWN0LCB1c2VyU2VsZWN0LCB6SW5kZXggfSBmcm9tICcuL19jb25maWcnXHJcbmltcG9ydCB7IGFkZFN0eWxlc1RvSGVhZCwgbGlnaHRlbkNvbG9yIH0gZnJvbSAnLi9faGVscGVycydcclxuaW1wb3J0IHsgSWNvbiB9IGZyb20gJy4vaWNvbidcclxuXHJcbmV4cG9ydCBjb25zdCBCdXR0b24gPSAocHJvcHM6IHtcclxuICBvdXRsaW5lZD86IGJvb2xlYW5cclxuICB0ZXh0PzogYm9vbGVhblxyXG4gIHN0eWxlPzogc3RyaW5nXHJcbiAgaWNvbj86IHN0cmluZ1xyXG4gIFtrZXk6IHN0cmluZ106IGFueVxyXG59KSA9PiB7XHJcbiAgY29uc3Qge1xyXG4gICAgY2hpbGRyZW4sXHJcbiAgICBvdXRsaW5lZCA9IGZhbHNlLFxyXG4gICAgdGV4dCA9IGZhbHNlLFxyXG4gICAgYmFja2dyb3VuZCA9ICcjNjIwMGVlJyxcclxuICAgIGNvbG9yID0gJyNmZmZmZmYnLFxyXG4gICAgc3R5bGUgPSAnJyxcclxuICAgIGNsYXNzOiBjbGFzc05hbWUgPSAnJyxcclxuICAgIGljb24sXHJcbiAgICAuLi5yZXN0XHJcbiAgfSA9IHByb3BzXHJcblxyXG4gIGNvbnN0IG5vcm1hbCA9ICEob3V0bGluZWQgfHwgdGV4dClcclxuXHJcbiAgY29uc3QgYmcgPSBub3JtYWwgPyBiYWNrZ3JvdW5kIDogJyNmZmZmZmYnXHJcbiAgY29uc3QgY2xyID0gbm9ybWFsID8gY29sb3IgOiBiYWNrZ3JvdW5kXHJcbiAgY29uc3QgaG92ZXJDbHIgPSBub3JtYWwgPyBsaWdodGVuQ29sb3IoYmcsIDEwKSA6IGxpZ2h0ZW5Db2xvcihiZywgLTEwKVxyXG4gIGNvbnN0IHJpcHBsZUNsciA9IG5vcm1hbCA/IGxpZ2h0ZW5Db2xvcihiZywgNTApIDogbGlnaHRlbkNvbG9yKGJhY2tncm91bmQsIDUwKVxyXG4gIGNvbnN0IGNzc0hhc2ggPSBzdHJUb0hhc2gob3V0bGluZWQudG9TdHJpbmcoKSArIHRleHQudG9TdHJpbmcoKSArIGJnICsgY2xyICsgc3R5bGUpXHJcblxyXG4gIGNvbnN0IHJpcHBsZSA9IHJpcHBsZUVmZmVjdChyaXBwbGVDbHIsIGhvdmVyQ2xyKVxyXG5cclxuICBjb25zdCBzdHlsZXMgPSBgXHJcbiAgICAubmFub19qc3hfYnV0dG9uLSR7Y3NzSGFzaH0ge1xyXG4gICAgICBjb2xvcjogJHtjbHJ9O1xyXG4gICAgICBiYWNrZ3JvdW5kOiAke2JnfTtcclxuICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgICAgcGFkZGluZzogMTBweCAxNnB4O1xyXG4gICAgICBtYXJnaW46IDBweCAwcHggMWVtIDBweDtcclxuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcblxyXG4gICAgICAke3VzZXJTZWxlY3R9XHJcbiAgICAgIFxyXG5cclxuICAgICAgei1pbmRleDogJHt6SW5kZXguYnV0dG9ufVxyXG5cclxuICAgICAgJHtib3hTaGFkb3d9XHJcblxyXG4gICAgICBib3JkZXI6IG5vbmU7XHJcbiAgICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XHJcbiAgICAgIGJveC1zaGFkb3c6IDAgMCA0cHggIzk5OTtcclxuICAgICAgb3V0bGluZTogbm9uZTtcclxuICAgIH1cclxuXHJcbiAgICAke3JpcHBsZS5zdHlsZXN9XHJcbiAgYFxyXG5cclxuICBhZGRTdHlsZXNUb0hlYWQoc3R5bGVzLCBjc3NIYXNoKVxyXG5cclxuICBsZXQgY3VzdG9tU3R5bGVzID0gJydcclxuICBpZiAob3V0bGluZWQgfHwgdGV4dCkge1xyXG4gICAgY3VzdG9tU3R5bGVzICs9ICdwYWRkaW5nLXRvcDogOXB4OyBwYWRkaW5nLWJvdHRvbTogOXB4OyAnXHJcbiAgICBjdXN0b21TdHlsZXMgKz0gJy13ZWJraXQtYm94LXNoYWRvdzogbm9uZTsgLW1vei1ib3gtc2hhZG93OiBub25lOyBib3gtc2hhZG93IG5vbmU7ICdcclxuICAgIGlmIChvdXRsaW5lZCkgY3VzdG9tU3R5bGVzICs9IGBib3JkZXI6IDFweCAke2Nscn0gc29saWQ7IGBcclxuICB9XHJcbiAgY3VzdG9tU3R5bGVzICs9IHN0eWxlXHJcblxyXG4gIHJldHVybiBoKFxyXG4gICAgJ2EnLFxyXG4gICAgeyBjbGFzczogYG5hbm9fanN4X2J1dHRvbi0ke2Nzc0hhc2h9ICR7cmlwcGxlLmNsYXNzfSAke2NsYXNzTmFtZX1gLCBzdHlsZTogY3VzdG9tU3R5bGVzLCAuLi5yZXN0IH0sXHJcbiAgICBpY29uID8gaChJY29uLCB7IHN0eWxlOiAnbWFyZ2luLWxlZnQ6IC00cHg7IG1hcmdpbi1yaWdodDogOHB4OyB3aWR0aDogMTRweDsgaGVpZ2h0OiAxNHB4OycgfSwgaWNvbikgOiBudWxsLFxyXG4gICAgY2hpbGRyZW5cclxuICApXHJcbn1cclxuIiwiaW1wb3J0IHsgaCB9IGZyb20gJy4uL2NvcmUnXHJcbmltcG9ydCB7IGJveFNoYWRvdywgekluZGV4IH0gZnJvbSAnLi9fY29uZmlnJ1xyXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICcuL2J1dHRvbidcclxuXHJcbi8vIERpYWxvZyBqdXN0IGxpa2UganVzdCBsaWtlOiBodHRwczovL21hdGVyaWFsLmlvL2NvbXBvbmVudHMvRGlhbG9nc1xyXG5cclxuLypcclxuSE9XIFRPIFVTRTpcclxuXHJcbmNvbnN0IEJ1dHRvbiA9IChfcHJvcHM6IGFueSkgPT4ge1xyXG4gIGNvbnN0IERpYWxvZyA9IG5ldyBEaWFsb2coKVxyXG5cclxuICBjb25zdCBvbmNsaWNrSGFuZGxlciA9ICgpID0+IHtcclxuICAgIGRpYWxvZy5zaG93KHsgXHJcbiAgICAgIHRpdGxlOiAnSGVsbG8nLCBcclxuICAgICAgYm9keTogJ1NvbWUgdGV4dC4nLCBcclxuICAgICAgYWN0aW9uczogW3tuYW1lOiAnQWN0aW9uIDEnfV0gXHJcbiAgICB9LCAoZXZlbnQpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coZXZlbnQpXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIDxidXR0b24gb25DbGljaz17KCkgPT4gb25jbGlja0hhbmRsZXIoKX0+Y2xpY2sgbWU8L2J1dHRvbj5cclxufVxyXG4gKi9cclxuXHJcbmludGVyZmFjZSBEaWFsb2dBY3Rpb24ge1xyXG4gIG5hbWU6IHN0cmluZ1xyXG4gIGlkPzogc3RyaW5nIHwgbnVtYmVyXHJcbiAgY29sb3I/OiBzdHJpbmdcclxufVxyXG5cclxuaW50ZXJmYWNlIERpYWxvZ0FjdGlvbkV2ZW50IHtcclxuICBhY3Rpb246IHN0cmluZ1xyXG59XHJcblxyXG5pbnRlcmZhY2UgRGlhbG9nT3B0aW9ucyB7XHJcbiAgdGl0bGU/OiBzdHJpbmdcclxuICBib2R5Pzogc3RyaW5nXHJcbiAgYWN0aW9ucz86IERpYWxvZ0FjdGlvbltdXHJcbiAgb25BY3Rpb24/OiAoKSA9PiBEaWFsb2dBY3Rpb25FdmVudFxyXG4gIHBhcmVudElkPzogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBEaWFsb2cge1xyXG4gIGRlZmF1bHRQYXJlbnRJZCA9ICdkaWFsb2dfY29udGFpbmVyJ1xyXG4gIGRlZmF1bHRBY3Rpb25Db2xvciA9ICcjNjIwMEVFJ1xyXG5cclxuICBjb25zdHJ1Y3RvcihwdWJsaWMgb3B0aW9uczogRGlhbG9nT3B0aW9ucyA9IHt9KSB7XHJcbiAgICBjb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcclxuICAgICAgdGl0bGU6ICdEaWFsb2cgVGl0bGUnLFxyXG4gICAgICBib2R5OiAnRGlhbG9nIGJvZHkgdGV4dC4nLFxyXG4gICAgICBhY3Rpb25zOiBbXHJcbiAgICAgICAgeyBuYW1lOiAnQWN0aW9uIDEnLCBjb2xvcjogdGhpcy5kZWZhdWx0QWN0aW9uQ29sb3IgfSxcclxuICAgICAgICB7IG5hbWU6ICdBY3Rpb24gMicsIGNvbG9yOiB0aGlzLmRlZmF1bHRBY3Rpb25Db2xvciB9XHJcbiAgICAgIF1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLm9wdGlvbnMgPSB7IC4uLmRlZmF1bHRPcHRpb25zLCAuLi5vcHRpb25zIH1cclxuXHJcbiAgICAvLyBzdHlsZXNcclxuICAgIGNvbnN0IHN0eWxlcyA9IGBcclxuICAgICNkaWFsb2dfY29udGFpbmVyIHsgIFxyXG4gICAgICBiYWNrZ3JvdW5kOiAjMDAwMDAwNzA7XHJcbiAgICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgICAgYm90dG9tOiAwcHg7XHJcbiAgICAgIGxlZnQ6IDBweDtcclxuICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAgIHdpZHRoOiAxMDB2dztcclxuICAgICAgaGVpZ2h0OiAxMDB2aDtcclxuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgICAgXHJcbiAgICAgIHotaW5kZXg6ICR7ekluZGV4LmRpYWxvZ31cclxuXHJcbiAgICAgIGFuaW1hdGlvbi1uYW1lOiBkaWFsb2ctZmFkZWluO1xyXG4gICAgICBhbmltYXRpb24tZHVyYXRpb246IDAuMnM7XHJcblxyXG4gICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuMnM7XHJcbiAgICAgIG9wYWNpdHk6IDE7XHJcbiAgICB9XHJcblxyXG4gICAgI2RpYWxvZ19jb250YWluZXIuZGlhbG9nX2ZhZGVvdXQge1xyXG4gICAgICBvcGFjaXR5OiAwO1xyXG4gICAgfSBcclxuXHJcbiAgICAjZGlhbG9nX2NvbnRhaW5lciAuZGlhbG9nIHtcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbiAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgICAgbWluLXdpZHRoOiAyNDBweDtcclxuICAgICAgbWF4LXdpZHRoOiBtaW4oNTAwcHgsIDgwJSk7XHJcblxyXG4gICAgICBtYXJnaW46IDhweDtcclxuXHJcbiAgICAgICR7Ym94U2hhZG93fVxyXG4gICAgfVxyXG5cclxuICAgICNkaWFsb2dfY29udGFpbmVyIC5kaWFsb2cgLmRpYWxvZ19oZWFkZXIge1xyXG4gICAgICBjb2xvcjogIzAwMDAwMERFO1xyXG4gICAgICBmb250LXNpemU6IDIwcHg7XHJcbiAgICAgIHBhZGRpbmc6IDBweCAyNHB4IDlweDtcclxuICAgICAgbWFyZ2luOiAyNHB4IDBweCA2cHggMHB4O1xyXG4gICAgICBsaW5lLWhlaWdodDogMTtcclxuICAgIH1cclxuXHJcbiAgICAjZGlhbG9nX2NvbnRhaW5lciAuZGlhbG9nIC5kaWFsb2dfYm9keSB7XHJcbiAgICAgIGNvbG9yOiAjMDAwMDAwOTk7XHJcbiAgICAgIGZvbnQtc2l6ZTogMTZweDsgIFxyXG4gICAgICBwYWRkaW5nOiAwcHggMjRweCAyMHB4O1xyXG4gICAgICBsaW5lLWhlaWdodDogMS41ZW07XHJcbiAgICB9XHJcblxyXG4gICAgI2RpYWxvZ19jb250YWluZXIgLmRpYWxvZyAuZGlhbG9nX2FjdGlvbnMge1xyXG4gICAgICBcclxuICAgICAgbWFyZ2luOiAwO1xyXG4gICAgICBwYWRkaW5nOiA4cHg7XHJcbiAgICAgIFxyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgICBhbGlnbi1pdGVtczogZmxleC1lbmQ7XHJcbiAgICAgIGZsb2F0OiByaWdodDtcclxuXHJcbiAgICAgIGZsZXgtd3JhcDogd3JhcDtcclxuICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcclxuICAgIH1cclxuXHJcbiAgICAjZGlhbG9nX2NvbnRhaW5lciAuZGlhbG9nIC5kaWFsb2dfYWN0aW9uIHtcclxuICAgICAgbWFyZ2luLWJvdHRvbTogMHB4O1xyXG4gICAgICBtYXJnaW4tbGVmdDogMTBweDtcclxuICAgIH1cclxuXHJcbiAgICAvKiNkaWFsb2dfY29udGFpbmVyIC5kaWFsb2cgLmRpYWxvZ19hY3Rpb246aG92ZXIge1xyXG4gICAgICBib3JkZXItcmFkaXVzOiA0cHg7ICAgICAgXHJcbiAgICAgIGJhY2tncm91bmQ6ICMwMDAwMDAwYTtcclxuICAgIH0qL1xyXG5cclxuICAgIEBrZXlmcmFtZXMgZGlhbG9nLWZhZGVpbiB7XHJcbiAgICAgIGZyb20ge29wYWNpdHk6IDA7fVxyXG4gICAgICB0byB7b3BhY2l0eTogMTt9XHJcbiAgICB9XHJcbiAgICBgXHJcblxyXG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChoKCdzdHlsZScsIHt9LCBzdHlsZXMpKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRQYXJlbnRFbGVtZW50KHBhcmVudElkOiBzdHJpbmcpIHtcclxuICAgIGxldCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBhcmVudElkIHx8IHRoaXMuZGVmYXVsdFBhcmVudElkKVxyXG4gICAgaWYgKCFlbCkge1xyXG4gICAgICBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgICAgIGVsLmlkID0gdGhpcy5kZWZhdWx0UGFyZW50SWRcclxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbClcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZWxcclxuICB9XHJcblxyXG4gIHB1YmxpYyByZW1vdmUoKSB7XHJcbiAgICBjb25zdCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaWFsb2dfY29udGFpbmVyJylcclxuICAgIGlmICghZWwpIHJldHVyblxyXG4gICAgZWwuY2xhc3NMaXN0LmFkZCgnZGlhbG9nX2ZhZGVvdXQnKVxyXG4gICAgc2V0VGltZW91dCgoKSA9PiBlbC5yZW1vdmUoKSwgMjAwKVxyXG4gIH1cclxuXHJcbiAgcHVibGljIHNob3cob3B0aW9uczogRGlhbG9nT3B0aW9ucyB8IG51bGwsIGNhbGxiYWNrOiAoZXZlbnQ6IHsgbmFtZTogc3RyaW5nOyBpZDogc3RyaW5nIHwgbnVtYmVyIH0pID0+IHZvaWQpIHtcclxuICAgIG9wdGlvbnMgPSB7IC4uLnRoaXMub3B0aW9ucywgLi4ub3B0aW9ucyB9XHJcblxyXG4gICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5nZXRQYXJlbnRFbGVtZW50KG9wdGlvbnMucGFyZW50SWQgfHwgdGhpcy5kZWZhdWx0UGFyZW50SWQpXHJcblxyXG4gICAgaWYgKGNvbnRhaW5lci5oYXNDaGlsZE5vZGVzKCkpIHJldHVyblxyXG5cclxuICAgIGNvbnN0IERpYWxvZyA9IChfaGVhZGVyOiBzdHJpbmcgfCB1bmRlZmluZWQsIF9ib2R5OiBzdHJpbmcgfCB1bmRlZmluZWQsIF9hY3Rpb25zOiBhbnkpID0+IHtcclxuICAgICAgY29uc3QgYWN0aW9uc0FycmF5ID0gX2FjdGlvbnMubWFwKChhY3Rpb246IGFueSkgPT4ge1xyXG4gICAgICAgIHJldHVybiBoKFxyXG4gICAgICAgICAgQnV0dG9uLFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICB0ZXh0OiB0cnVlLFxyXG4gICAgICAgICAgICBjb2xvcjogYWN0aW9uLmNvbG9yIHx8IHRoaXMuZGVmYXVsdEFjdGlvbkNvbG9yLFxyXG4gICAgICAgICAgICBjbGFzczogJ2RpYWxvZ19hY3Rpb24nLFxyXG4gICAgICAgICAgICAvLyBzdHlsZTogYGNvbG9yOiAke2FjdGlvbi5jb2xvciB8fCB0aGlzLmRlZmF1bHRBY3Rpb25Db2xvcn1gLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgY2FsbGJhY2soeyBuYW1lOiBhY3Rpb24ubmFtZSwgaWQ6IGFjdGlvbi5pZCB9KVxyXG4gICAgICAgICAgICAgIHRoaXMucmVtb3ZlKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGFjdGlvbi5uYW1lLnRvVXBwZXJDYXNlKClcclxuICAgICAgICApXHJcbiAgICAgIH0pXHJcblxyXG4gICAgICBjb25zdCB0aXRsZSA9IGgoJ2gyJywgeyBjbGFzczogJ2RpYWxvZ19oZWFkZXInIH0sIF9oZWFkZXIpXHJcbiAgICAgIGNvbnN0IGJvZHkgPSBoKCdkaXYnLCB7IGNsYXNzOiAnZGlhbG9nX2JvZHknIH0sIF9ib2R5KVxyXG4gICAgICBjb25zdCBhY3Rpb25zID0gaCgnZGl2JywgeyBjbGFzczogJ2RpYWxvZ19hY3Rpb25zJyB9LCBhY3Rpb25zQXJyYXkpXHJcbiAgICAgIGNvbnN0IGRpYWxvZyA9IGgoJ2RpdicsIHsgY2xhc3M6ICdkaWFsb2cnIH0sIHRpdGxlLCBib2R5LCBhY3Rpb25zKVxyXG4gICAgICByZXR1cm4gZGlhbG9nXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZWwgPSBEaWFsb2cob3B0aW9ucy50aXRsZSwgb3B0aW9ucy5ib2R5IGFzIHN0cmluZywgb3B0aW9ucy5hY3Rpb25zIHx8IFtdKSBhcyBIVE1MRWxlbWVudFxyXG5cclxuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChlbClcclxuXHJcbiAgICBjb25zdCBkaWFsb2cgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdkaWFsb2cnKVswXVxyXG4gICAgY29uc3QgYWN0aW9ucyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2RpYWxvZ19hY3Rpb25zJylbMF1cclxuXHJcbiAgICAvLyBpZiB0aGUgYWN0aW9ucyBhcmUgdG9vIGxvbmcsIHdlIHByZWZlciB0byBzZXQgZmxleC1kaXJlY3Rpb24gdG8gY29sdW1uIHRoYW4gdG8gd3JhcCB0aGUgc2luZ2xlIGFjdGlvbnNcclxuICAgIGNvbnN0IHVzZUNvbHVtbiA9IGRpYWxvZy5jbGllbnRXaWR0aCA8PSBhY3Rpb25zLmNsaWVudFdpZHRoXHJcbiAgICBpZiAodXNlQ29sdW1uKSBhY3Rpb25zLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnZmxleC1kaXJlY3Rpb246IGNvbHVtbjsnKVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICcuLi9jb21wb25lbnQnXHJcbmltcG9ydCB7IGgsIHN0clRvSGFzaCB9IGZyb20gJy4uL2NvcmUnXHJcbmltcG9ydCB7IGJveFNoYWRvdywgdXNlclNlbGVjdCwgekluZGV4IH0gZnJvbSAnLi9fY29uZmlnJ1xyXG5pbXBvcnQgeyBhZGRTdHlsZXNUb0hlYWQgfSBmcm9tICcuL19oZWxwZXJzJ1xyXG5cclxuaW50ZXJmYWNlIEZhYlByb3BzIHtcclxuICBvbkNsaWNrPzogKGU6IE1vdXNlRXZlbnQpID0+IHZvaWRcclxuICBvZmZzZXRZPzogbnVtYmVyXHJcbiAgY2VudGVyPzogYm9vbGVhblxyXG4gIGxlZnQ/OiBib29sZWFuXHJcbiAgZXh0ZW5kZWQ/OiBib29sZWFuXHJcbiAgbWluaT86IGJvb2xlYW5cclxuICBiYWNrZ3JvdW5kPzogc3RyaW5nXHJcbiAgY29sb3I/OiBzdHJpbmdcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEZhYiBleHRlbmRzIENvbXBvbmVudDxGYWJQcm9wcz4ge1xyXG4gIHJlbmRlcigpIHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgYmFja2dyb3VuZCA9ICcjNjIwMEVFJyxcclxuICAgICAgY29sb3IgPSAnd2hpdGUnLFxyXG4gICAgICBleHRlbmRlZCA9IGZhbHNlLFxyXG4gICAgICBtaW5pID0gZmFsc2UsXHJcbiAgICAgIGNlbnRlciA9IGZhbHNlLFxyXG4gICAgICBsZWZ0ID0gZmFsc2UsXHJcbiAgICAgIG9uQ2xpY2sgPSAoKSA9PiB7fVxyXG4gICAgfSA9IHRoaXMucHJvcHNcclxuXHJcbiAgICBjb25zdCBoZWlnaHQgPSBtaW5pID8gNDAgOiBleHRlbmRlZCA/IDQ4IDogNTZcclxuICAgIGNvbnN0IGNzc0hhc2ggPSBzdHJUb0hhc2goZXh0ZW5kZWQudG9TdHJpbmcoKSArIG1pbmkudG9TdHJpbmcoKSArIGNlbnRlci50b1N0cmluZygpICsgbGVmdC50b1N0cmluZygpKSAvLyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSlcclxuICAgIGNvbnN0IGNsYXNzTmFtZSA9IGBmYWItY29udGFpbmVyLSR7Y3NzSGFzaH1gXHJcblxyXG4gICAgY29uc3Qgc3R5bGVzID0gYFxyXG4gICAgICAuJHtjbGFzc05hbWV9IHtcclxuICAgICAgICAke21pbmkgPyAnd2lkdGg6IDQwcHg7JyA6IGV4dGVuZGVkID8gJ3BhZGRpbmc6IDBweCAxMnB4OycgOiAnd2lkdGg6IDU2cHg7J31cclxuICAgICAgICBoZWlnaHQ6ICR7aGVpZ2h0fXB4O1xyXG4gICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgICAgICBiYWNrZ3JvdW5kOiAke2JhY2tncm91bmR9O1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDM2cHg7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgICAgIGNvbG9yOiAke2NvbG9yfTtcclxuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcblxyXG4gICAgICAgIHotaW5kZXg6ICR7ekluZGV4LmZhYn1cclxuICAgICAgICBib3R0b206ICR7dGhpcy5wcm9wcy5vZmZzZXRZID8gMTYgKyB0aGlzLnByb3BzLm9mZnNldFkgOiAxNn1weDsgICAgICAgIFxyXG4gICAgICAgICR7bGVmdCA/ICdsZWZ0OiAxNnB4OycgOiAncmlnaHQ6IDE2cHg7J31cclxuICAgICAgICAke2NlbnRlciA/ICd0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoNTAlKTsgcmlnaHQ6IDUwJTsnIDogJyd9XHJcbiAgICAgICAgJHtib3hTaGFkb3d9XHJcbiAgICAgICAgJHt1c2VyU2VsZWN0fVxyXG4gICAgICB9XHJcbiAgICBgXHJcblxyXG4gICAgYWRkU3R5bGVzVG9IZWFkKHN0eWxlcywgY3NzSGFzaClcclxuXHJcbiAgICBjb25zdCB7IGNoaWxkcmVuIH0gPSB0aGlzLnByb3BzIGFzIGFueVxyXG5cclxuICAgIHJldHVybiBoKCdkaXYnLCB7IGNsYXNzOiBjbGFzc05hbWUsIG9uQ2xpY2s6IChlOiBNb3VzZUV2ZW50KSA9PiBvbkNsaWNrKGUpIH0sIGNoaWxkcmVuKVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICcuLi9jb21wb25lbnQnXHJcbmltcG9ydCB7IGgsIHN0clRvSGFzaCB9IGZyb20gJy4uL2NvcmUnXHJcbmltcG9ydCB7IGFkZFN0eWxlc1RvSGVhZCB9IGZyb20gJy4vX2hlbHBlcnMnXHJcblxyXG5pbnRlcmZhY2UgSWNvblByb3BzIHtcclxuICBzcmM6IHN0cmluZ1xyXG4gIGFjdGl2ZT86IGJvb2xlYW5cclxuICBjb2xvcj86IHN0cmluZ1xyXG4gIHN0eWxlPzogc3RyaW5nXHJcbiAgc2l6ZT86IG51bWJlclxyXG4gIG9uQ2xpY2s/OiAoZTogTW91c2VFdmVudCkgPT4gdm9pZFxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgSWNvbiBleHRlbmRzIENvbXBvbmVudDxJY29uUHJvcHM+IHtcclxuICBjc3NIYXNoOiBzdHJpbmdcclxuXHJcbiAgZGlkVW5tb3VudCgpIHtcclxuICAgIC8vIG5vdCBzdXJlIGlmIEkgd2FudCB0byByZW1vdmUgdGhlIGNzcywgc2luY2UgdGhlcmUgbWlnaHQgYmUgYW5vdGhlciBJY29uIHdpdGggdGhlIHNhbWUgc3R5bGVzLlxyXG4gICAgLy8gY29uc3QgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1jc3MtaGFzaCo9XCIke3RoaXMuY3NzSGFzaH1cIl1gKVxyXG4gICAgLy8gaWYgKGVsKSBlbC5yZW1vdmUoKVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgY29uc3QgeyBzcmMsIHNpemUgPSAxNiwgYWN0aXZlID0gdHJ1ZSwgY29sb3IgPSAnIzYyMDRFRScsIHN0eWxlID0gJycsIC4uLnJlc3QgfSA9IHRoaXMucHJvcHNcclxuXHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMucHJvcHMuY2hpbGRyZW5cclxuXHJcbiAgICB0aGlzLmNzc0hhc2ggPSBzdHJUb0hhc2goYWN0aXZlICsgY29sb3IgKyBzaXplLnRvU3RyaW5nKCkpXHJcblxyXG4gICAgY29uc3QgY29sb3JzID0ge1xyXG4gICAgICBhY3RpdmU6IGNvbG9yLFxyXG4gICAgICBpbmFjdGl2ZTogJyMwMDAwMDA3MCdcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBzdHlsZXMgPSBgXHJcbiAgICBpLmljb24tJHt0aGlzLmNzc0hhc2h9IHtcclxuICAgICAgd2lkdGg6ICR7c2l6ZX1weDtcclxuICAgICAgaGVpZ2h0OiAke3NpemV9cHg7XHJcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgICAgY29udGVudDogJyc7XHJcblxyXG4gICAgICAvKi13ZWJraXQtbWFzazogdXJsKFlPVVJfU1ZHX1VSTCkgbm8tcmVwZWF0IDUwJSA1MCU7XHJcbiAgICAgIG1hc2s6IHVybChZT1VSX1NWR19VUkwpIG5vLXJlcGVhdCA1MCUgNTAlOyovXHJcblxyXG4gICAgICAtd2Via2l0LW1hc2stc2l6ZTogY292ZXI7XHJcbiAgICAgIG1hc2stc2l6ZTogY292ZXI7IFxyXG5cclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHtjb2xvcnMuYWN0aXZlfTtcclxuICAgIH1cclxuXHJcbiAgICBpLmljb24tJHt0aGlzLmNzc0hhc2h9Lmljb25faW5hY3RpdmUtJHt0aGlzLmNzc0hhc2h9IHtcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHtjb2xvcnMuaW5hY3RpdmV9O1xyXG4gICAgfVxyXG4gICAgYFxyXG5cclxuICAgIGFkZFN0eWxlc1RvSGVhZChzdHlsZXMsIHRoaXMuY3NzSGFzaClcclxuXHJcbiAgICAvLyBjb25zdCBpY29uU3R5bGUgPSBgLXdlYmtpdC1tYXNrOiB1cmwoL2Rldi9mb250LWF3ZXNvbWUvZWxsaXBzaXMtdi1zb2xpZC5zdmcpIG5vLXJlcGVhdCA1MCUgNTAlO21hc2s6IHVybCgvZGV2L2ZvbnQtYXdlc29tZS9lbGxpcHNpcy12LXNvbGlkLnN2Zykgbm8tcmVwZWF0IDUwJSA1MCU7YFxyXG4gICAgY29uc3QgaWNvblN0eWxlID0gYC13ZWJraXQtbWFzazogdXJsKCR7c3JjIHx8IGNoaWxkcmVufSkgbm8tcmVwZWF0IDUwJSA1MCU7IG1hc2s6IHVybCgke1xyXG4gICAgICBzcmMgfHwgY2hpbGRyZW5cclxuICAgIH0pIG5vLXJlcGVhdCA1MCUgNTAlO2BcclxuXHJcbiAgICBjb25zdCBjbGFzc2VzID0gW2BpY29uLSR7dGhpcy5jc3NIYXNofWBdXHJcbiAgICBpZiAoIWFjdGl2ZSkgY2xhc3Nlcy5wdXNoKGBpY29uX2luYWN0aXZlLSR7dGhpcy5jc3NIYXNofWApXHJcblxyXG4gICAgY29uc3QgaWNvbiA9IGgoJ2knLCB7IGNsYXNzOiBjbGFzc2VzLmpvaW4oJyAnKSwgLi4ucmVzdCwgc3R5bGU6IGljb25TdHlsZSArIHN0eWxlIH0pXHJcblxyXG4gICAgcmV0dXJuIGljb25cclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IHsgQXBwQmFyIH0gZnJvbSAnLi4vdWkvYXBwQmFyJ1xyXG5leHBvcnQgeyBUb29sYmFyIH0gZnJvbSAnLi4vdWkvdG9vbGJhcidcclxuZXhwb3J0IHsgTmF2aWdhdGlvbiwgTmF2aWdhdGlvbkFjdGlvbiB9IGZyb20gJy4uL3VpL25hdmlnYXRpb24nXHJcbmV4cG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4uL3VpL2J1dHRvbidcclxuZXhwb3J0IHsgRGlhbG9nIH0gZnJvbSAnLi4vdWkvZGlhbG9nJ1xyXG5leHBvcnQgeyBGYWIgfSBmcm9tICcuLi91aS9mYWInXHJcbmV4cG9ydCB7IEljb24gfSBmcm9tICcuLi91aS9pY29uJ1xyXG5leHBvcnQgeyBMaXN0LCBMaXN0SXRlbSB9IGZyb20gJy4uL3VpL2xpc3QnXHJcbmV4cG9ydCB7IE1lbnUgfSBmcm9tICcuLi91aS9tZW51J1xyXG5leHBvcnQgeyBTbmFja2JhciB9IGZyb20gJy4uL3VpL3NuYWNrYmFyJ1xyXG5leHBvcnQgeyBUYWJzLCBUYWIgfSBmcm9tICcuLi91aS90YWJzJ1xyXG4iLCJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICcuLi9jb21wb25lbnQnXHJcbmltcG9ydCB7IGgsIHN0clRvSGFzaCB9IGZyb20gJy4uL2NvcmUnXHJcbmltcG9ydCB7IEljb24gfSBmcm9tICcuL2ljb24nXHJcbmltcG9ydCB7IGFkZFN0eWxlc1RvSGVhZCB9IGZyb20gJy4vX2hlbHBlcnMnXHJcblxyXG5pbnRlcmZhY2UgTGlzdFByb3BzIHtcclxuICBzbWFsbD86IGJvb2xlYW5cclxuICBjaGlsZHJlbj86IGFueVxyXG59XHJcblxyXG5pbnRlcmZhY2UgTGlzdEl0ZW1Qcm9wcyB7XHJcbiAgb25DbGljaz86IEZ1bmN0aW9uXHJcbiAgaWNvbj86IHN0cmluZ1xyXG4gIGF2YXRhcj86IHN0cmluZ1xyXG4gIHNxdWFyZT86IHN0cmluZ1xyXG4gIGltYWdlPzogc3RyaW5nXHJcbiAgY2hpbGRyZW4/OiBhbnlcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIExpc3RJdGVtIGV4dGVuZHMgQ29tcG9uZW50PExpc3RJdGVtUHJvcHM+IHtcclxuICByZW5kZXIoKSB7XHJcbiAgICBjb25zdCB7IHByb3BzOiBwIH0gPSB0aGlzXHJcbiAgICBjb25zdCB7IG9uQ2xpY2sgPSAoKSA9PiB7fSB9ID0gcFxyXG5cclxuICAgIGNvbnN0IGFkanVzdGVkTWFyZ2luID0gJ21hcmdpbi1yaWdodDogMTZweDsnXHJcblxyXG4gICAgY29uc3QgaWNvbiA9IHAuaWNvbiA/IGgoSWNvbiwgeyBzaXplOiAyMCwgc3R5bGU6ICdtYXJnaW4tcmlnaHQ6IDMycHg7Jywgc3JjOiBwLmljb24gfSkgOiBudWxsXHJcbiAgICBjb25zdCBhdmF0YXIgPSBwLmF2YXRhclxyXG4gICAgICA/IGgoJ2ltZycsIHsgc3JjOiBwLmF2YXRhciwgd2lkdGg6IDQwLCBoZWlnaHQ6IDQwLCBzdHlsZTogYGJvcmRlci1yYWRpdXM6IDIwcHg7ICR7YWRqdXN0ZWRNYXJnaW59YCB9KVxyXG4gICAgICA6IG51bGxcclxuICAgIGNvbnN0IHNxdWFyZSA9IHAuc3F1YXJlID8gaCgnaW1nJywgeyBzcmM6IHAuc3F1YXJlLCB3aWR0aDogNTYsIGhlaWdodDogNTYsIHN0eWxlOiBhZGp1c3RlZE1hcmdpbiB9KSA6IG51bGxcclxuICAgIGNvbnN0IGltYWdlID0gcC5pbWFnZVxyXG4gICAgICA/IGgoJ2ltZycsIHsgc3JjOiBwLmltYWdlLCB3aWR0aDogMTAwLCBoZWlnaHQ6IDU2LCBzdHlsZTogJ21hcmdpbi1sZWZ0OiAtMTZweDsgbWFyZ2luLXJpZ2h0OiAxNnB4OycgfSlcclxuICAgICAgOiBudWxsXHJcbiAgICBjb25zdCB0ZXh0ID0gaCgnc3BhbicsIG51bGwsIHAuY2hpbGRyZW4pXHJcblxyXG4gICAgLy8gYWRkaXRpb25hbCBzdHlsZSBmb3IgdGhlIGxpc3QgaXRlbVxyXG4gICAgbGV0IHN0eWxlID0gJydcclxuICAgIGlmIChwLmljb24gfHwgcC5hdmF0YXIpIHN0eWxlICs9ICdtaW4taGVpZ2h0OiA1NnB4OyAnXHJcbiAgICBpZiAocC5zcXVhcmUgfHwgcC5pbWFnZSkgc3R5bGUgKz0gJ21pbi1oZWlnaHQ6IDcycHg7ICdcclxuXHJcbiAgICByZXR1cm4gaCgnbGknLCB7IHN0eWxlLCBvbkNsaWNrIH0sIGljb24sIGF2YXRhciwgc3F1YXJlLCBpbWFnZSwgdGV4dClcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBMaXN0IGV4dGVuZHMgQ29tcG9uZW50PExpc3RQcm9wcz4ge1xyXG4gIGNzc0hhc2g6IHN0cmluZ1xyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICBjb25zdCB7IHNtYWxsID0gZmFsc2UgfSA9IHRoaXMucHJvcHNcclxuXHJcbiAgICB0aGlzLmNzc0hhc2ggPSBzdHJUb0hhc2goYExpc3Qke3NtYWxsLnRvU3RyaW5nKCl9YClcclxuXHJcbiAgICBjb25zdCBzdHlsZXMgPSBgXHJcbiAgICAgIC5saXN0LSR7dGhpcy5jc3NIYXNofSB1bCB7XHJcbiAgICAgICAgbWFyZ2luOiAwcHg7XHJcbiAgICAgICAgcGFkZGluZzogOHB4IDE2cHg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5saXN0LSR7dGhpcy5jc3NIYXNofSB1bCBsaSB7XHJcbiAgICAgICAgbGlzdC1zdHlsZTogbm9uZTtcclxuICAgICAgICBtaW4taGVpZ2h0OiAke3NtYWxsID8gMzIgOiA0Nn1weDtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAgbWFyZ2luOiAwcHggLTE2cHg7XHJcbiAgICAgICAgcGFkZGluZzogMHB4IDE2cHg7XHJcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAubGlzdC0ke3RoaXMuY3NzSGFzaH0gdWwgbGkgc3BhbiB7XHJcbiAgICAgICAgZm9udC1zaXplOiAxNnB4O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAubGlzdC0ke3RoaXMuY3NzSGFzaH0gdWwgbGk6aG92ZXIgIHtcclxuICAgICAgICBiYWNrZ3JvdW5kOiMwMDAwMDAxMFxyXG4gICAgICB9ICAgIFxyXG4gICAgYFxyXG5cclxuICAgIGFkZFN0eWxlc1RvSGVhZChzdHlsZXMsIHRoaXMuY3NzSGFzaClcclxuXHJcbiAgICBjb25zdCB1bCA9IGgoJ3VsJywgbnVsbCwgdGhpcy5wcm9wcy5jaGlsZHJlbilcclxuICAgIHJldHVybiBoKCdkaXYnLCB7IGNsYXNzOiBgbGlzdC0ke3RoaXMuY3NzSGFzaH1gIH0sIHVsKVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBoLCByZW1vdmVBbGxDaGlsZE5vZGVzLCByZW5kZXIgfSBmcm9tICcuLi9jb3JlJ1xyXG5pbXBvcnQgeyBib3hTaGFkb3csIHpJbmRleCB9IGZyb20gJy4vX2NvbmZpZydcclxuaW1wb3J0IHsgYWRkU3R5bGVzVG9IZWFkIH0gZnJvbSAnLi9faGVscGVycydcclxuXHJcbmludGVyZmFjZSBNZW51T3B0aW9ucyB7XHJcbiAgcG9zaXRpb246IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfVxyXG4gIGxpc3Q6IGFueVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgTWVudSB7XHJcbiAgZGVmYXVsdFBhcmVudElkID0gJ21lbnVfaXRlbXNfY29udGFpbmVyJ1xyXG4gIGNzc0hhc2ggPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSlcclxuXHJcbiAgZGlkVW5tb3VudCgpIHtcclxuICAgIGNvbnN0IGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtY3NzLWhhc2gqPVwiJHt0aGlzLmNzc0hhc2h9XCJdYClcclxuICAgIGlmIChlbCkgZWwucmVtb3ZlKClcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0UGFyZW50RWxlbWVudChpZDogc3RyaW5nKSB7XHJcbiAgICAvLyBkZWxldGUgYWxsIG90aGVyXHJcbiAgICBjb25zdCBvdGhlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBbaWRePVwiJHt0aGlzLmRlZmF1bHRQYXJlbnRJZH1cIl1gKVxyXG4gICAgb3RoZXJzLmZvckVhY2goZSA9PiB7XHJcbiAgICAgIGUucmVtb3ZlKClcclxuICAgIH0pXHJcblxyXG4gICAgbGV0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7dGhpcy5kZWZhdWx0UGFyZW50SWR9LSR7aWR9YClcclxuICAgIGlmICghZWwpIHtcclxuICAgICAgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gICAgICBlbC5pZCA9IGAke3RoaXMuZGVmYXVsdFBhcmVudElkfS0ke2lkfWBcclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVBbGxDaGlsZE5vZGVzKGVsKVxyXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbClcclxuXHJcbiAgICByZXR1cm4gZWxcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgcmVtb3ZlQWxsQ2hpbGROb2Rlcyh0aGlzLmdldFBhcmVudEVsZW1lbnQodGhpcy5jc3NIYXNoKSlcclxuICB9XHJcblxyXG4gIG9wZW4obWVudU9wdGlvbnM6IE1lbnVPcHRpb25zKSB7XHJcbiAgICBjb25zdCB7IHBvc2l0aW9uLCBsaXN0IH0gPSBtZW51T3B0aW9uc1xyXG5cclxuICAgIC8vIGNoZWNrIGluIHdoaWNoIGNvcm5lciB0aGUgbWVudSBhcHBlYXJzIGFuZCBhZGp1c3QgZml4ZWQgcG9zaXRpb24uXHJcbiAgICBjb25zdCBsZWZ0ID0gcG9zaXRpb24ueCA8IHdpbmRvdy5pbm5lcldpZHRoIC8gMiA/ICdsZWZ0JyA6ICdyaWdodCdcclxuICAgIGNvbnN0IHRvcCA9IHBvc2l0aW9uLnkgPCB3aW5kb3cuaW5uZXJIZWlnaHQgLyAyID8gJ3RvcCcgOiAnYm90dG9tJ1xyXG5cclxuICAgIGNvbnN0IHN0eWxlcyA9IGBcclxuICAgXHJcbiAgICAjbWVudV9pdGVtc19iYWNrZ3JvdW5kLSR7dGhpcy5jc3NIYXNofSB7XHJcbiAgICAgIHdpZHRoOiAxMDB2dztcclxuICAgICAgaGVpZ2h0OiAxMDB2aDtcclxuICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XHJcbiAgICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgICAgdG9wOiAwO1xyXG4gICAgICBsZWZ0OiAwO1xyXG4gICAgICB6LWluZGV4OiAke3pJbmRleC5tZW51fSAgICAgIFxyXG4gICAgfVxyXG4gICBcclxuICAgICNtZW51X2l0ZW1zX2xpc3QtJHt0aGlzLmNzc0hhc2h9IHtcclxuICAgICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcclxuICAgICAgXHJcbiAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgICAgbWluLXdpZHRoOiAxMTJweDtcclxuXHJcbiAgICAgICR7dG9wfTogJHtwb3NpdGlvbi55ID4gd2luZG93LmlubmVySGVpZ2h0IC8gMiA/IHdpbmRvdy5pbm5lckhlaWdodCAtIHBvc2l0aW9uLnkgOiBwb3NpdGlvbi55fXB4O1xyXG4gICAgICAke2xlZnR9OiAke3Bvc2l0aW9uLnggPiB3aW5kb3cuaW5uZXJXaWR0aCAvIDIgPyB3aW5kb3cuaW5uZXJXaWR0aCAtIHBvc2l0aW9uLnggOiBwb3NpdGlvbi54fXB4O1xyXG5cclxuICAgICAgei1pbmRleDogJHt6SW5kZXgubWVudX1cclxuXHJcbiAgICAgICR7Ym94U2hhZG93fVxyXG4gICAgfVxyXG5cclxuICAgIGBcclxuICAgIC8vIHJlbW92ZSBvbGQgc3R5bGVzXHJcbiAgICBjb25zdCBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWNzcy1oYXNoKj1cIiR7dGhpcy5jc3NIYXNofVwiXWApXHJcbiAgICBpZiAoZWwpIGVsLnJlbW92ZSgpXHJcblxyXG4gICAgLy8gYWRkIG5ldyBzdHlsZXNcclxuICAgIGFkZFN0eWxlc1RvSGVhZChzdHlsZXMsIHRoaXMuY3NzSGFzaClcclxuXHJcbiAgICBjb25zdCBpdGVtc0xpc3QgPSBoKCdkaXYnLCB7IGlkOiBgbWVudV9pdGVtc19saXN0LSR7dGhpcy5jc3NIYXNofWAgfSwgbGlzdClcclxuICAgIGNvbnN0IGl0ZW1zQmcgPSBoKCdkaXYnLCB7IG9uQ2xpY2s6ICgpID0+IHRoaXMuY2xvc2UoKSwgaWQ6IGBtZW51X2l0ZW1zX2JhY2tncm91bmQtJHt0aGlzLmNzc0hhc2h9YCB9LCBpdGVtc0xpc3QpXHJcblxyXG4gICAgaXRlbXNMaXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGU6IEV2ZW50KSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpKVxyXG5cclxuICAgIHRoaXMuZ2V0UGFyZW50RWxlbWVudCh0aGlzLmNzc0hhc2gpLmFwcGVuZENoaWxkKHJlbmRlcihpdGVtc0JnKSlcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgaCB9IGZyb20gJy4uL2NvcmUnXHJcbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJy4uL2NvbXBvbmVudCdcclxuaW1wb3J0IHsgYm94U2hhZG93LCB6SW5kZXggfSBmcm9tICcuL19jb25maWcnXHJcbmltcG9ydCB7IEljb24gfSBmcm9tICcuL2ljb24nXHJcblxyXG5pbnRlcmZhY2UgTmF2aWdhdGlvblByb3BzIHtcclxuICBwYXJlbnRJZD86IHN0cmluZ1xyXG4gIGNoaWxkcmVuPzogQ29tcG9uZW50PGFueT5bXVxyXG59XHJcblxyXG5pbnRlcmZhY2UgQWN0aW9uUHJvcHMge1xyXG4gIGlkPzogc3RyaW5nXHJcbiAgbGFiZWw6IHN0cmluZ1xyXG4gIGFjdGl2ZT86IGJvb2xlYW5cclxuICBpY29uPzogYW55XHJcbiAgbGluaz86IHN0cmluZ1xyXG4gIG9uQ2xpY2s/OiAoZTogeyBpZDogc3RyaW5nOyBsYWJlbDogc3RyaW5nOyBjb21wb25lbnQ6IE5hdmlnYXRpb25BY3Rpb247IG5hdmlnYXRlOiBib29sZWFuIH0pID0+IHZvaWRcclxufVxyXG5cclxuY29uc3QgY2xhc3NlcyA9IHtcclxuICBsYWJlbDogJ2JvdHRvbV9uYXZpZ2F0aW9uX2xhYmVsJyxcclxuICBhY3Rpb246ICdib3R0b21fbmF2aWdhdGlvbl9hY3Rpb24nLFxyXG4gIGlkUHJlZml4OiAnYm90dG9tX25hdmlnYXRpb25fYWN0aW9uX2lkLScsXHJcbiAgaW5hY3RpdmU6ICdib3R0b21fbmF2aWdhdGlvbl9hY3Rpb25faW5hY3RpdmUnLFxyXG4gIGluaXRpYWxBY3RpdmU6ICdib3R0b21fbmF2aWdhdGlvbl9sYWJlbF9pbml0aWFsX2FjdGl2ZSdcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIE5hdmlnYXRpb25BY3Rpb24gZXh0ZW5kcyBDb21wb25lbnQ8QWN0aW9uUHJvcHM+IHtcclxuICB3aWxsTW91bnQoKSB7XHJcbiAgICB0aGlzLmlkID0gdGhpcy5wcm9wcy5pZCA/PyB0aGlzLnByb3BzLmxhYmVsLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxzL2dtLCAnLScpLnJlcGxhY2UoL1stXSsvZ20sICctJylcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIGNvbnN0IGxhYmVsID0gaCgnc3BhbicsIHsgY2xhc3M6IGNsYXNzZXMubGFiZWwgfSwgdGhpcy5wcm9wcy5sYWJlbClcclxuXHJcbiAgICBjb25zdCBhY3Rpb25DbGFzc2VzID0gW2NsYXNzZXMuYWN0aW9uXVxyXG4gICAgY29uc29sZS5sb2codGhpcy5wcm9wcy5hY3RpdmUpXHJcbiAgICBpZiAodGhpcy5wcm9wcy5hY3RpdmUpIGFjdGlvbkNsYXNzZXMucHVzaChjbGFzc2VzLmluaXRpYWxBY3RpdmUpXHJcbiAgICBlbHNlIGFjdGlvbkNsYXNzZXMucHVzaChjbGFzc2VzLmluYWN0aXZlKVxyXG5cclxuICAgIHJldHVybiBoKFxyXG4gICAgICAnZGl2JyxcclxuICAgICAge1xyXG4gICAgICAgIGlkOiBgJHtjbGFzc2VzLmlkUHJlZml4fSR7dGhpcy5pZH1gLFxyXG4gICAgICAgIGNsYXNzOiBhY3Rpb25DbGFzc2VzLmpvaW4oJyAnKSxcclxuICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICBpZiAodGhpcy5wcm9wcy5saW5rKSB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHRoaXMucHJvcHMubGlua1xyXG4gICAgICAgICAgdGhpcy5wcm9wcy5vbkNsaWNrPy4oeyBuYXZpZ2F0ZTogISF0aGlzLnByb3BzLmxpbmssIGlkOiB0aGlzLmlkLCBsYWJlbDogdGhpcy5wcm9wcy5sYWJlbCwgY29tcG9uZW50OiB0aGlzIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICB0aGlzLnByb3BzLmljb24gPyBoKEljb24sIHsgc2l6ZTogMjIsIHN0eWxlOiAnbWFyZ2luLWJvdHRvbTogMnB4OycsIHNyYzogdGhpcy5wcm9wcy5pY29uIH0pIDogbnVsbCxcclxuICAgICAgbGFiZWxcclxuICAgIClcclxuICB9XHJcbn1cclxuZXhwb3J0IGNsYXNzIE5hdmlnYXRpb24gZXh0ZW5kcyBDb21wb25lbnQ8TmF2aWdhdGlvblByb3BzPiB7XHJcbiAgZGlkTW91bnQoKSB7XHJcbiAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMucHJvcHMuY2hpbGRyZW4gYXMgQ29tcG9uZW50PEFjdGlvblByb3BzPltdXHJcblxyXG4gICAgY2hpbGRyZW4uZm9yRWFjaChjID0+IHtcclxuICAgICAgYy5wcm9wcy5vbkNsaWNrID0gZSA9PiB7XHJcbiAgICAgICAgaWYgKGUubmF2aWdhdGUpIHJldHVyblxyXG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgW2lkXj1cIiR7Y2xhc3Nlcy5pZFByZWZpeH1cIl1gKVxyXG4gICAgICAgIGVsZW1lbnRzLmZvckVhY2goZWwgPT4ge1xyXG4gICAgICAgICAgaWYgKGVsLmlkID09PSBgJHtjbGFzc2VzLmlkUHJlZml4fSR7ZS5pZH1gKSBlbC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzZXMuaW5hY3RpdmUpXHJcbiAgICAgICAgICBlbHNlIGVsLmNsYXNzTGlzdC5hZGQoY2xhc3Nlcy5pbmFjdGl2ZSlcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgY29uc3QgY29sb3JzID0ge1xyXG4gICAgICBhY3RpdmU6ICcjNjIwNEVFJyxcclxuICAgICAgaW5hY3RpdmU6ICcjMDAwMDAwNzAnXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgc3R5bGVzID0gYFxyXG4gICAgICAjYm90dG9tX25hdmlnYXRpb25fY29udGFpbmVyIHtcclxuXHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbiAgICAgICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgICAgIGJvdHRvbTogMDtcclxuICAgICAgICBsZWZ0OiAwO1xyXG4gICAgICAgIHdpZHRoOiAxMDB2dztcclxuICAgICAgICBtaW4taGVpZ2h0OiA1NnB4O1xyXG5cclxuICAgICAgICB6LWluZGV4OiAke3pJbmRleC5uYXZpZ2F0aW9ufVxyXG5cclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgICAgIFxyXG4gICAgICAgICR7Ym94U2hhZG93fVxyXG4gICAgICB9IFxyXG5cclxuICAgICAgI2JvdHRvbV9uYXZpZ2F0aW9uX2NvbnRhaW5lciAuYm90dG9tX25hdmlnYXRpb25fbGFiZWwge1xyXG4gICAgICAgIHRyYW5zaXRpb246IGZvbnQtc2l6ZSAwLjJzO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAjYm90dG9tX25hdmlnYXRpb25fY29udGFpbmVyIC5ib3R0b21fbmF2aWdhdGlvbl9sYWJlbF9pbml0aWFsX2FjdGl2ZSAuYm90dG9tX25hdmlnYXRpb25fbGFiZWx7XHJcbiAgICAgICAgYW5pbWF0aW9uLW5hbWU6IGJvdHRvbV9uYXZpZ2F0aW9uX2xhYmVsX2ZvbnRzaXplO1xyXG4gICAgICAgIGFuaW1hdGlvbi1kdXJhdGlvbjogMC4ycztcclxuICAgICAgfVxyXG5cclxuICAgICAgQGtleWZyYW1lcyBib3R0b21fbmF2aWdhdGlvbl9sYWJlbF9mb250c2l6ZSB7XHJcbiAgICAgICAgZnJvbSB7Zm9udC1zaXplOiAxMnB4O31cclxuICAgICAgICB0byB7Zm9udC1zaXplOiAxNHB4O31cclxuICAgICAgfVxyXG5cclxuICAgICAgI2JvdHRvbV9uYXZpZ2F0aW9uX2NvbnRhaW5lciAuYm90dG9tX25hdmlnYXRpb25fYWN0aW9uIHtcclxuICAgICAgICBjb2xvcjogJHtjb2xvcnMuYWN0aXZlfTtcclxuICAgICAgICBmb250LXNpemU6IDE0cHg7XHJcblxyXG4gICAgICAgIG1pbi13aWR0aDogODBweDtcclxuICAgICAgICBtYXgtd2lkdGg6IDE2OHB4O1xyXG4gICAgICAgIGZsZXgtZ3JvdzogMTtcclxuXHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcblxyXG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgfVxyXG5cclxuICAgICAgI2JvdHRvbV9uYXZpZ2F0aW9uX2NvbnRhaW5lciAuYm90dG9tX25hdmlnYXRpb25fYWN0aW9uX2luYWN0aXZle1xyXG4gICAgICAgIGNvbG9yOiAke2NvbG9ycy5pbmFjdGl2ZX07XHJcbiAgICAgICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAjYm90dG9tX25hdmlnYXRpb25fY29udGFpbmVyIC5ib3R0b21fbmF2aWdhdGlvbl9hY3Rpb25faW5hY3RpdmUgaSB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHtjb2xvcnMuaW5hY3RpdmV9XHJcbiAgICAgIH1cclxuICAgIGBcclxuXHJcbiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGgoJ3N0eWxlJywge30sIHN0eWxlcykpXHJcblxyXG4gICAgY29uc3QgeyBwYXJlbnRJZCwgY2hpbGRyZW4gfSA9IHRoaXMucHJvcHNcclxuXHJcbiAgICBjb25zdCBuYXZpZ2F0aW9uID0gaCgnZGl2JywgeyBpZDogJ2JvdHRvbV9uYXZpZ2F0aW9uX2NvbnRhaW5lcicgfSwgY2hpbGRyZW4pXHJcblxyXG4gICAgaWYgKHBhcmVudElkKSB7XHJcbiAgICAgIGNvbnN0IHBhcmVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBhcmVudElkKVxyXG4gICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKG5hdmlnYXRpb24pXHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbmF2aWdhdGlvblxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBoIH0gZnJvbSAnLi4vY29yZSdcclxuaW1wb3J0IHsgYm94U2hhZG93LCB6SW5kZXggfSBmcm9tICcuL19jb25maWcnXHJcblxyXG4vLyBzbmFja2JhciBqdXN0IGxpa2UganVzdCBsaWtlOiBodHRwczovL21hdGVyaWFsLmlvL2NvbXBvbmVudHMvc25hY2tiYXJzXHJcblxyXG4vKlxyXG5IT1cgVE8gVVNFOlxyXG5cclxuY29uc3QgQnV0dG9uID0gKF9wcm9wczogYW55KSA9PiB7XHJcbiAgY29uc3Qgc25hY2tiYXIgPSBuZXcgU25hY2tiYXIoKVxyXG5cclxuICBjb25zdCBvbmNsaWNrSGFuZGxlciA9ICgpID0+IHtcclxuICAgIHNuYWNrYmFyLnNob3coeyBtZXNzYWdlOiAnSGVsbG8gU25hY2shICcgfSwgKGV2ZW50KSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGV2ZW50KVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHJldHVybiA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IG9uY2xpY2tIYW5kbGVyKCl9PmNsaWNrIG1lPC9idXR0b24+XHJcbn1cclxuICovXHJcblxyXG50eXBlIE1pbGxpc2Vjb25kcyA9IG51bWJlclxyXG5cclxuaW50ZXJmYWNlIFNuYWNrYmFyQWN0aW9uIHtcclxuICBuYW1lOiBzdHJpbmdcclxuICBpZD86IHN0cmluZyB8IG51bWJlclxyXG4gIGNvbG9yPzogc3RyaW5nXHJcbn1cclxuXHJcbmludGVyZmFjZSBTbmFja2JhckFjdGlvbkV2ZW50IHtcclxuICBhY3Rpb246IHN0cmluZ1xyXG59XHJcblxyXG5pbnRlcmZhY2UgU25hY2tiYXJPcHRpb25zIHtcclxuICBtZXNzYWdlPzogc3RyaW5nXHJcbiAgYWN0aW9ucz86IFNuYWNrYmFyQWN0aW9uW11cclxuICBvbkFjdGlvbj86ICgpID0+IFNuYWNrYmFyQWN0aW9uRXZlbnRcclxuICBhdXRvSGlkZT86IGJvb2xlYW4gfCBNaWxsaXNlY29uZHNcclxuICBwYXJlbnRJZD86IHN0cmluZ1xyXG4gIG9mZnNldFk/OiBudW1iZXJcclxuICBjb25zZWN1dGl2ZT86IGJvb2xlYW5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFNuYWNrYmFyIHtcclxuICBkZWZhdWx0UGFyZW50SWQgPSAnc25hY2tiYXJfY29udGFpbmVyJ1xyXG4gIGRlZmF1bHRBY3Rpb25Db2xvciA9ICcjQkM4NkZDJ1xyXG5cclxuICBjb25zdHJ1Y3RvcihwdWJsaWMgb3B0aW9uczogU25hY2tiYXJPcHRpb25zID0ge30pIHtcclxuICAgIGNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xyXG4gICAgICBtZXNzYWdlOiAnSGVsbG8gU25hY2shJyxcclxuICAgICAgYWN0aW9uczogW3sgbmFtZTogJ0Rpc21pc3MnLCBjb2xvcjogdGhpcy5kZWZhdWx0QWN0aW9uQ29sb3IgfV0sXHJcbiAgICAgIGF1dG9IaWRlOiB0cnVlLFxyXG4gICAgICBjb25zZWN1dGl2ZTogdHJ1ZSxcclxuICAgICAgb2Zmc2V0WTogMFxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMub3B0aW9ucyA9IHsgLi4uZGVmYXVsdE9wdGlvbnMsIC4uLm9wdGlvbnMgfVxyXG5cclxuICAgIC8vIHN0eWxlc1xyXG4gICAgY29uc3Qgc3R5bGVzID0gYFxyXG4gICAgICAjc25hY2tiYXJfY29udGFpbmVyIHsgICAgXHJcbiAgICAgICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgICAgIGJvdHRvbTogJHt0aGlzLm9wdGlvbnMub2Zmc2V0WX1weDtcclxuICAgICAgICBsZWZ0OiAwcHg7XHJcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgICAgICB6LWluZGV4OiAke3pJbmRleC5zbmFja2Jhcn1cclxuICAgICAgfVxyXG5cclxuICAgICAgI3NuYWNrYmFyX2NvbnRhaW5lciAuc25hY2tiYXJfc25hY2sge1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMzMjMyMzI7XHJcblxyXG4gICAgICAgIHBhZGRpbmc6IDE2cHggMTZweCAxNnB4IDE2cHg7XHJcbiAgICAgICAgbWFyZ2luOiAwcHggOHB4IDhweCA4cHg7XHJcblxyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgICAgICB3aWR0aDogMzQ0cHg7XHJcbiAgICAgICAgbWF4LXdpZHRoOiBjYWxjKDEwMHZ3IC0gMTZweCk7XHJcbiAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICAgICAgICBoZWlnaHQ6IGZpdC1jb250ZW50O1xyXG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XHJcblxyXG4gICAgICAgICR7Ym94U2hhZG93fVxyXG5cclxuICAgICAgICBhbmltYXRpb24tbmFtZTogc25hY2tiYXItZmFkZWluO1xyXG4gICAgICAgIGFuaW1hdGlvbi1kdXJhdGlvbjogMC4ycztcclxuXHJcbiAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjJzO1xyXG4gICAgICAgIG9wYWNpdHk6IDE7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICNzbmFja2Jhcl9jb250YWluZXIgLnNuYWNrYmFyX3NuYWNrX2ZhZGVvdXQge1xyXG4gICAgICAgIG9wYWNpdHk6IDA7XHJcbiAgICAgIH0gXHJcblxyXG4gICAgICAjc25hY2tiYXJfY29udGFpbmVyIC5zbmFja2Jhcl9zbmFjayAuc25hY2tiYXJfbWVzc2FnZSB7XHJcbiAgICAgICAgY29sb3I6ICNERkRGREY7XHJcbiAgICAgICAgZm9udC1zaXplOiAxNnB4O1xyXG4gICAgICAgIGFsaWduLXNlbGY6IGNlbnRlcjtcclxuICAgICAgfVxyXG5cclxuICAgICAgI3NuYWNrYmFyX2NvbnRhaW5lciAuc25hY2tiYXJfc25hY2sgLnNuYWNrYmFyX2FjdGlvbnMge1xyXG4gICAgICAgIGFsaWduLXNlbGY6IGNlbnRlcjtcclxuICAgICAgfVxyXG5cclxuICAgICAgI3NuYWNrYmFyX2NvbnRhaW5lciAuc25hY2tiYXJfc25hY2sgLnNuYWNrYmFyX2FjdGlvbiB7XHJcbiAgICAgICAgZm9udC1zaXplOiAxNnB4O1xyXG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgICBwYWRkaW5nOiA4cHg7XHJcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAtOHB4O1xyXG4gICAgICB9XHJcblxyXG4gICAgICBAa2V5ZnJhbWVzIHNuYWNrYmFyLWZhZGVpbiB7XHJcbiAgICAgICAgZnJvbSB7b3BhY2l0eTogMDt9XHJcbiAgICAgICAgdG8ge29wYWNpdHk6IDE7fVxyXG4gICAgICB9XHJcbiAgICBgXHJcblxyXG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChoKCdzdHlsZScsIHt9LCBzdHlsZXMpKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRQYXJlbnRFbGVtZW50KHBhcmVudElkOiBzdHJpbmcpIHtcclxuICAgIGxldCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBhcmVudElkIHx8IHRoaXMuZGVmYXVsdFBhcmVudElkKVxyXG4gICAgaWYgKCFlbCkge1xyXG4gICAgICBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgICAgIGVsLmlkID0gdGhpcy5kZWZhdWx0UGFyZW50SWRcclxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbClcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZWxcclxuICB9XHJcblxyXG4gIHB1YmxpYyByZW1vdmUoZWw6IEhUTUxFbGVtZW50KSB7XHJcbiAgICBlbC5jbGFzc0xpc3QuYWRkKCdzbmFja2Jhcl9zbmFja19mYWRlb3V0JylcclxuICAgIHNldFRpbWVvdXQoKCkgPT4gZWwucmVtb3ZlKCksIDIwMClcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzaG93KG9wdGlvbnM6IFNuYWNrYmFyT3B0aW9ucyB8IG51bGwsIGNhbGxiYWNrOiAoZXZlbnQ6IHsgbmFtZTogc3RyaW5nOyBpZDogc3RyaW5nIHwgbnVtYmVyIH0pID0+IHZvaWQpIHtcclxuICAgIGlmICh0aGlzLm9wdGlvbnMuY29uc2VjdXRpdmUpIHtcclxuICAgICAgY29uc3Qgc25hY2tzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNuYWNrYmFyX3NuYWNrJykgYXMgTm9kZUxpc3RPZjxIVE1MRWxlbWVudD5cclxuICAgICAgc25hY2tzLmZvckVhY2gocyA9PiB0aGlzLnJlbW92ZShzKSlcclxuICAgICAgaWYgKHNuYWNrcy5sZW5ndGggPiAwKSBzZXRUaW1lb3V0KCgpID0+IHRoaXMuX3Nob3cob3B0aW9ucywgY2FsbGJhY2spLCAyMDAgKyAyMClcclxuICAgICAgZWxzZSB0aGlzLl9zaG93KG9wdGlvbnMsIGNhbGxiYWNrKVxyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl9zaG93KG9wdGlvbnMsIGNhbGxiYWNrKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfc2hvdyhvcHRpb25zOiBTbmFja2Jhck9wdGlvbnMgfCBudWxsLCBjYWxsYmFjazogKGV2ZW50OiB7IG5hbWU6IHN0cmluZzsgaWQ6IHN0cmluZyB8IG51bWJlciB9KSA9PiB2b2lkKSB7XHJcbiAgICBvcHRpb25zID0geyAuLi50aGlzLm9wdGlvbnMsIC4uLm9wdGlvbnMgfVxyXG5cclxuICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuZ2V0UGFyZW50RWxlbWVudChvcHRpb25zLnBhcmVudElkIHx8IHRoaXMuZGVmYXVsdFBhcmVudElkKVxyXG5cclxuICAgIGNvbnN0IFNuYWNrID0gKF9tZXNzYWdlOiBzdHJpbmcsIF9hY3Rpb25zOiBhbnkpID0+IHtcclxuICAgICAgY29uc3QgYWN0aW9uc0FycmF5ID0gX2FjdGlvbnMubWFwKChhY3Rpb246IGFueSkgPT4ge1xyXG4gICAgICAgIHJldHVybiBoKFxyXG4gICAgICAgICAgJ2EnLFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBjbGFzczogJ3NuYWNrYmFyX2FjdGlvbicsXHJcbiAgICAgICAgICAgIHN0eWxlOiBgY29sb3I6ICR7YWN0aW9uLmNvbG9yIHx8IHRoaXMuZGVmYXVsdEFjdGlvbkNvbG9yfWAsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICBjYWxsYmFjayh7IG5hbWU6IGFjdGlvbi5uYW1lLCBpZDogYWN0aW9uLmlkIH0pXHJcbiAgICAgICAgICAgICAgdGhpcy5yZW1vdmUoZWwpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBhY3Rpb24ubmFtZS50b1VwcGVyQ2FzZSgpXHJcbiAgICAgICAgKVxyXG4gICAgICB9KVxyXG4gICAgICBjb25zdCBtZXNzYWdlID0gaCgnZGl2JywgeyBjbGFzczogJ3NuYWNrYmFyX21lc3NhZ2UnIH0sIF9tZXNzYWdlKVxyXG4gICAgICBjb25zdCBhY3Rpb25zID0gaCgnZGl2JywgeyBjbGFzczogJ3NuYWNrYmFyX2FjdGlvbnMnIH0sIGFjdGlvbnNBcnJheSlcclxuICAgICAgY29uc3Qgc25hY2sgPSBoKCdkaXYnLCB7IGNsYXNzOiAnc25hY2tiYXJfc25hY2snIH0sIG1lc3NhZ2UsIGFjdGlvbnMpXHJcbiAgICAgIHJldHVybiBzbmFja1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGVsID0gU25hY2sob3B0aW9ucy5tZXNzYWdlIGFzIHN0cmluZywgb3B0aW9ucy5hY3Rpb25zIHx8IFtdKSBhcyBIVE1MRWxlbWVudFxyXG5cclxuICAgIC8vIGF1dG9IaWRlIG9wdGlvbnNcclxuICAgIGlmIChvcHRpb25zLmF1dG9IaWRlID09PSB0cnVlKSBzZXRUaW1lb3V0KCgpID0+IHRoaXMucmVtb3ZlKGVsKSwgNTAwMClcclxuICAgIGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zLmF1dG9IaWRlID09PSAnbnVtYmVyJykgc2V0VGltZW91dCgoKSA9PiB0aGlzLnJlbW92ZShlbCksIG9wdGlvbnMuYXV0b0hpZGUpXHJcblxyXG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGVsKVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICcuLi9jb21wb25lbnQnXHJcbmltcG9ydCB7IGgsIHJlbmRlciwgc3RyVG9IYXNoLCB0aWNrIH0gZnJvbSAnLi4vY29yZSdcclxuaW1wb3J0IHsgcmlwcGxlRWZmZWN0LCB1c2VyU2VsZWN0IH0gZnJvbSAnLi9fY29uZmlnJ1xyXG5pbXBvcnQgeyBhZGRTdHlsZXNUb0hlYWQgfSBmcm9tICcuL19oZWxwZXJzJ1xyXG5cclxuaW50ZXJmYWNlIFRhYnNQcm9wcyB7XHJcbiAgYWN0aXZlPzogbnVtYmVyXHJcbiAgc2Nyb2xsPzogYm9vbGVhblxyXG4gIGNoaWxkcmVuPzogYW55W11cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IFRhYiA9IChwcm9wczogYW55KSA9PiB7XHJcbiAgY29uc3QgY2xhc3NlcyA9IFtwcm9wcy5pdGVtQ2xhc3MsIHByb3BzLnJpcHBsZUNsYXNzXVxyXG4gIGlmIChwcm9wcy5hY3RpdmUpIGNsYXNzZXMucHVzaCgnYWN0aXZlJylcclxuXHJcbiAgY29uc3QgbGluayA9IHByb3BzLmhyZWYgPyB7IGhyZWY6IHByb3BzLmhyZWYgfSA6IHt9XHJcblxyXG4gIGNvbnN0IGEgPSBoKCdhJywgeyAuLi5saW5rIH0sIHByb3BzLmNoaWxkcmVuKVxyXG4gIHJldHVybiBoKCdsaScsIHsgY2xhc3M6IGNsYXNzZXMuam9pbignICcpIH0sIGEpXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBUYWJzIGV4dGVuZHMgQ29tcG9uZW50PFRhYnNQcm9wcz4ge1xyXG4gIGxpbmU6IEhUTUxFbGVtZW50XHJcbiAgaXRlbXM6IEhUTUxFbGVtZW50W11cclxuICBhY3RpdmUgPSB0aGlzLnByb3BzLmFjdGl2ZSB8fCAwXHJcblxyXG4gIGRpZE1vdW50KCkge1xyXG4gICAgY29uc3QgYWRqdXN0TGluZSA9IChpdGVtOiBIVE1MRWxlbWVudCkgPT4ge1xyXG4gICAgICBpZiAoIWl0ZW0pIHJldHVyblxyXG4gICAgICBjb25zdCBmaXJzdCA9IHRoaXMuaXRlbXNbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcclxuICAgICAgY29uc3QgYWN0aXZlID0gaXRlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxyXG5cclxuICAgICAgdGhpcy5saW5lLnN0eWxlLmxlZnQgPSBgJHthY3RpdmUueCAtIGZpcnN0Lnh9cHhgXHJcbiAgICAgIHRoaXMubGluZS5zdHlsZS53aWR0aCA9IGAke2FjdGl2ZS53aWR0aH1weGBcclxuXHJcbiAgICAgIC8vIGRpc2FibGUgb2xkXHJcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YWJzX2l0ZW0uYWN0aXZlJyk/LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcblxyXG4gICAgICAvLyBlbmFibGUgbmV3XHJcbiAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBzY3JvbGxJbnRvVmlldyA9IChpdGVtOiBIVE1MRWxlbWVudCkgPT4ge1xyXG4gICAgICBpZiAoIXRoaXMucHJvcHMuc2Nyb2xsKSByZXR1cm5cclxuXHJcbiAgICAgIGl0ZW0uc2Nyb2xsSW50b1ZpZXcoe1xyXG4gICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJyxcclxuICAgICAgICBibG9jazogJ2NlbnRlcicsXHJcbiAgICAgICAgaW5saW5lOiAnY2VudGVyJ1xyXG4gICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHRpY2soKCkgPT4ge1xyXG4gICAgICBhZGp1c3RMaW5lKHRoaXMuaXRlbXNbdGhpcy5hY3RpdmVdKVxyXG4gICAgICBzY3JvbGxJbnRvVmlldyh0aGlzLml0ZW1zW3RoaXMuYWN0aXZlXSlcclxuICAgIH0pXHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLml0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLml0ZW1zW2ldXHJcblxyXG4gICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuYWN0aXZlID0gaVxyXG5cclxuICAgICAgICAvLyBsb29rcyBoYWNreSwgYnV0IHdvcmtzIHdlbGwgOilcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGFkanVzdExpbmUoaXRlbSksIDUwKVxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gYWRqdXN0TGluZShpdGVtKSwgMTAwKVxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gYWRqdXN0TGluZShpdGVtKSwgMTUwKVxyXG5cclxuICAgICAgICAvLyBkb2VzIG5vdCB3b3JrIGluIHNhZmFyaVxyXG4gICAgICAgIHNjcm9sbEludG9WaWV3KGl0ZW0pXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICBjb25zdCByaXBwbGUgPSByaXBwbGVFZmZlY3QoJyNmZmZmZmY3MCcsICcjNTkwMmRiJylcclxuXHJcbiAgICBjb25zdCB7IHNjcm9sbCA9IGZhbHNlLCBjaGlsZHJlbiwgYWN0aXZlIH0gPSB0aGlzLnByb3BzXHJcbiAgICBjb25zdCBjc3NIYXNoID0gc3RyVG9IYXNoKHNjcm9sbC50b1N0cmluZygpICsgY2hpbGRyZW4/Lmxlbmd0aCArIGFjdGl2ZSArIHJpcHBsZS5jbGFzcylcclxuXHJcbiAgICBjb25zdCBzdHlsZXMgPSBgXHJcbiAgICAgIC50YWJzX2NvbnRhaW5lci0ke2Nzc0hhc2h9IHtcclxuICAgICAgICBiYWNrZ3JvdW5kOiAjNjIwNGVlO1xyXG5cclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICBoZWlnaHQ6IDQ4cHg7XHJcblxyXG4gICAgICAgIG92ZXJmbG93LXg6ICR7dGhpcy5wcm9wcy5zY3JvbGwgPyAnc2Nyb2xsJyA6ICdoaWRkZW4nfTtcclxuICAgICAgICBvdmVyZmxvdy15OiBoaWRkZW47XHJcblxyXG4gICAgICAgICR7dXNlclNlbGVjdH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLyogSGlkZSBzY3JvbGxiYXIgZm9yIENocm9tZSwgU2FmYXJpIGFuZCBPcGVyYSAqL1xyXG4gICAgICAudGFic19jb250YWluZXItJHtjc3NIYXNofTo6LXdlYmtpdC1zY3JvbGxiYXIge1xyXG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8qIEhpZGUgc2Nyb2xsYmFyIGZvciBJRSwgRWRnZSBhbmQgRmlyZWZveCAqL1xyXG4gICAgICAudGFic19jb250YWluZXItJHtjc3NIYXNofSB7XHJcbiAgICAgICAgLW1zLW92ZXJmbG93LXN0eWxlOiBub25lOyAvKiBJRSBhbmQgRWRnZSAqL1xyXG4gICAgICAgIHNjcm9sbGJhci13aWR0aDogbm9uZTsgLyogRmlyZWZveCAqL1xyXG4gICAgICB9XHJcblxyXG4gICAgICAudGFic19saXN0LSR7Y3NzSGFzaH0ge1xyXG4gICAgICAgICR7IXRoaXMucHJvcHMuc2Nyb2xsID8gJ2Rpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogc3BhY2UtZXZlbmx5OycgOiAnJ31cclxuXHJcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xyXG4gICAgICAgIG1hcmdpbjogMDtcclxuICAgICAgICBwYWRkaW5nOiAwO1xyXG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLnRhYnNfaXRlbS0ke2Nzc0hhc2h9IHtcclxuICAgICAgICAkeyF0aGlzLnByb3BzLnNjcm9sbCA/ICd3aWR0aDogMTAwJTsgdGV4dC1hbGlnbjogY2VudGVyOycgOiAnJ31cclxuXHJcbiAgICAgICAgcGFkZGluZy10b3A6IDE2cHg7XHJcbiAgICAgICAgZm9udC1zaXplOiAxNHB4O1xyXG4gICAgICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XHJcbiAgICAgICAgY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC43NSk7XHJcbiAgICAgICAgdHJhbnNpdGlvbjogY29sb3IgMC4ycztcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgXHJcbiAgICAgIC50YWJzX2l0ZW0tJHtjc3NIYXNofSBhIHtcclxuICAgICAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICAgICAgcGFkZGluZzogMTZweCAzMnB4O1xyXG4gICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxuICAgICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xyXG4gICAgICAgIGNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNzUpO1xyXG4gICAgICAgIHRyYW5zaXRpb246IGNvbG9yIDAuMnM7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC50YWJzX2l0ZW0tJHtjc3NIYXNofS5hY3RpdmUgYSB7XHJcbiAgICAgICAgY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC50YWJzX2l0ZW0tJHtjc3NIYXNofTphY3RpdmUge1xyXG4gICAgICAgIGJhY2tncm91bmQ6ICM1OTAyZGI7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8qIGlmIHRoZSBwcmltYXJ5IGlucHV0IG1lY2hhbmlzbSBzeXN0ZW0gb2YgdGhlIGRldmljZSBjYW4gaG92ZXIgb3ZlciBlbGVtZW50cyB3aXRoIGVhc2UsIHdlIHVzZSBob3ZlciAqL1xyXG4gICAgICBAbWVkaWEgKGhvdmVyOiBob3Zlcikge1xyXG4gICAgICAgIC50YWJzX2l0ZW0tJHtjc3NIYXNofTpob3ZlciB7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kOiAjNTkwMmRiO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgJHtyaXBwbGUuc3R5bGVzfVxyXG5cclxuICAgICAgLnRhYnNfbGluZS0ke2Nzc0hhc2h9IHtcclxuICAgICAgICBib3JkZXItYm90dG9tOiAycHggc29saWQgd2hpdGU7XHJcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICAgIHRvcDogLTJweDtcclxuXHJcbiAgICAgICAgb3BhY2l0eTogMDtcclxuICAgICAgICBcclxuICAgICAgICBsZWZ0OiA1MCU7XHJcbiAgICAgICAgd2lkdGg6IDBweDtcclxuXHJcbiAgICAgICAgdHJhbnNpdGlvbjogbGVmdCAwLjVzLCB3aWR0aCAwLjVzO1xyXG5cclxuICAgICAgICBhbmltYXRpb24tbmFtZTogdGFic19saW5lX2ZhZGVpbjtcclxuICAgICAgICBhbmltYXRpb24tZHVyYXRpb246IDAuMjVzO1xyXG4gICAgICAgIGFuaW1hdGlvbi1kZWxheTogMC4yNXM7XHJcbiAgICAgICAgYW5pbWF0aW9uLWZpbGwtbW9kZTogZm9yd2FyZHM7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIEBrZXlmcmFtZXMgdGFic19saW5lX2ZhZGVpbiB7XHJcbiAgICAgICAgZnJvbSB7b3BhY2l0eTogMDt9XHJcbiAgICAgICAgdG8ge29wYWNpdHk6IDE7fVxyXG4gICAgICB9XHJcbiAgICAgIGBcclxuXHJcbiAgICBhZGRTdHlsZXNUb0hlYWQoc3R5bGVzLCBjc3NIYXNoKVxyXG5cclxuICAgIC8vIHNldCB0aGUgYWN0aXZlIHRhYlxyXG4gICAgdGhpcy5wcm9wcy5jaGlsZHJlbj8uZm9yRWFjaCgoYywgaSkgPT4ge1xyXG4gICAgICAvLyBpcyBhY3RpdmVcclxuICAgICAgaWYgKGkgPT09IHRoaXMuYWN0aXZlKSBjLnByb3BzID0geyAuLi5jLnByb3BzLCBhY3RpdmU6IHRydWUgfVxyXG4gICAgICAvLyBhZGQgcmlwcGxlIGNsYXNzXHJcbiAgICAgIGMucHJvcHMgPSB7IC4uLmMucHJvcHMsIHJpcHBsZUNsYXNzOiByaXBwbGUuY2xhc3MsIGl0ZW1DbGFzczogYHRhYnNfaXRlbS0ke2Nzc0hhc2h9YCB9XHJcbiAgICB9KVxyXG5cclxuICAgIHRoaXMuaXRlbXMgPSByZW5kZXIodGhpcy5wcm9wcy5jaGlsZHJlbilcclxuXHJcbiAgICBjb25zdCBsaXN0ID0gaCgndWwnLCB7IGNsYXNzOiBgdGFic19saXN0LSR7Y3NzSGFzaH1gIH0sIHRoaXMuaXRlbXMpXHJcbiAgICB0aGlzLmxpbmUgPSBoKCdkaXYnLCB7IGNsYXNzOiBgdGFic19saW5lLSR7Y3NzSGFzaH1gIH0pXHJcbiAgICBjb25zdCBjb250YWluZXIgPSBoKCdkaXYnLCB7IGNsYXNzOiBgdGFic19jb250YWluZXItJHtjc3NIYXNofWAgfSwgbGlzdCwgdGhpcy5saW5lKVxyXG5cclxuICAgIHJldHVybiBjb250YWluZXJcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tcG9uZW50J1xyXG5pbXBvcnQgeyBoIH0gZnJvbSAnLi4vY29yZSdcclxuXHJcbmNvbnN0IGNsYXNzZXMgPSB7XHJcbiAgYmFyOiAndG9vbGJhcl9jb250YWluZXInLFxyXG4gIGxlZnQ6ICd0b29sYmFyX2xlZnQnLFxyXG4gIHJpZ2h0OiAndG9vbGJhcl9yaWdodCcsXHJcbiAgaWNvbjogJ3Rvb2xiYXJfaWNvbidcclxufVxyXG5pbnRlcmZhY2UgVG9vbGJhclByb3BzIHtcclxuICBtZW51PzogYm9vbGVhblxyXG4gIGJhY2s/OiBib29sZWFuXHJcbiAgYWN0aW9uQ2xpY2s/OiBGdW5jdGlvblxyXG4gIHRpdGxlPzogc3RyaW5nXHJcbiAgY2hpbGRyZW4/OiBhbnlcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFRvb2xiYXIgZXh0ZW5kcyBDb21wb25lbnQ8VG9vbGJhclByb3BzPiB7XHJcbiAgc3RhdGljIHNldFRpdGxlKHRpdGxlOiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvb2xiYXJfdGl0bGUnKSBhcyBIVE1MRWxlbWVudFxyXG4gICAgaWYgKGVsKSBlbC5pbm5lclRleHQgPSB0aXRsZVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgY29uc3Qgc3R5bGVzID0gYFxyXG4gICAgICAudG9vbGJhcl9jb250YWluZXIge1xyXG4gICAgICAgIHBhZGRpbmc6IDE2cHg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC50b29sYmFyX2NvbnRhaW5lciAudG9vbGJhcl90ZXh0IHtcclxuICAgICAgICBmb250LXNpemU6IDIwcHg7XHJcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDI0cHg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC50b29sYmFyX2NvbnRhaW5lciAudG9vbGJhcl9pY29uIHtcclxuICAgICAgICB3aWR0aDogMjJweDtcclxuICAgICAgICBoZWlnaHQ6IDIycHg7XHJcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDI0cHg7XHJcblxyXG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgICAgICBjb250ZW50OiAnJztcclxuXHJcbiAgICAgICAgLyotd2Via2l0LW1hc2s6IHVybChZT1VSX1NWR19VUkwpIG5vLXJlcGVhdCA1MCUgNTAlO1xyXG4gICAgICAgIG1hc2s6IHVybChZT1VSX1NWR19VUkwpIG5vLXJlcGVhdCA1MCUgNTAlOyovXHJcblxyXG4gICAgICAgIC13ZWJraXQtbWFzay1zaXplOiBjb3ZlcjtcclxuICAgICAgICBtYXNrLXNpemU6IGNvdmVyOyBcclxuXHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC50b29sYmFyX25hdmlnYXRpb25fYm94IHtcclxuICAgICAgICBwYWRkaW5nOiA0cHg7XHJcbiAgICAgICAgd2lkdGg6IDIwcHg7XHJcbiAgICAgICAgaGVpZ2h0OiAxNnB4O1xyXG4gICAgICAgIG1hcmdpbi1yaWdodDogMzJweDtcclxuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC50b29sYmFyX2hhbWJ1cmdlcl9idXR0b24sXHJcbiAgICAgIC50b29sYmFyX2hhbWJ1cmdlcl9idXR0b246OmJlZm9yZSxcclxuICAgICAgLnRvb2xiYXJfaGFtYnVyZ2VyX2J1dHRvbjo6YWZ0ZXIge1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICB3aWR0aDogMjBweDtcclxuICAgICAgICBoZWlnaHQ6IDJweDtcclxuICAgICAgICBib3JkZXItcmFkaXVzOiAycHg7XHJcbiAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7XHJcbiAgICAgICAgY29udGVudDogJyc7XHJcbiAgICAgIH1cclxuICAgICAgLnRvb2xiYXJfaGFtYnVyZ2VyX2J1dHRvbjo6YmVmb3JlIHtcclxuICAgICAgICB0b3A6IDZweDtcclxuICAgICAgfVxyXG4gICAgICAudG9vbGJhcl9oYW1idXJnZXJfYnV0dG9uOjphZnRlciB7XHJcbiAgICAgICAgdG9wOiAxMnB4O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAudG9vbGJhcl9idXR0b25fd3JhcHBlciB7XHJcbiAgICAgICAgd2lkdGg6IDI0cHg7XHJcbiAgICAgICAgaGVpZ2h0OiAyNHB4O1xyXG4gICAgICAgIHBhZGRpbmc6IDJweDtcclxuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgdG9wOiAtMnB4O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAudG9vbGJhcl9iYWNrX2J1dHRvbixcclxuICAgICAgLnRvb2xiYXJfYmFja19idXR0b246OmJlZm9yZSxcclxuICAgICAgLnRvb2xiYXJfYmFja19idXR0b246OmFmdGVyIHtcclxuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgdG9wOiA3cHg7XHJcbiAgICAgICAgd2lkdGg6IDIwcHg7XHJcbiAgICAgICAgaGVpZ2h0OiAycHg7XHJcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMnB4O1xyXG4gICAgICAgIGJhY2tncm91bmQ6IHdoaXRlO1xyXG4gICAgICAgIGNvbnRlbnQ6ICcnO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAudG9vbGJhcl9iYWNrX2J1dHRvbjo6YmVmb3JlIHtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgdG9wOiAtNXB4O1xyXG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTRweCwwLDApIHJvdGF0ZSgtNDVkZWcpIHNjYWxlWCguNyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC50b29sYmFyX2JhY2tfYnV0dG9uOjphZnRlciB7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIHRvcDogNXB4O1xyXG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTRweCwwLDApIHJvdGF0ZSg0NWRlZykgc2NhbGVYKC43KTtcclxuICAgICAgfVxyXG4gICAgYFxyXG5cclxuICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoaCgnc3R5bGUnLCB7fSwgc3R5bGVzKSlcclxuXHJcbiAgICBjb25zdCB7IGJhY2sgPSBmYWxzZSwgYWN0aW9uQ2xpY2sgPSAoKSA9PiB7fSwgbWVudSB9ID0gdGhpcy5wcm9wc1xyXG5cclxuICAgIGNvbnN0IG5hdmlnYXRpb25BY3Rpb24gPSBtZW51XHJcbiAgICAgID8gaChcclxuICAgICAgICAgICdkaXYnLFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBjbGFzczogJ3Rvb2xiYXJfYnV0dG9uX3dyYXBwZXInLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiBhY3Rpb25DbGlja1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGgoJ2RpdicsIHsgY2xhc3M6ICd0b29sYmFyX2hhbWJ1cmdlcl9idXR0b24nIH0pXHJcbiAgICAgICAgKVxyXG4gICAgICA6IGJhY2tcclxuICAgICAgPyBoKFxyXG4gICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIGNsYXNzOiAndG9vbGJhcl9idXR0b25fd3JhcHBlcicsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6IGFjdGlvbkNsaWNrXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgaCgnZGl2Jywge1xyXG4gICAgICAgICAgICBjbGFzczogJ3Rvb2xiYXJfYmFja19idXR0b24nXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIClcclxuICAgICAgOiBudWxsXHJcblxyXG4gICAgY29uc3QgbmF2aWdhdGlvbiA9IG5hdmlnYXRpb25BY3Rpb24gPyBoKCdkaXYnLCB7IGNsYXNzOiAndG9vbGJhcl9uYXZpZ2F0aW9uX2JveCcgfSwgbmF2aWdhdGlvbkFjdGlvbikgOiBudWxsXHJcblxyXG4gICAgY29uc3QgdGl0bGUgPSB0aGlzLnByb3BzLnRpdGxlID8gaCgnZGl2JywgeyBjbGFzczogJ3Rvb2xiYXJfdGl0bGUnIH0sIHRoaXMucHJvcHMudGl0bGUpIDogbnVsbFxyXG5cclxuICAgIGNvbnN0IGxlZnQgPSBoKCdkaXYnLCB7IGNsYXNzOiBjbGFzc2VzLmxlZnQgfSwgbmF2aWdhdGlvbiwgdGl0bGUpXHJcbiAgICBjb25zdCByaWdodCA9IGgoJ2RpdicsIHsgY2xhc3M6IGNsYXNzZXMucmlnaHQgfSwgdGhpcy5wcm9wcy5jaGlsZHJlbilcclxuXHJcbiAgICBjb25zdCBiYXIgPSBoKCdkaXYnLCB7IGNsYXNzOiBjbGFzc2VzLmJhciB9LCBsZWZ0LCByaWdodClcclxuXHJcbiAgICByZXR1cm4gYmFyXHJcbiAgfVxyXG59XHJcbiIsIi8vIFRISVMgSVMgQU4gQVVUT0dFTkVSQVRFRCBGSUxFLiBETyBOT1QgRURJVCBUSElTIEZJTEUgRElSRUNUTFkuXG5leHBvcnQgY29uc3QgVkVSU0lPTiA9ICcwLjAuMTknXG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiIiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBpcyByZWZlcmVuY2VkIGJ5IG90aGVyIG1vZHVsZXMgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9zcmMvYnVuZGxlcy9idW5kbGUuZnVsbC50c1wiKTtcbiIsIiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==